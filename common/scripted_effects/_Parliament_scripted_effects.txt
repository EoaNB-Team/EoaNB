###################################
### PARLIAMENT SCRIPTED EFFECTS ###
###################################

	recalc_congress_icon_frames = {
		
		set_temp_variable = { senators_temp = senators_support }
		divide_temp_variable = { senators_temp = senators_total }
		multiply_temp_variable = { senators_temp = 21 }
		if = {
			limit = { check_variable = { senators_temp > 0 } }
			clamp_temp_variable = {
				var = senators_temp
				min = 1
				max = 21
			}
		}
		else = {
			set_temp_variable = { senators_temp = 1 }
		}
		set_variable = { current_senate_icon_frame = senators_temp }

		set_temp_variable = { house_temp = representatives_support }
		divide_temp_variable = { house_temp = representatives_total }
		multiply_temp_variable = { house_temp = 21 }
		if = {
			limit = { check_variable = { house_temp > 0 } }
			clamp_temp_variable = {
				var = house_temp
				min = 1
				max = 21
			}
		}
		else = {
			set_temp_variable = { house_temp = 1 }		
		}
		set_variable = { current_house_icon_frame = house_temp }
	}

	election_senate = {
		set_variable = { var = senators_for_reelection value = senators_total } #not temp because needed for events
		multiply_variable = { senators_for_reelection = 0.3 }
		multiply_variable = { senators_for_reelection = election_factor }
		add_to_variable = { senators_support = senators_for_reelection }
		round_variable = senators_support
		round_variable = senators_for_reelection
		set_variable = { sen_loc = senators_for_reelection }
		if = {
			limit = {
				check_variable = { sen_loc < 0 }
			}
			multiply_variable = { sen_loc = -1 }
		}
		clamp_variable = { var = senators_support max = senators_total min = 0 }
		recalc_congress_icon_frames = yes
	}
	election_house = {
		set_variable = { var = representatives_for_reelection value = representatives_total } #not temp because needed for events
		multiply_variable = { representatives_for_reelection = 0.5 }
		multiply_variable = { representatives_for_reelection = election_factor }
		set_variable = { representatives_support = representatives_total }
		multiply_variable = { representatives_support = 0.5 }
		add_to_variable = { representatives_support = representatives_for_reelection }
		round_variable = representatives_support
		round_variable = representatives_for_reelection
		set_variable = { ror_loc = representatives_for_reelection }
		if = {
			limit = {
				check_variable = { ror_loc < 0 }
			}
			multiply_variable = { ror_loc = -1 }
		}
		clamp_variable = { var = senators_support max = representatives_total min = 0 }
		recalc_congress_icon_frames = yes
	}

	congress_get_quorum = {
		set_variable = { var = quorum_low value = senators_total }
		multiply_variable = { var = quorum_low value = 0.4 }
		set_variable = { var = quorum_medium value = senators_total }
		multiply_variable = { var = quorum_medium value = 0.5 }
		set_variable = { var = quorum_high value = senators_total }
		multiply_variable = { var = quorum_high value = 0.6 }
		round_variable = quorum_low 
		round_variable = quorum_medium 
		round_variable = quorum_high
		recalc_congress_icon_frames = yes
	}
	congress_remove_state = {
		custom_effect_tooltip = mtg_usa_congress_remove_state_tt
		subtract_from_variable = { senators_total = 2 }
		clamp_variable = { var = senators_support max = senators_total min = 0 }
		congress_get_quorum = yes
		recalc_congress_icon_frames = yes
	}
	congress_add_state = {
		custom_effect_tooltip = mtg_usa_congress_add_state_tt
		add_to_variable = { senators_total = 2 }
		add_to_variable = { senators_support = 2 }
		congress_get_quorum = yes
		recalc_congress_icon_frames = yes
	}

# Parliament Decisions
	# Propose Decision - Will allow you to enable/setup a decision for russia's unique reform GUI
	# # set_temp_variable = { parliament_decision_token = token:<decision_token> } # token of decision
	# # set_temp_variable = { parliament_decision_lp_cost = <lp_cost> } # country must have and will spend this lp
	# # set_temp_variable = { parliament_decision_category = <category_num> } # what tab it will appear on
	# #	set_temp_variable = { parliament_decision_icon = <gfx_num_value> } # what icon the decision will recieve (GetRussianPeasantIcon) in scripted loc
	parliament_propose_decision = { 
		custom_effect_tooltip = parliament_propose_decision_tt
		set_variable = { lp_cost@var:parliament_decision_token = parliament_decision_lp_cost }
		set_variable = { icon@var:parliament_decision_token = parliament_decision_icon }
		if = {
			limit = { check_variable = { parliament_decision_category = 1 } }
			add_to_array = {
				array = parliament_decision_array_1
				value = parliament_decision_token
			}
		}
	}

	# # set_temp_variable = { mne = token:<decision_token> } # this is automatic when scoped to an array
	parliament_enact_decision = {
		# custom_effect_tooltip = mne_enact_decision_tt

		custom_effect_tooltip = AUS_multinational_empire_enact_decision_lp_cost_tt
		set_temp_variable = { lp_cost = lp_cost@var:v }
		multiply_temp_variable = { lp_cost = -1 }
		log = "[?lp_cost]"
		add_political_power = var:lp_cost

		if = {
			limit = { check_variable = { debt_cost@var:v > 0 } }
			custom_effect_tooltip = RUS_peasant_reform_enact_decision_debt_cost_tt
			# add_to_variable = { debt_level = debt_cost@var:v }
			# debt_level_checks_effect = yes
			# debt_related_country_content_effects = yes
		}

		set_variable = { clicked@var:v = 1 }

		#### DECISION EFFECTS

		#if = {
		#	limit = { check_variable = { v = token:AUS_decision_multinational_empire_test_juan } }
		##	activate_decision = AUS_decision_multinational_empire_test_juan
		#}

		#if = {
		#	limit = { check_variable = { v = token:AUS_decision_multinational_empire_test_chew } }
		#	activate_decision = AUS_decision_multinational_empire_test_chew
		#}
	}