building_bonus_weekly_effect = {
	#building boosts
	### if you want to add more (see /common/scripted_triggers/00_pulse_triggers.txt for all possible boost variables),
	### copy one bonus-block and change the variables accordingly
	### to get the id of a building look inside /common/buildings/00_buildings.txt
	if = {
		#does not apply to countries without the bonus variables because of performance reasons
		limit = {
			building_total_bonus_present_any = yes
		}

		#civ bonus
		if = {
			limit = { has_variable = civ_total_bonus }
			set_temp_variable = { b_total = 0 }
			every_owned_state = {
				add_to_temp_variable = { b_total = building_level@industrial_complex }
			}
			if = {
				limit = { check_variable = { var = b_total value = civ_total_bonus } }
				clear_variable = civ_total_bonus
			}
		}

		#mil bonus
		if = {
			limit = { has_variable = mil_total_bonus }
			set_temp_variable = { b_total = 0 }
			every_owned_state = {
				add_to_temp_variable = { b_total = building_level@arms_factory }
			}
			if = {
				limit = { check_variable = { var = b_total value = mil_total_bonus } }
				clear_variable = mil_total_bonus
			}
		}

		#infra bonus
		if = {
			limit = { has_variable = infra_total_bonus }
			set_temp_variable = { b_total = 0 }
			every_owned_state = {
				add_to_temp_variable = { b_total = infrastructure_level }
			}
			if = {
				limit = { check_variable = { var = b_total value = infra_total_bonus } }
				clear_variable = infra_total_bonus
			}
		}

		#rail bonus
		if = {
			limit = { has_variable = rail_total_bonus }
			set_temp_variable = { b_total = 0 }
			every_owned_state = {
				add_to_temp_variable = { b_total = building_level@rail_way }
			}
			if = {
				limit = { check_variable = { var = b_total value = rail_total_bonus } }
				clear_variable = rail_total_bonus
			}
		}

		#dock bonus
		if = {
			limit = { has_variable = dock_total_bonus }
			set_temp_variable = { b_total = 0 }
			every_owned_state = {
				limit = { is_coastal = yes }
				add_to_temp_variable = { b_total = building_level@dockyard }
			}
			if = {
				limit = { check_variable = { var = b_total value = dock_total_bonus } }
				clear_variable = dock_total_bonus
			}
		}

		#steel mill bonus
		if = {
			limit = { has_variable = steel_total_bonus }
			set_temp_variable = { b_total = 0 }
			every_owned_state = {
				add_to_temp_variable = { b_total = building_level@steel_mill }
			}
			if = {
				limit = { check_variable = { var = b_total value = steel_total_bonus } }
				clear_variable = steel_total_bonus
			}
		}

		#logging camp bonus
		if = {
			limit = { has_variable = logging_total_bonus }
			set_temp_variable = { b_total = 0 }
			every_owned_state = {
				add_to_temp_variable = { b_total = building_level@logging_camp }
			}
			if = {
				limit = { check_variable = { var = b_total value = logging_total_bonus } }
				clear_variable = logging_total_bonus
			}
		}

		#farm bonus
		if = {
			limit = { has_variable = farm_total_bonus }
			set_temp_variable = { b_total = 0 }
			every_owned_state = {
				add_to_temp_variable = { b_total = building_level@farm }
			}
			if = {
				limit = { check_variable = { var = b_total value = farm_total_bonus } }
				clear_variable = farm_total_bonus
			}
		}
	}
}