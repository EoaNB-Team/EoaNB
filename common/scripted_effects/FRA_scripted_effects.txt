FRA_napoleon_health_trait_lowered_swap = {
	if = {
		limit = {
			AND = {
				check_variable = {
    				var = FRA.napoleon_health
    				value = 75
    				compare = greater_than_or_equals
				}
				has_country_leader = { character = FRA_napoleon_iii ruling_only = yes }
				NOT = {
					has_country_leader_with_trait = FRA_trait_all_is_well
				}
				has_country_flag = FRA_napoleon_health_activated
			}
		}
		swap_ruler_traits = { remove = FRA_trait_improved_situation add = FRA_trait_all_is_well  }
		set_country_leader_portrait = {
			portrait = "gfx/leaders/FRA/Portrait_FRA_Napoleon_III_health_1.png"
		}
	}
	else_if = {
		limit = {
			AND = {
				check_variable = {
    				var = FRA.napoleon_health
    				value = 50
    				compare = greater_than_or_equals
				}
				check_variable = {
    				var = FRA.napoleon_health
    				value = 75
    				compare = less_than
				}
				has_country_leader = { character = FRA_napoleon_iii ruling_only = yes }
				NOT = {
					has_country_leader_with_trait = FRA_trait_improved_situation
				}
				has_country_flag = FRA_napoleon_health_activated
			}
		}
		swap_ruler_traits = { remove = FRA_trait_all_is_well  add = FRA_trait_improved_situation  }
		set_country_leader_portrait = {
			portrait = "gfx/leaders/FRA/Portrait_FRA_Napoleon_III_health_2.png"
		}
	}
	else_if = {
		limit = {
			AND = {
				check_variable = {
    				var = FRA.napoleon_health
    				value = 25
    				compare = greater_than_or_equals
				}
				check_variable = {
    				var = FRA.napoleon_health
    				value = 50
    				compare = less_than
				}
				has_country_leader = { character = FRA_napoleon_iii ruling_only = yes }
				NOT = {
					has_country_leader_with_trait = FRA_trait_serious_illness
				}
				has_country_flag = FRA_napoleon_health_activated
			}
		}
		swap_ruler_traits = { remove = FRA_trait_improved_situation add = FRA_trait_serious_illness  }
		set_country_leader_portrait = {
			portrait = "gfx/leaders/FRA/Portrait_FRA_Napoleon_III_health_3.png"
		}
	}
	else_if = {
		limit = {
			AND = {
				check_variable = {
    				var = FRA.napoleon_health
    				value = 0
    				compare = greater_than_or_equals
				}
				check_variable = {
    				var = FRA.napoleon_health
    				value = 25
    				compare = less_than
				}
				has_country_leader = { character = FRA_napoleon_iii ruling_only = yes }
				NOT = {
					has_country_leader_with_trait = FRA_trait_impending_coma
				}
				has_country_flag = FRA_napoleon_health_activated
			}
		}
		swap_ruler_traits = { remove = FRA_trait_serious_illness add = FRA_trait_impending_coma }
		set_country_leader_portrait = {
			portrait = "gfx/leaders/FRA/Portrait_FRA_Napoleon_III_health_4.png"
		}
	}
}

FRA_napoleon_health_trait_raised_swap = {
	if = {
		limit = {
			AND = {
				check_variable = {
					var = FRA.napoleon_health
					value = 75
					compare = greater_than_or_equals
				}
				has_country_leader = { character = FRA_napoleon_iii ruling_only = yes }	
				NOT = {
					has_country_leader_with_trait = FRA_trait_all_is_well
				}
				has_country_flag = FRA_napoleon_health_activated
			}
		}
		swap_ruler_traits = { remove = FRA_trait_improved_situation add = FRA_trait_all_is_well  }
		set_country_leader_portrait = {
			portrait = "gfx/leaders/FRA/Portrait_FRA_Napoleon_III_health_1.png"
		}
	}
	else_if = {
		limit = {
			AND = {
				check_variable = {
    				var = FRA.napoleon_health
    				value = 50
    				compare = greater_than_or_equals
				}
				check_variable = {
    				var = FRA.napoleon_health
    				value = 75
    				compare = less_than
				}
				has_country_leader = { character = FRA_napoleon_iii ruling_only = yes }
				NOT = {
					has_country_leader_with_trait = FRA_trait_improved_situation
				}
				has_country_flag = FRA_napoleon_health_activated
			}
		}
		swap_ruler_traits = { remove = FRA_trait_serious_illness  add = FRA_trait_improved_situation  }
		set_country_leader_portrait = {
			portrait = "gfx/leaders/FRA/Portrait_FRA_Napoleon_III_health_2.png"
		}
	}
	else_if = {
		limit = {
			AND = {
				check_variable = {
    				var = FRA.napoleon_health
    				value = 25
    				compare = greater_than_or_equals
				}
				check_variable = {
    				var = FRA.napoleon_health
    				value = 50
    				compare = less_than
				}
				has_country_leader = { character = FRA_napoleon_iii ruling_only = yes }
				NOT = {
					has_country_leader_with_trait = FRA_trait_serious_illness
				}
				has_country_flag = FRA_napoleon_health_activated
			}
		}
		swap_ruler_traits = { remove = FRA_trait_impending_coma add = FRA_trait_serious_illness  }
		set_country_leader_portrait = {
			portrait = "gfx/leaders/FRA/Portrait_FRA_Napoleon_III_health_3.png"
		}
	}
	else_if = {
		limit = {
			AND = {
				check_variable = {
    				var = FRA.napoleon_health
    				value = 0
    				compare = greater_than_or_equals
				}
				check_variable = {
    				var = FRA.napoleon_health
    				value = 25
    				compare = less_than
				}
				has_country_leader = { character = FRA_napoleon_iii ruling_only = yes }
				NOT = {
					has_country_leader_with_trait = FRA_trait_impending_coma
				}
				has_country_flag = FRA_napoleon_health_activated
			}
		}
		swap_ruler_traits = { remove = FRA_trait_serious_illness add = FRA_trait_impending_coma }
		set_country_leader_portrait = {
			portrait = "gfx/leaders/FRA/Portrait_FRA_Napoleon_III_health_4.png"
		}
	}
}

FRA_navy_council_increase_effect = {
	custom_effect_tooltip = FRA_navy_council_increase_effect_tt
	add_to_variable = { FRA_navy_council = FRA_navy_council_increase}
	FRA_navy_council_clamp_and_update_ui_effect = yes
}

FRA_navy_council_decrease_effect = {
	custom_effect_tooltip = FRA_navy_council_decrease_effect_tt
	add_to_variable = { FRA_navy_council = FRA_navy_council_decrease}
	FRA_navy_council_clamp_and_update_ui_effect = yes
}

FRA_navy_council_clamp_and_update_ui_effect = {
	clamp_variable = {
		var = FRA_navy_council
		min = 0
		max = 100
	}
	FRA_navy_council_update_ui_effect = yes
}

FRA_navy_council_update_ui_effect = {
	if = {
		limit = {
			check_variable = { FRA_navy_council = 0 }
		}
		set_variable = { FRA_navy_council_meter = 1 }
	}
	else_if = {
		limit = {
			check_variable = { FRA_navy_council = 5 compare = less_than_or_equals }
		}
		set_variable = { FRA_navy_council_meter = 2 }
	}
	else_if = {
		limit = {
			check_variable = { FRA_navy_council = 10 compare = less_than_or_equals }
		}
		set_variable = { FRA_navy_council_meter = 3 }
	}
	else_if = {
		limit = {
			check_variable = { FRA_navy_council = 15 compare = less_than_or_equals }
		}
		set_variable = { FRA_navy_council_meter = 4 }
	}
	else_if = {
		limit = {
			check_variable = { FRA_navy_council = 20 compare = less_than_or_equals }
		}
		set_variable = { FRA_navy_council_meter = 5 }
	}
	else_if = {
		limit = {
			check_variable = { FRA_navy_council = 25 compare = less_than_or_equals }
		}
		set_variable = { FRA_navy_council_meter = 6 }
	}
	else_if = {
		limit = {
			check_variable = { FRA_navy_council = 30 compare = less_than_or_equals }
		}
		set_variable = { FRA_navy_council_meter = 7 }
	}
	else_if = {
		limit = {
			check_variable = { FRA_navy_council = 35 compare = less_than_or_equals }
		}
		set_variable = { FRA_navy_council_meter = 8 }
	}
	else_if = {
		limit = {
			check_variable = { FRA_navy_council = 40 compare = less_than_or_equals }
		}
		set_variable = { FRA_navy_council_meter = 9 }
	}
	else_if = {
		limit = {
			check_variable = { FRA_navy_council = 45 compare = less_than_or_equals }
		}
		set_variable = { FRA_navy_council_meter = 10 }
	}
	else_if = {
		limit = {
			check_variable = { FRA_navy_council = 50 compare = less_than_or_equals }
		}
		set_variable = { FRA_navy_council_meter = 11 }
	}
	else_if = {
		limit = {
			check_variable = { FRA_navy_council = 55 compare = less_than_or_equals }
		}
		set_variable = { FRA_navy_council_meter = 12 }
	}
	else_if = {
		limit = {
			check_variable = { FRA_navy_council = 60 compare = less_than_or_equals }
		}
		set_variable = { FRA_navy_council_meter = 13 }
	}
	else_if = {
		limit = {
			check_variable = { FRA_navy_council = 65 compare = less_than_or_equals }
		}
		set_variable = { FRA_navy_council_meter = 14 }
	}
	else_if = {
		limit = {
			check_variable = { FRA_navy_council = 70 compare = less_than_or_equals }
		}
		set_variable = { FRA_navy_council_meter = 15 }
	}
	else_if = {
		limit = {
			check_variable = { FRA_navy_council = 75 compare = less_than_or_equals }
		}
		set_variable = { FRA_navy_council_meter = 16 }
	}
	else_if = {
		limit = {
			check_variable = { FRA_navy_council = 80 compare = less_than_or_equals }
		}
		set_variable = { FRA_navy_council_meter = 17 }
	}
	else_if = {
		limit = {
			check_variable = { FRA_navy_council = 85 compare = less_than_or_equals }
		}
		set_variable = { FRA_navy_council_meter = 18 }
	}
	else_if = {
		limit = {
			check_variable = { FRA_navy_council = 90 compare = less_than_or_equals }
		}
		set_variable = { FRA_navy_council_meter = 19 }
	}
	else_if = {
		limit = {
			check_variable = { FRA_navy_council = 95 compare = less_than_or_equals }
		}
		set_variable = { FRA_navy_council_meter = 20 }
	}
	else = { # paranoia > 95
		set_variable = { FRA_navy_council_meter = 21 }
	}
}