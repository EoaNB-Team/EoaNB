# COUNTRY SCOPE: Recruits the input character and sets its character_token variable
# Template for usage:
# set_temp_variable = { temp_char = token:<character> }
# ASF_character_data = yes
ASF_character_data = {
	meta_effect = {
		text = {
			[CHAR] = {
				set_variable = { character_token = temp_char }
			}
		}
		CHAR = "[?temp_char.GetTokenKey]"
		debug = yes
	}
	log = "Character Data Setup - [?temp_char.GetTokenLocalizedKey] - for the current scope - [THIS.GetTag]"
}

# COUNTRY SCOPE: Changes the title for the leader for the currently scoped country
# Template for usage:
# set_temp_variable = { temp_title = token:<title> }
# set_temp_variable = { temp_position = <1/2> }
# ASF_change_leader_title = yes
ASF_change_leader_title = {
	set_temp_variable = { idx = temp_position }
	subtract_from_temp_variable = { idx = 1 }
	set_variable = { ASF_leader_titles^idx = temp_title }
	add_to_variable = { ASF_dual_leader_dirty = 1 }
	log = "Changed the Title of Leader [?temp_position] - [?temp_title.GetTokenLocalizedKey] - for the current scope - [THIS.GetTag]"
}

# CHARACTER SCOPE: Promotes the currently scoped character to dual leader
# Template for usage:
# ASF_promote_character_to_dual_leader = yes
ASF_promote_character_to_dual_leader = {
	owner = {
		set_variable = { ASF_second_leader = PREV }
		add_to_variable = { ASF_dual_leader_dirty = 1 }
	}
	log = "Promoted Character to Dual Leader - [?THIS.GetName] - for the owner scope - [owner.GetTag]"
}


### DEBUG COMMANDS
d_update_dual_leader_dirty = {
	add_to_variable = { ASF_dual_leader_dirty = 1 }
}

d_fetch_dual_leader_info = {
	log = "First Leader - [?ROOT.GetLeader]"
	log = "First Leader Title - [?ASF_leader_titles^0.GetTokenLocalizedKey]"
	log = "Second Leader - [?ASF_second_leader.GetName]"
	log = "Second Leader Title - [?ASF_leader_titles^1.GetTokenLocalizedKey]"
}