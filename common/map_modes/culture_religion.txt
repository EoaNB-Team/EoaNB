scripted_map_modes = {
	culture_map_mode = { #From Debt and Taxes
		top = {
			type = state

			color = {
				# Default black
				set_temp_variable = { red = 0.0 }
				set_temp_variable = { green = 0.0 }
				set_temp_variable = { blue = 0.0 }
				set_temp_variable = { alpha = 1 }

				if = { FROM = { check_variable = { state_culture_array^0 > 0 } }

					set_temp_variable = { culture_id = FROM.state_culture_array^0 }
					
					set_temp_variable = { red = global.culture_red@var:culture_id }
					set_temp_variable = { green = global.culture_green@var:culture_id }
					set_temp_variable = { blue = global.culture_blue@var:culture_id }

					set_temp_variable = { alpha = FROM.state_culture_array_num^0 }
					multiply_temp_variable = { alpha = 2 }
					subtract_from_temp_variable = { alpha = 1 }
					if = {
						limit = { check_variable = { alpha < 0.33 } }
						set_temp_variable = { alpha = 0.33 }
					}
				}

				set_temp_variable = { highlighted = 0 }
			}

			targets = {}
			thickness = no
		}

		bottom = { type = none }

		far_text = country
		near_text = state
		update_daily = no
	}
	religion_map_mode = {
		top = {
			type = state

			color = {
				# Default black
				set_temp_variable = { red = 0.0 }
				set_temp_variable = { green = 0.0 }
				set_temp_variable = { blue = 0.0 }
				set_temp_variable = { alpha = 1 }

				if = { FROM = { check_variable = { state_religion_array^0 > 0 } }

					set_temp_variable = { religion_id = FROM.state_religion_array^0 }
					
					set_temp_variable = { red = global.religion_red@var:religion_id }
					set_temp_variable = { green = global.religion_green@var:religion_id }
					set_temp_variable = { blue = global.religion_blue@var:religion_id }

					set_temp_variable = { alpha = FROM.state_religion_array_num^0 }
					multiply_temp_variable = { alpha = 2 }
					subtract_from_temp_variable = { alpha = 1 }
					if = {
						limit = { check_variable = { alpha < 0.33 } }
						set_temp_variable = { alpha = 0.33 }
					}
				}
				
				set_temp_variable = { highlighted = 0 }
			}

			targets = {}
			thickness = no
		}

		bottom = { type = none }

		far_text = country
		near_text = state
		update_daily = no
	}
}
