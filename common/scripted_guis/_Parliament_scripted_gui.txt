scripted_gui = {
	open_parliament_window = {
		context_type = player_context
		dirty = show_parliament_window

		window_name = "open_parliament_window"
		parent_window_token = politics_tab

		visible = {
			is_ai = no
			OR = {
				tag = ENG
				tag = AUS
				tag = HUN
				tag = USA
				tag = FRA
				tag = PRS
			}
		}

		effects = {
			open_button_click = {
				if = {
					limit = {
						has_variable = show_parliament_window
					}
					clear_variable = show_parliament_window
				}
				else = {
					clear_variable = show_demographics_window
					set_variable = { show_parliament_window = 1 }
					set_variable = { show_decisions_window = 1 }
				}
			}
		}
	}

	parliament_panel_window = {
        context_type = player_context
        window_name = "parliament_panel_window"
		dirty = show_parliament_window
        
        visible = {
            has_variable = show_parliament_window
        }

		ai_enabled = {
			always = no
		}
	}

	parliament_window = {
		context_type = player_context
		dirty = show_parliament_window
		dirty = show_decisions_window
		dirty = show_reform_window

		window_name = "parliament_window"
		parent_window_name = "parliament_panel_window_instance"

		visible = {
			OR = {
				is_ai = yes
				check_variable = { show_parliament_window > 0 }
			}
		}

		properties = {
			senate_icon = {
				frame = current_senate_icon_frame
			}

			house_icon = {
				frame = current_house_icon_frame
			}
		}

		effects = {
			close_button_click = {
				if = {
					limit = {
						has_variable = show_parliament_window
					}
					clear_variable = show_parliament_window
					if = {
						limit = {
							has_variable = show_reform_window
						}
						clear_variable = show_reform_window
					}
					if = {
						limit = {
							has_variable = show_decisions_window
						}
						clear_variable = show_decisions_window
					}
				}
			}
			decision_button_click = {
				if = {
					limit = {
						has_variable = show_reform_window
					}
					clear_variable = show_reform_window
					set_variable = { show_decisions_window = 1 } 
				}
			}
			reform_button_click = {
				if = {
					limit = {
						has_variable = show_decisions_window
					}
					clear_variable = show_decisions_window
					set_variable = { show_reform_window = 1 } 
				}
			}
		}
	}

	parliament_decision_window = {
		context_type = player_context
		dirty = show_parliament_window
		dirty = show_decisions_window

		window_name = "parliament_decision_window"
		parent_window_name = "parliament_window_instance"

		visible = {
			OR = {
				is_ai = yes
				AND = {
					check_variable = { show_parliament_window > 0 }
					check_variable = { show_decisions_window > 0 }
				}
			}
		}

		properties = {
		}

		effects = {

		}
	}
	parliament_reform_window = {
		context_type = player_context
		dirty = show_parliament_window
		dirty = show_reform_window

		window_name = "parliament_reform_window"
		parent_window_name = "parliament_window_instance"

		visible = {
			OR = {
				is_ai = yes
				AND = {
					check_variable = { show_parliament_window > 0 }
					check_variable = { show_reform_window > 0 }
				}
			}
		}

		properties = {
		}

		effects = {

		}
	}
}