# MONEY SYSTEM #
# example usage:
## has_taken_a_loan = yes
has_taken_a_loan = {
	custom_trigger_tooltip = {
		tooltip = HAS_TAKEN_A_LOAN
		check_variable = { current_loans_sum > 0 }
	}
}

# example usage:
## set_temp_variable = { loan_size_to_check = 100 }
## has_specific_loan_size = yes
has_specific_loan_size = {
	custom_trigger_tooltip = {
		tooltip = HAS_SPECIFIC_LOAN_SIZE
		NOT = { check_variable = { current_loans_sum < loan_size_to_check } }
	}
}

# example usage:
## set_temp_variable = { loan_size_to_check = 100 }
## has_less_than_specific_loan_size = yes
has_less_than_specific_loan_size = {
	custom_trigger_tooltip = {
		tooltip = HAS_LESS_THAN_SPECIFIC_LOAN_SIZE
		check_variable = { current_loans_sum < loan_size_to_check }
	}
}

# example usage:
## set_temp_variable = { amount_of_money_to_check = 100 }
## has_specific_amount_of_money = yes
has_specific_amount_of_money = {
	custom_trigger_tooltip = {
		tooltip = HAS_SPECIFIC_AMOUNT_OF_MONEY
		NOT = { check_variable = { money < amount_of_money_to_check } }
	}
}

# example usage:
## set_temp_variable = { amount_of_money_to_check = 100 }
## has_less_than_specific_amount_of_money = yes
has_less_than_specific_amount_of_money = {
	custom_trigger_tooltip = {
		tooltip = HAS_LESS_THAN_SPECIFIC_AMOUNT_OF_MONEY
		check_variable = { money < amount_of_money_to_check }
	}
}

# example usage:
## set_temp_variable = { amount_of_money_to_check = 100 }
## has_specific_amount_of_money_with_inflation_included = yes
has_specific_amount_of_money_with_inflation_included = {
	set_temp_variable = { inflation_calc_temp = 1 }
	add_to_temp_variable = { inflation_calc_temp = current_inflation }
	multiply_temp_variable = { amount_of_money_to_check = inflation_calc_temp }
	custom_trigger_tooltip = {
		tooltip = HAS_SPECIFIC_AMOUNT_OF_MONEY
		NOT = { check_variable = { money < amount_of_money_to_check } }
	}
}

# example usage:
## set_temp_variable = { amount_of_money_to_check = 100 }
## has_less_than_specific_amount_of_money_with_inflation_included = yes
has_less_than_specific_amount_of_money_with_inflation_included = {
	set_temp_variable = { inflation_calc_temp = 1 }
	add_to_temp_variable = { inflation_calc_temp = current_inflation }
	multiply_temp_variable = { amount_of_money_to_check = inflation_calc_temp }
	custom_trigger_tooltip = {
		tooltip = HAS_LESS_THAN_SPECIFIC_AMOUNT_OF_MONEY
		check_variable = { money < amount_of_money_to_check }
	}
}

# example usage:
## set_temp_variable = { unemployment_value = 1 }
## has_at_least_unemployment_value = yes
has_at_least_unemployment_value = {
	custom_trigger_tooltip = {
		tooltip = HAS_AT_LEAST_UNEMPLOYMENT_VALUE_TT
		NOT = { check_variable = { current_unemployment < unemployment_value } }
	}
}

# example usage:
## set_temp_variable = { unemployment_value = 1 }
## has_less_than_unemployment_value = yes
has_less_than_unemployment_value = {
	custom_trigger_tooltip = {
		tooltip = HAS_LESS_THAN_UNEMPLOYMENT_VALUE_TT
		check_variable = { current_unemployment < unemployment_value }
	}
}

# example usage:
## has_balance_in_positive = yes
has_balance_in_positive = {
	custom_trigger_tooltip = {
		tooltip = HAS_BALANCE_IN_POSITIVE
		check_variable = { money > 0 }
		#needs to be changed back
	}
}

# example usage:
## has_balance_in_negative = yes
has_balance_in_negative = {
	custom_trigger_tooltip = {
		tooltip = HAS_BALANCE_IN_NEGATIVE
		check_variable = { money < 0 }
		#needs to be changed back
	}
}

# example usage:
## set_temp_variable = { income_value = 1 }
## has_more_than_income = yes
#has_more_than_income = {
#	custom_trigger_tooltip = {
#		tooltip = HAS_MORE_THAN_INCOME
#		calculate_money_balance = yes
#		check_variable = { income_value < total_balance_var }
#	}
#}

# example usage:
## calculate_inflation_change = yes
calculate_inflation_change = {
	set_temp_variable = { daily_inflation_change = 0 }

	# Flat Inflation Change Modifiers:
	add_to_temp_variable = { daily_inflation_change = modifier@inflation_change }
	# Clamp Inflation Change Factor Modifiers:
	set_temp_variable = { daily_inflation_change_factor = 1 }
	add_to_temp_variable = { daily_inflation_change_factor = modifier@inflation_change_factor }
	if = {
		limit = {
			check_variable = { daily_inflation_change_factor < 0 }
		}
		set_temp_variable = { daily_inflation_change_factor = 0 }
	}
	# Apply Inflation Change Factor Modifiers:
	multiply_temp_variable = { daily_inflation_change = daily_inflation_change_factor }

	# Setting Display Variable:
	set_temp_variable = { daily_inflation_change_factor_display = modifier@inflation_change_factor }
	set_temp_variable = { daily_inflation_change_factor_from_ideas = modifier@inflation_change_factor_from_ideas }
	set_temp_variable = { daily_inflation_change_factor_from_decisions = modifier@inflation_change_factor_from_decisions }
	set_temp_variable = { daily_inflation_change_factor_from_other = daily_inflation_change_factor_display }
	subtract_from_temp_variable = { daily_inflation_change_factor_from_other = daily_inflation_change_factor_from_ideas }
	subtract_from_temp_variable = { daily_inflation_change_factor_from_other = daily_inflation_change_factor_from_decisions }
	if = {
		limit = {
			check_variable = { daily_inflation_change_factor_display < -1 }
		}
		set_temp_variable = { daily_inflation_change_factor_display = -1 }
	}
}