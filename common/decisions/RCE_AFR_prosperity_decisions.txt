afr_islamic_renaissance = {
	
	SKT_KBO_build_ribats = {
		icon = generic_prepare_civil_war
		available = {
			has_war = no
			owns_state = 838
			custom_trigger_tooltip = {
				tooltip = AFR_constructing_islamic_frontier_ribat
				NOT = { has_country_flag = AFR_constructing_islamic_frontier_ribat }
			}
		}

		visible = {
			owns_state = 838
			has_country_flag = Jihad_develop_frontier_ribats
			NOT = { has_country_flag = AFR_constructing_islamic_frontier_ribat }
		}
		allowed = { afr_is_tribal_allowed = yes }
	
		fire_only_once = yes
		
		ai_will_do = {
			factor = 20
			modifier = {
				add = 200
				ROOT = { check_variable = { afr_war_exhaustion_value > 14 } }
			}
		}
		
		cost = 50
		
		days_remove = 360
		
		complete_effect = {
			set_country_flag = AFR_constructing_islamic_frontier_ribat
		}
		
		modifier = {
			civilian_factory_use = 1
		}
		
		remove_effect = {
			clr_country_flag = AFR_constructing_islamic_frontier_ribat
			if = {
				limit = { ROOT = { owns_state = 838 } }
				838 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = farm
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					set_state_flag = AFR_islamic_frontier_ribat
				}
			}
			if = {
				limit = { check_variable = { afr_war_exhaustion_value > 0 } }
				custom_effect_tooltip = afr_war_exhaustion_value_minus_1
				add_to_variable = {
					var = afr_war_exhaustion_value
					value = -1
				}
			}
		}
		
	}
	
	SKT_BAG_build_ribats = {
		icon = generic_prepare_civil_war
		available = {
			has_war = no
			OR = {	
				owns_state = 805
				owns_state = 789
			}
			custom_trigger_tooltip = {
				tooltip = AFR_constructing_islamic_frontier_ribat
				NOT = { has_country_flag = AFR_constructing_islamic_frontier_ribat }
			}
		}

		visible = {
			OR = {	
				owns_state = 805
				owns_state = 789
			}
			has_country_flag = Jihad_develop_frontier_ribats
			NOT = { has_country_flag = AFR_constructing_islamic_frontier_ribat }
		}
		allowed = { afr_is_tribal_allowed = yes }
	
		fire_only_once = yes
		
		ai_will_do = {
			factor = 20
			modifier = {
				add = 200
				ROOT = { check_variable = { afr_war_exhaustion_value > 14 } }
			}
		}
		
		cost = 50
		
		days_remove = 360
		
		complete_effect = {
			set_country_flag = AFR_constructing_islamic_frontier_ribat
		}
		
		modifier = {
			civilian_factory_use = 1
		}
		
		remove_effect = {
			clr_country_flag = AFR_constructing_islamic_frontier_ribat
			if = {
				limit = { ROOT = { owns_state = 805 } }
				805 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = farm
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					set_state_flag = AFR_islamic_frontier_ribat
				}
			}
			if = {
				limit = { ROOT = { owns_state = 789 } }
				789 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					set_state_flag = AFR_islamic_frontier_ribat
				}
			}
			if = {
				limit = { check_variable = { afr_war_exhaustion_value > 0 } }
				custom_effect_tooltip = afr_war_exhaustion_value_minus_1
				add_to_variable = {
					var = afr_war_exhaustion_value
					value = -1
				}
			}
		}
		
	}

	SKT_SNS_build_ribats = {
		icon = generic_prepare_civil_war
		available = {
			has_war = no
			owns_state = 273
			custom_trigger_tooltip = {
				tooltip = AFR_constructing_islamic_frontier_ribat
				NOT = { has_country_flag = AFR_constructing_islamic_frontier_ribat }
			}
		}

		visible = {
			owns_state = 273
			has_country_flag = Jihad_develop_frontier_ribats
			NOT = { has_country_flag = AFR_constructing_islamic_frontier_ribat }
		}
		allowed = { afr_is_tribal_allowed = yes }
	
		fire_only_once = yes
		
		ai_will_do = {
			factor = 20
			modifier = {
				add = 200
				ROOT = { check_variable = { afr_war_exhaustion_value > 14 } }
			}
		}
		
		cost = 50
		
		days_remove = 360
		
		complete_effect = {
			set_country_flag = AFR_constructing_islamic_frontier_ribat
		}
		
		modifier = {
			civilian_factory_use = 1
		}
		
		remove_effect = {
			clr_country_flag = AFR_constructing_islamic_frontier_ribat
			if = {
				limit = { ROOT = { owns_state = 273 } }
				273 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = farm
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					set_state_flag = AFR_islamic_frontier_ribat
				}
			}
			if = {
				limit = { check_variable = { afr_war_exhaustion_value > 0 } }
				custom_effect_tooltip = afr_war_exhaustion_value_minus_1
				add_to_variable = {
					var = afr_war_exhaustion_value
					value = -1
				}
			}
		}
		
	}
 
	SKT_IJB_build_ribats = {
		icon = generic_prepare_civil_war
		available = {
			has_war = no
			owns_state = 874
			custom_trigger_tooltip = {
				tooltip = AFR_constructing_islamic_frontier_ribat
				NOT = { has_country_flag = AFR_constructing_islamic_frontier_ribat }
			}
		}

		visible = {
			owns_state = 874
			has_country_flag = Jihad_develop_frontier_ribats
			NOT = { has_country_flag = AFR_constructing_islamic_frontier_ribat }
		}
		allowed = { afr_is_tribal_allowed = yes }
	
		fire_only_once = yes
		
		ai_will_do = {
			factor = 20
			modifier = {
				add = 200
				ROOT = { check_variable = { afr_war_exhaustion_value > 14 } }
			}
		}
		
		cost = 50
		
		days_remove = 360
		
		complete_effect = {
			set_country_flag = AFR_constructing_islamic_frontier_ribat
		}
		
		modifier = {
			civilian_factory_use = 1
		}
		
		remove_effect = {
			clr_country_flag = AFR_constructing_islamic_frontier_ribat
			if = {
				limit = { ROOT = { owns_state = 874 } }
				874 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = farm
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					set_state_flag = AFR_islamic_frontier_ribat
				}
			}
			if = {
				limit = { check_variable = { afr_war_exhaustion_value > 0 } }
				custom_effect_tooltip = afr_war_exhaustion_value_minus_1
				add_to_variable = {
					var = afr_war_exhaustion_value
					value = -1
				}
			}
		}
		
	}
 
	SKT_ARO_build_ribats = {
		icon = generic_prepare_civil_war
		available = {
			has_war = no
			OR = {	
				owns_state = 800
				owns_state = 796
				owns_state = 798
			}
			custom_trigger_tooltip = {
				tooltip = AFR_constructing_islamic_frontier_ribat
				NOT = { has_country_flag = AFR_constructing_islamic_frontier_ribat }
			}
		}

		visible = {
			OR = {	
				owns_state = 800
				owns_state = 796
				owns_state = 798
			}
			has_country_flag = Jihad_develop_frontier_ribats
			NOT = { has_country_flag = AFR_constructing_islamic_frontier_ribat }
		}
		allowed = { afr_is_tribal_allowed = yes }
	
		fire_only_once = yes
		
		ai_will_do = {
			factor = 20
			modifier = {
				factor = 10
				ROOT = { check_variable = { afr_war_exhaustion_value > 14 } }
			}
		}
		
		cost = 50
		
		days_remove = 360
		
		complete_effect = {
			set_country_flag = AFR_constructing_islamic_frontier_ribat
		}
		
		modifier = {
			civilian_factory_use = 1
		}
		
		remove_effect = {
			clr_country_flag = AFR_constructing_islamic_frontier_ribat
			if = {
				limit = { ROOT = { owns_state = 800 } }
				800 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = farm
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					set_state_flag = AFR_islamic_frontier_ribat
				}
			}
			if = {
				limit = { ROOT = { owns_state = 796 } }
				796 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					set_state_flag = AFR_islamic_frontier_ribat
				}
			}
			if = {
				limit = { ROOT = { owns_state = 798 } }
				798 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					set_state_flag = AFR_islamic_frontier_ribat
				}
			}
			if = {
				limit = { check_variable = { afr_war_exhaustion_value > 0 } }
				custom_effect_tooltip = afr_war_exhaustion_value_minus_1
				add_to_variable = {
					var = afr_war_exhaustion_value
					value = -1
				}
			}
		}
		
	}
 
    SKT_TUG_build_ribats = {
		icon = generic_prepare_civil_war
		available = {
			has_war = no
			OR = {
				owns_state = 515
				owns_state = 771
			}
			custom_trigger_tooltip = {
				tooltip = AFR_constructing_islamic_frontier_ribat
				NOT = { has_country_flag = AFR_constructing_islamic_frontier_ribat }
			}
		}

		visible = {
			OR = {
				owns_state = 515
				owns_state = 771
			}
			has_country_flag = Jihad_develop_frontier_ribats
			NOT = { has_country_flag = AFR_constructing_islamic_frontier_ribat }
		}
		allowed = { afr_is_tribal_allowed = yes }
	
		fire_only_once = yes
		
		ai_will_do = {
			factor = 20
			modifier = {
				add = 200
				ROOT = { check_variable = { afr_war_exhaustion_value > 14 } }
			}
		}
		
		cost = 50
		
		days_remove = 360
		
		complete_effect = {
			set_country_flag = AFR_constructing_islamic_frontier_ribat
		}
		
		modifier = {
			civilian_factory_use = 1
		}
		
		remove_effect = {
			clr_country_flag = AFR_constructing_islamic_frontier_ribat
			if = {
				limit = { ROOT = { owns_state = 515 } }
				515 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = farm
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					set_state_flag = AFR_islamic_frontier_ribat
				}
			}
			if = {
				limit = { ROOT = { owns_state = 771 } }
				771 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					set_state_flag = AFR_islamic_frontier_ribat
				}
			}
			if = {
				limit = { check_variable = { afr_war_exhaustion_value > 0 } }
				custom_effect_tooltip = afr_war_exhaustion_value_minus_1
				add_to_variable = {
					var = afr_war_exhaustion_value
					value = -1
				}
			}
		}
		
	}
		
	SKT_GBG_build_ribats = {
		icon = generic_prepare_civil_war
		available = {
			has_war = no
			owns_state = 558
			custom_trigger_tooltip = {
				tooltip = AFR_constructing_islamic_frontier_ribat
				NOT = { has_country_flag = AFR_constructing_islamic_frontier_ribat }
			}
		}

		visible = {
			owns_state = 558
			has_country_flag = Jihad_develop_frontier_ribats
			NOT = { has_country_flag = AFR_constructing_islamic_frontier_ribat }
		}
		allowed = { afr_is_tribal_allowed = yes }
	
		fire_only_once = yes
		
		ai_will_do = {
			factor = 20
			modifier = {
				add = 200
				ROOT = { check_variable = { afr_war_exhaustion_value > 14 } }
			}
		}
		
		cost = 50
		
		days_remove = 360
		
		complete_effect = {
			set_country_flag = AFR_constructing_islamic_frontier_ribat
		}
		
		modifier = {
			civilian_factory_use = 1
		}
		
		remove_effect = {
			clr_country_flag = AFR_constructing_islamic_frontier_ribat
			if = {
				limit = { ROOT = { owns_state = 558 } }
				558 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = farm
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					set_state_flag = AFR_islamic_frontier_ribat
				}
			}
			if = {
				limit = { check_variable = { afr_war_exhaustion_value > 0 } }
				custom_effect_tooltip = afr_war_exhaustion_value_minus_1
				add_to_variable = {
					var = afr_war_exhaustion_value
					value = -1
				}
			}
		}
		
	}
		
	SKT_OYO_build_ribats = {
		icon = generic_prepare_civil_war
		available = {
			has_war = no
			owns_state = 871
			custom_trigger_tooltip = {
				tooltip = AFR_constructing_islamic_frontier_ribat
				NOT = { has_country_flag = AFR_constructing_islamic_frontier_ribat }
			}
		}

		visible = {
			owns_state = 871
			has_country_flag = Jihad_develop_frontier_ribats
			NOT = { has_country_flag = AFR_constructing_islamic_frontier_ribat }
		}
		allowed = { afr_is_tribal_allowed = yes }
	
		fire_only_once = yes
		
		ai_will_do = {
			factor = 20
			modifier = {
				add = 200
				ROOT = { check_variable = { afr_war_exhaustion_value > 14 } }
			}
		}
		
		cost = 50
		
		days_remove = 360
		
		complete_effect = {
			set_country_flag = AFR_constructing_islamic_frontier_ribat
		}
		
		modifier = {
			civilian_factory_use = 1
		}
		
		remove_effect = {
			clr_country_flag = AFR_constructing_islamic_frontier_ribat
			if = {
				limit = { ROOT = { owns_state = 871 } }
				871 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = farm
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					set_state_flag = AFR_islamic_frontier_ribat
				}
			}
			if = {
				limit = { check_variable = { afr_war_exhaustion_value > 0 } }
				custom_effect_tooltip = afr_war_exhaustion_value_minus_1
				add_to_variable = {
					var = afr_war_exhaustion_value
					value = -1
				}
			}
		}
		
	}
		
	SKT_DAH_build_ribats = {
		icon = generic_prepare_civil_war
		available = {
			has_war = no
			OR = {
				owns_state = 769
				owns_state = 768
				owns_state = 846
				owns_state = 1111
			}
			custom_trigger_tooltip = {
				tooltip = AFR_constructing_islamic_frontier_ribat
				NOT = { has_country_flag = AFR_constructing_islamic_frontier_ribat }
			}
		}

		visible = {
			OR = {
				owns_state = 769
				owns_state = 768
				owns_state = 846
				owns_state = 1111
			}
			has_country_flag = Jihad_develop_frontier_ribats
			NOT = { has_country_flag = AFR_constructing_islamic_frontier_ribat }
		}
		allowed = { afr_is_tribal_allowed = yes }
	
		fire_only_once = yes
		
		ai_will_do = {
			factor = 20
			modifier = {
				add = 200
				ROOT = { check_variable = { afr_war_exhaustion_value > 14 } }
			}
		}
		
		cost = 50
		
		days_remove = 360
		
		complete_effect = {
			set_country_flag = AFR_constructing_islamic_frontier_ribat
		}
		
		modifier = {
			civilian_factory_use = 1
		}
		
		remove_effect = {
			clr_country_flag = AFR_constructing_islamic_frontier_ribat
			if = {
				limit = { ROOT = { owns_state = 846 } }
				846 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = farm
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					set_state_flag = AFR_islamic_frontier_ribat
				}
			}
			if = {
				limit = { ROOT = { owns_state = 769 } }
				769 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					set_state_flag = AFR_islamic_frontier_ribat
				}
			}
			if = {
				limit = { ROOT = { owns_state = 768 } }
				768 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					set_state_flag = AFR_islamic_frontier_ribat
				}
			}
			if = {
				limit = { ROOT = { owns_state = 1111 } }
				1111 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					set_state_flag = AFR_islamic_frontier_ribat
				}
			}
			if = {
				limit = { check_variable = { afr_war_exhaustion_value > 0 } }
				custom_effect_tooltip = afr_war_exhaustion_value_minus_1
				add_to_variable = {
					var = afr_war_exhaustion_value
					value = -1
				}
			}
		}
		
	}
		
	SKT_BRG_build_ribats = {
		icon = generic_prepare_civil_war
		available = {
			has_war = no
			owns_state = 872
			custom_trigger_tooltip = {
				tooltip = AFR_constructing_islamic_frontier_ribat
				NOT = { has_country_flag = AFR_constructing_islamic_frontier_ribat }
			}
		}

		visible = {
			owns_state = 872
			has_country_flag = Jihad_develop_frontier_ribats
			NOT = { has_country_flag = AFR_constructing_islamic_frontier_ribat }
		}
		allowed = { afr_is_tribal_allowed = yes }
		
		cost = 50
		
		days_remove = 360
	
		fire_only_once = yes
		
		ai_will_do = {
			factor = 20
			modifier = {
				add = 200
				ROOT = { check_variable = { afr_war_exhaustion_value > 14 } }
			}
		}
		
		complete_effect = {
			set_country_flag = AFR_constructing_islamic_frontier_ribat
		}
		
		modifier = {
			civilian_factory_use = 1
		}
		
		remove_effect = {
			clr_country_flag = AFR_constructing_islamic_frontier_ribat
			if = {
				limit = { ROOT = { owns_state = 872 } }
				872 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = farm
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					set_state_flag = AFR_islamic_frontier_ribat
				}
			}
			if = {
				limit = { check_variable = { afr_war_exhaustion_value > 0 } }
				custom_effect_tooltip = afr_war_exhaustion_value_minus_1
				add_to_variable = {
					var = afr_war_exhaustion_value
					value = -1
				}
			}
		}
		
	}
	
	SKT_DDI_build_ribats = {
		icon = generic_prepare_civil_war
		available = {
			has_war = no
			OR = {
				owns_state = 855
				owns_state = 770
			}
			custom_trigger_tooltip = {
				tooltip = AFR_constructing_islamic_frontier_ribat
				NOT = { has_country_flag = AFR_constructing_islamic_frontier_ribat }
			}
		}

		visible = {
			OR = {
				owns_state = 855
				owns_state = 770
			}
			has_country_flag = Jihad_develop_frontier_ribats
			NOT = { has_country_flag = AFR_constructing_islamic_frontier_ribat }
		}
		allowed = { afr_is_tribal_allowed = yes }
	
		fire_only_once = yes
		
		ai_will_do = {
			factor = 20
			modifier = {
				add = 200
				ROOT = { check_variable = { afr_war_exhaustion_value > 14 } }
			}
		}
		
		cost = 50
		
		days_remove = 360
		
		complete_effect = {
			set_country_flag = AFR_constructing_islamic_frontier_ribat
		}
		
		modifier = {
			civilian_factory_use = 1
		}
		
		remove_effect = {
			clr_country_flag = AFR_constructing_islamic_frontier_ribat
			if = {
				limit = { ROOT = { owns_state = 855 } }
				855 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = farm
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					set_state_flag = AFR_islamic_frontier_ribat
				}
			}
			if = {
				limit = { ROOT = { owns_state = 770 } }
				770 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					set_state_flag = AFR_islamic_frontier_ribat
				}
			}
			if = {
				limit = { check_variable = { afr_war_exhaustion_value > 0 } }
				custom_effect_tooltip = afr_war_exhaustion_value_minus_1
				add_to_variable = {
					var = afr_war_exhaustion_value
					value = -1
				}
			}
		}
		
	}
	
	SKT_KAG_build_ribats = {
		icon = generic_prepare_civil_war
		available = {
			has_war = no
			owns_state = 514
			custom_trigger_tooltip = {
				tooltip = AFR_constructing_islamic_frontier_ribat
				NOT = { has_country_flag = AFR_constructing_islamic_frontier_ribat }
			}
		}

		visible = {
			tag = ROOT
			owns_state = 514
			has_country_flag = Jihad_develop_frontier_ribats
			NOT = { has_country_flag = AFR_constructing_islamic_frontier_ribat }
		}
		allowed = { afr_is_tribal_allowed = yes }
	
		fire_only_once = yes
		
		ai_will_do = {
			factor = 20
			modifier = {
				add = 200
				ROOT = { check_variable = { afr_war_exhaustion_value > 14 } }
			}
		}
		
		cost = 50
		
		days_remove = 360
		
		complete_effect = {
			set_country_flag = AFR_constructing_islamic_frontier_ribat
		}
		
		modifier = {
			civilian_factory_use = 1
		}
		
		remove_effect = {
			clr_country_flag = AFR_constructing_islamic_frontier_ribat
			if = {
				limit = { ROOT = { owns_state = 514 } }
				514 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = farm
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					set_state_flag = AFR_islamic_frontier_ribat
				}
			}
			if = {
				limit = { check_variable = { afr_war_exhaustion_value > 0 } }
				custom_effect_tooltip = afr_war_exhaustion_value_minus_1
				add_to_variable = {
					var = afr_war_exhaustion_value
					value = -1
				}
			}
		}
		
	}
	
	SKT_ASH_build_ribats = {
		icon = generic_prepare_civil_war
		available = {
			has_war = no
			owns_state = 274
			custom_trigger_tooltip = {
				tooltip = AFR_constructing_islamic_frontier_ribat
				NOT = { has_country_flag = AFR_constructing_islamic_frontier_ribat }
			}
		}

		visible = {
			tag = ROOT
			owns_state = 274
			has_country_flag = Jihad_develop_frontier_ribats
			NOT = { has_country_flag = AFR_constructing_islamic_frontier_ribat }
		}
		allowed = { afr_is_tribal_allowed = yes }
	
		fire_only_once = yes
		
		ai_will_do = {
			factor = 20
			modifier = {
				add = 200
				ROOT = { check_variable = { afr_war_exhaustion_value > 14 } }
			}
		}
		
		cost = 50
		
		days_remove = 360
		
		complete_effect = {
			set_country_flag = AFR_constructing_islamic_frontier_ribat
		}
		
		modifier = {
			civilian_factory_use = 1
		}
		
		remove_effect = {
			clr_country_flag = AFR_constructing_islamic_frontier_ribat
			if = {
				limit = { ROOT = { owns_state = 274 } }
				274 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = farm
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					set_state_flag = AFR_islamic_frontier_ribat
				}
			}
			if = {
				limit = { check_variable = { afr_war_exhaustion_value > 0 } }
				custom_effect_tooltip = afr_war_exhaustion_value_minus_1
				add_to_variable = {
					var = afr_war_exhaustion_value
					value = -1
				}
			}
		}
		
	}
	
	SKT_MOS_build_ribats = {
		icon = generic_prepare_civil_war
		available = {
			has_war = no
			OR = {
				owns_state = 856
				owns_state = 772
			}
			custom_trigger_tooltip = {
				tooltip = AFR_constructing_islamic_frontier_ribat
				NOT = { has_country_flag = AFR_constructing_islamic_frontier_ribat }
			}
		}

		visible = {
			tag = ROOT
			OR = {
				owns_state = 856
				owns_state = 772
			}
			has_country_flag = Jihad_develop_frontier_ribats
			NOT = { has_country_flag = AFR_constructing_islamic_frontier_ribat }
		}
		allowed = { afr_is_tribal_allowed = yes }
	
		fire_only_once = yes
		
		ai_will_do = {
			factor = 20
			modifier = {
				add = 200
				ROOT = { check_variable = { afr_war_exhaustion_value > 14 } }
			}
		}
		
		cost = 50
		
		days_remove = 360
		
		complete_effect = {
			set_country_flag = AFR_constructing_islamic_frontier_ribat
		}
		
		modifier = {
			civilian_factory_use = 1
		}
		
		remove_effect = {
			clr_country_flag = AFR_constructing_islamic_frontier_ribat
			if = {
				limit = { ROOT = { owns_state = 856 } }
				856 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = farm
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					set_state_flag = AFR_islamic_frontier_ribat
				}
			}
			if = {
				limit = { ROOT = { owns_state = 772 } }
				772 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					set_state_flag = AFR_islamic_frontier_ribat
				}
			}
			if = {
				limit = { check_variable = { afr_war_exhaustion_value > 0 } }
				custom_effect_tooltip = afr_war_exhaustion_value_minus_1
				add_to_variable = {
					var = afr_war_exhaustion_value
					value = -1
				}
			}
		}
		
	}

	afr_jihad_ribat_stage_1 = {
		icon = generic_form_nation
		available = {
			always = no
		}

		visible = {
			always = no
		}
	
		fire_only_once = yes
		
		ai_will_do = {
			factor = 1
		}
		allowed = { afr_is_tribal_allowed = yes }
	
		days_remove = 90
		
		complete_effect = {
			
		}
	
		remove_effect = {
			hidden_effect = {
				ROOT = { country_event = { id = sokoto.5 } }
			}
		}
	}
	
	afr_jihad_ribat_stage_2 = {
		icon = generic_form_nation
		available = {
			always = no
		}

		visible = {
			always = no
		}
	
		fire_only_once = yes
		
		ai_will_do = {
			factor = 1
		}
		allowed = { afr_is_tribal_allowed = yes }
	
		days_remove = 90
		
		complete_effect = {
			
		}
	
		remove_effect = {
			if = {
				limit = {
					has_country_flag = afr_jihad_ribat_skilled_labor
				}
				hidden_effect = {
					ROOT = { country_event = { id = sokoto.6 } }
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = afr_jihad_ribat_skilled_labor }
				}
				hidden_effect = {
					ROOT = { country_event = { id = sokoto.8 } }
				}
			}
		}
	}
	
	afr_jihad_ribat_stage_3 = {
		icon = generic_form_nation
		available = {
			always = no
		}

		visible = {
			always = no
		}
	
		fire_only_once = yes
		
		ai_will_do = {
			factor = 1
		}
		allowed = { afr_is_tribal_allowed = yes }
	
		days_remove = 360
		
		complete_effect = {
			
		}
	
		remove_effect = {
			hidden_effect = {
				ROOT = { country_event = { id = sokoto.7 } }
			}
		}
	}
	
	afr_jihad_ribat_stage_4 = {
		icon = generic_form_nation
		available = {
			always = no
		}

		visible = {
			always = no
		}
	
		fire_only_once = yes
		
		ai_will_do = {
			factor = 1
		}
		allowed = { afr_is_tribal_allowed = yes }
	
		days_remove = 360
		
		complete_effect = {
			
		}
	
		remove_effect = {
			hidden_effect = {
				ROOT = { country_event = { id = sokoto.8 } }
			}
		}
	}
	
	afr_jihad_ribat_stage_5 = {
		icon = generic_form_nation
		available = {
			always = no
		}

		visible = {
			always = no
		}
	
		fire_only_once = yes
		
		ai_will_do = {
			factor = 1
		}
		allowed = { afr_is_tribal_allowed = yes }
	
		days_remove = 360
		
		complete_effect = {
			
		}
	
		remove_effect = {
			hidden_effect = {
				ROOT = { country_event = { id = sokoto.8 } }
			}
		}
	}
}
	

 afr_prosperity_mechanic_category = {
	
	afr_prosperity_mechanic_nomadic_animal_husbandry = {
		available = {
			custom_trigger_tooltip = {
				tooltip = Oceania_prosperity_mechanic_not_settled_trigger
				is_nomadic_nation_state = yes
			}
			custom_trigger_tooltip = {
				tooltip = afr_prosperity_mechanic_greater_than_15
				check_variable = {
					afr_prosperity_mechanic_value > 14
				}
			}
			has_tech = tribal_riding
			OR = {
				afr_is_tribal_allowed = yes
				oceania_is_tribal_allowed = yes
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
		}
		visible = {
			NOT = { has_country_flag = afr_prosperity_mechanic_nomadic_animal_husbandry_building_flag }
			OR = {
				has_variable = has_afr_empire_mechanic_system
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
			is_nomadic_nation_state = yes
		}
		allowed = { always = yes }
		
		cost = 50
		custom_cost_trigger = {
			check_variable = { afr_prosperity_mechanic_value > 14 }
		}
		custom_cost_text = afr_prosperity_mechanic_custom_cost_15
		complete_effect = {
			add_political_power = -50
			custom_effect_tooltip = afr_prosperity_mechanic_minus_15
			add_to_variable = {
				var = afr_prosperity_mechanic_value
				value = -15
			}
		}
		
		fire_only_once = yes
		
		days_remove = 250
		
		modifier = {
			political_power_cost = 0.5
		}
		
		remove_effect = {
			set_country_flag = afr_prosperity_mechanic_nomadic_animal_husbandry_building_flag
			set_country_flag = afr_nomadic_animal_husbandry_focus_horse
			if = {
				limit = {
					NOT = { has_tech = tribal_riding }
				}
				custom_effect_tooltip = afr_prosperity_has_no_riding_tech
			}
			else = {
				custom_effect_tooltip = afr_prosperity_mechanic_nomadic_animal_husbandry_tooltip
			}
		}
		
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_country_flag = afr_prosperity_mechanic_dont_select_flag
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 45 }
				AND = {
					has_country_flag = afr_reforming_regional_power_regional_resources_focus
					NOT = { has_country_flag = afr_reforming_regional_power_regional_resources_completed }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 45 }
				AND = {
					has_country_flag = afr_reforming_regional_power_regional_industry_focus
					NOT = { has_country_flag = afr_reforming_regional_power_regional_industry_completed }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 45 }
				AND = {
					has_country_flag = afr_reforming_regional_power_regional_infrastructure_focus
					NOT = { has_country_flag = afr_reforming_regional_power_regional_infrastructure_completed }
				}
			}
		}
	}
	
	afr_prosperity_mechanic_nomadic_blacksmith = {
		available = {
			custom_trigger_tooltip = {
				tooltip = Oceania_prosperity_mechanic_not_settled_trigger
				is_nomadic_nation_state = yes
			}
			custom_trigger_tooltip = {
				tooltip = afr_prosperity_mechanic_greater_than_15
				check_variable = {
					afr_prosperity_mechanic_value > 14
				}
			}
			has_tech = tribal_forging
			OR = {
				afr_is_tribal_allowed = yes
				oceania_is_tribal_allowed = yes
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
		}
		visible = {
			NOT = { has_country_flag = afr_prosperity_mechanic_nomadic_blacksmith_building_flag }
			OR = {
				has_variable = has_afr_empire_mechanic_system
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
			is_nomadic_nation_state = yes
		}
		allowed = { always = yes }
		
		cost = 50
		custom_cost_trigger = {
			check_variable = { afr_prosperity_mechanic_value > 14 }
		}
		custom_cost_text = afr_prosperity_mechanic_custom_cost_15
		complete_effect = {
			add_political_power = -50
			custom_effect_tooltip = afr_prosperity_mechanic_minus_15
			add_to_variable = {
				var = afr_prosperity_mechanic_value
				value = -15
			}
		}
		
		fire_only_once = yes
		
		days_remove = 1
		
		modifier = {
			political_power_cost = 0.5
		}
		
		remove_effect = {
			set_country_flag = afr_prosperity_mechanic_nomadic_blacksmith_building_flag
			set_country_flag = afr_nomadic_blacksmith_focus_tribal_weapons
			if = {
				limit = {
					NOT = { has_tech = tribal_forging }
				}
				custom_effect_tooltip = afr_prosperity_has_no_forging_tech
			}
			else = {
				custom_effect_tooltip = afr_prosperity_mechanic_nomadic_blacksmith_tooltip
			}
		}
		
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_country_flag = afr_prosperity_mechanic_dont_select_flag
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 45 }
				AND = {
					has_country_flag = afr_reforming_regional_power_regional_resources_focus
					NOT = { has_country_flag = afr_reforming_regional_power_regional_resources_completed }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 45 }
				AND = {
					has_country_flag = afr_reforming_regional_power_regional_industry_focus
					NOT = { has_country_flag = afr_reforming_regional_power_regional_industry_completed }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 45 }
				AND = {
					has_country_flag = afr_reforming_regional_power_regional_infrastructure_focus
					NOT = { has_country_flag = afr_reforming_regional_power_regional_infrastructure_completed }
				}
			}
		}
	}
 
	afr_prosperity_mechanic_build_farm = {
		available = {
			if = {
				limit = { is_nomadic_nation_state = yes }
				custom_trigger_tooltip = {
					tooltip = Oceania_prosperity_mechanic_is_nomadic_trigger
					NOT = { is_nomadic_nation_state = yes }
				}
			}
			else = {
				custom_trigger_tooltip = {
					tooltip = Oceania_prosperity_mechanic_not_nomadic_trigger
					always = yes
				}
				if = {
					limit = {
						NOT = { has_tech = tribal_crop_planting }
						NOT = { has_tech = tribal_irrigation }
						NOT = { has_tech = tribal_crop_rotation }
						NOT = { has_tech = mechanized_farming }
						NOT = { has_tech = threshing_machine }
					}
					custom_trigger_tooltip = {
						tooltip = afr_prosperity_mechanic_greater_than_30
							check_variable = {
							afr_prosperity_mechanic_value > 29
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_farm_research_tribal_crop_planting
						has_tech = tribal_crop_planting
					}
				}
				if = {
					limit = {
						all_owned_state = {
							if = {
								limit = { is_core_of = ROOT }
								farm > 0 
							}
							else = {
								always = no
							}
						}
						has_tech = tribal_crop_planting
						NOT = { has_tech = tribal_irrigation }
						NOT = { has_tech = tribal_crop_rotation }
						NOT = { has_tech = mechanized_farming }
						NOT = { has_tech = threshing_machine }
					}
					custom_trigger_tooltip = {
						tooltip = afr_prosperity_mechanic_greater_than_30
							check_variable = {
							afr_prosperity_mechanic_value > 29
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_farm_less_than_1
						any_state = { 
							farm < 1 
							is_core_of = ROOT
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_farm_research_tribal_irrigation
						has_tech = tribal_irrigation
					}
				}
				if = {
					limit = {
						all_owned_state = {
							if = {
								limit = { is_core_of = ROOT }
								farm > 2 
							}
							else = {
								always = no
							}
						}
						has_tech = tribal_crop_planting
						has_tech = tribal_irrigation
						NOT = { has_tech = tribal_crop_rotation }
						NOT = { has_tech = mechanized_farming }
						NOT = { has_tech = threshing_machine }
					}
					custom_trigger_tooltip = {
						tooltip = afr_prosperity_mechanic_greater_than_30
							check_variable = {
							afr_prosperity_mechanic_value > 29
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_farm_less_than_3
						any_state = { 
							farm < 3 
							is_core_of = ROOT
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_farm_research_tribal_irrigation
						has_tech = tribal_crop_rotation
					}
				}
				if = {
					limit = {
						all_owned_state = {
							if = {
								limit = { is_core_of = ROOT }
								farm > 4 
							}
							else = {
								always = no
							}
						}
						has_tech = tribal_crop_planting
						has_tech = tribal_irrigation
						has_tech = tribal_crop_rotation
						NOT = { has_tech = mechanized_farming }
						NOT = { has_tech = threshing_machine }
					}
					custom_trigger_tooltip = {
						tooltip = afr_prosperity_mechanic_greater_than_30
							check_variable = {
							afr_prosperity_mechanic_value > 29
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_farm_less_than_5
						any_state = { 
							farm < 5 
							is_core_of = ROOT
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_farm_research_mechanized_farming
						has_tech = mechanized_farming
					}
				}
				if = {
					limit = {
						all_owned_state = {
							if = {
								limit = { is_core_of = ROOT }
								farm > 7 
							}
							else = {
								always = no
							}
						}
						has_tech = tribal_crop_planting
						has_tech = tribal_irrigation
						has_tech = tribal_crop_rotation
						has_tech = mechanized_farming
						NOT = { has_tech = threshing_machine }
					}
					custom_trigger_tooltip = {
						tooltip = afr_prosperity_mechanic_greater_than_30
							check_variable = {
							afr_prosperity_mechanic_value > 29
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_farm_less_than_8
						any_state = { 
							farm < 8 
							is_core_of = ROOT
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_farm_research_threshing_machine
						has_tech = threshing_machine
					}
				}
				if = {
					limit = {
						any_owned_state = {
							is_core_of = ROOT
							farm < 1 
						}
						has_tech = tribal_crop_planting
						NOT = { has_tech = tribal_irrigation }
						NOT = { has_tech = tribal_crop_rotation }
						NOT = { has_tech = mechanized_farming }
						NOT = { has_tech = threshing_machine }
					}
					custom_trigger_tooltip = {
						tooltip = afr_prosperity_mechanic_greater_than_30
							check_variable = {
							afr_prosperity_mechanic_value > 29
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_farm_less_than_1
						any_state = { 
							farm < 1 
							is_core_of = ROOT
						}
					}
				}
				if = {
					limit = {
						any_owned_state = {
							is_core_of = ROOT
							farm < 3 
						}
						has_tech = tribal_crop_planting
						has_tech = tribal_irrigation
						NOT = { has_tech = tribal_crop_rotation }
						NOT = { has_tech = mechanized_farming }
						NOT = { has_tech = threshing_machine }
					}
					custom_trigger_tooltip = {
						tooltip = afr_prosperity_mechanic_greater_than_30
							check_variable = {
							afr_prosperity_mechanic_value > 29
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_farm_less_than_3
						any_state = { 
							farm < 3 
							is_core_of = ROOT
						}
					}
				}
				if = {
					limit = {
						any_owned_state = {
							is_core_of = ROOT
							farm < 5 
						}
						has_tech = tribal_crop_planting
						has_tech = tribal_irrigation
						has_tech = tribal_crop_rotation
						NOT = { has_tech = mechanized_farming }
						NOT = { has_tech = threshing_machine }
					}
					custom_trigger_tooltip = {
						tooltip = afr_prosperity_mechanic_greater_than_30
							check_variable = {
							afr_prosperity_mechanic_value > 29
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_farm_less_than_5
						any_state = { 
							farm < 5 
							is_core_of = ROOT
						}
					}
				}
				if = {
					limit = {
						any_owned_state = {
							is_core_of = ROOT
							farm < 8 
						}
						has_tech = tribal_crop_planting
						has_tech = tribal_irrigation
						has_tech = tribal_crop_rotation
						has_tech = mechanized_farming
						NOT = { has_tech = threshing_machine }
					}
					custom_trigger_tooltip = {
						tooltip = afr_prosperity_mechanic_greater_than_30
							check_variable = {
							afr_prosperity_mechanic_value > 29
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_farm_less_than_8
						any_state = { 
							farm < 8 
							is_core_of = ROOT
						}
					}
				}
				if = {
					limit = {
						has_tech = tribal_crop_planting
						has_tech = tribal_irrigation
						has_tech = tribal_crop_rotation
						has_tech = mechanized_farming
						has_tech = threshing_machine
					}
					custom_trigger_tooltip = {
						tooltip = afr_prosperity_mechanic_greater_than_30
							check_variable = {
							afr_prosperity_mechanic_value > 29
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_farm_less_than_10
						any_state = { 
							farm < 10 
							is_core_of = ROOT
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = Ocenaia_has_infrastructure_to_support_new_buildings
					any_owned_state = { 
						Oceania_infrastructure_for_extra_building_slots_trigger = yes 
						is_core_of = ROOT
					}
				}
				custom_trigger_tooltip = {
					tooltip = afr_prosperity_mechanic_construction
					check_variable = { afr_reforming_regional_power_construction_in_progress < 1 }
				}
			}
			OR = {
				afr_is_tribal_allowed = yes
				oceania_is_tribal_allowed = yes
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
		}

		visible = {
			OR = {
				has_variable = has_afr_empire_mechanic_system
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
		}
		allowed = { always = yes }

		cost = 30
		custom_cost_trigger = {
			check_variable = { afr_prosperity_mechanic_value > 29 }
		}
		custom_cost_text = afr_prosperity_mechanic_custom_cost_30

		complete_effect = {
			add_political_power = -25
			custom_effect_tooltip = afr_prosperity_mechanic_minus_30
			add_to_variable = {
				var = afr_prosperity_mechanic_value
				value = -30
			}
			add_to_variable = { var = afr_reforming_regional_power_construction_in_progress value = 1 }
		}

		days_remove = 275

		modifier = {
			political_power_cost = 0.5
		}

		remove_effect = {
			if = {
				limit = {
					any_owned_state = {
						is_core_of = ROOT 
						Oceania_farm_building_available_slots_for_tech_trigger = yes
						Oceania_infrastructure_for_extra_building_slots_trigger = yes
					}
				}
				random_owned_controlled_state = {
					limit = { 
						is_core_of = ROOT 
						Oceania_farm_building_available_slots_for_tech_trigger = yes
						Oceania_infrastructure_for_extra_building_slots_trigger = yes
					}
					hidden_effect = {
						add_to_variable = { Oceania_extra_state_shared_building_slots = 1 }
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = farm
						level = 1
						instant_build = yes
					}
					add_manpower = 1000
					if = {
						limit = { 
							OWNER = { 
								has_variable = has_afr_empire_mechanic_system
							} 
						}
						hidden_effect = { 
							state_event = { id = RCE_afr_regional_power.57 days = 120 trigger_for = controller }
							set_state_flag = afr_empire_politics_has_regional_development_boom_flag
							afr_empire_politics_state_gain_immigration = yes
							afr_empire_politics_state_gain_boom = yes
						}
						custom_effect_tooltip = afr_empire_politics_state_economy_status_boom_effect
					}
			   }
			   add_to_variable = { var = afr_reforming_regional_power_construction_in_progress value = -1 }
			}
			if = {
				limit = {
					has_tech = tribal_crop_planting
					all_owned_state = {
						if = {
							limit = { is_core_of = ROOT }
							NOT = { Oceania_farm_building_available_slots_for_tech_trigger = yes }
						}
						else = { 
							always = no
						}
					}
				}
				custom_effect_tooltip = Oceania_no_space_for_farm
			}
			if = {
				limit = {
					has_tech = tribal_crop_planting
					all_owned_state = {
						if = {
							limit = { is_core_of = ROOT }
							NOT = { Oceania_infrastructure_for_extra_building_slots_trigger = yes }
						}
						else = { 
							always = no
						}
					}
				}
				custom_effect_tooltip = Oceania_insufficient_infrastructure_for_regional_development
			}
			if = {
				limit = {
					NOT = { has_tech = tribal_crop_planting }
				}
				custom_effect_tooltip = Oceania_prosperity_has_no_farm_tech
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_country_flag = afr_prosperity_mechanic_dont_select_flag
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_country_flag = afr_reforming_regional_power_regional_resources_focus
					NOT = { has_country_flag = afr_reforming_regional_power_regional_resources_completed }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_country_flag = afr_reforming_regional_power_regional_industry_focus
					NOT = { has_country_flag = afr_reforming_regional_power_regional_industry_completed }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_country_flag = afr_reforming_regional_power_regional_infrastructure_focus
					NOT = { has_country_flag = afr_reforming_regional_power_regional_infrastructure_completed }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_completed_focus = ETH_clear_space_for_industry
					OR = {
						NOT = { has_completed_focus = ETH_reforming_regional_power_regional_resources }
						NOT = { has_completed_focus = ETH_reforming_regional_power_regional_infrastructure }
						NOT = { has_completed_focus = ETH_reforming_regional_power_regional_industry }
					}
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_completed_focus = ETH_clear_space_for_industry
					has_completed_focus = ETH_train_defensive_tactics
					NOT = { has_completed_focus = ETH_plan_military_infrastructure }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_completed_focus = ETH_adress_education
					NOT = { has_completed_focus = ETH_western_inspired_university }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_completed_focus = ETH_study_artillery
					NOT = { has_completed_focus = ETH_foreign_artillery_instructors }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					OR = {
						has_completed_focus = afr_improve_our_army
						has_completed_focus = afr_create_naval_designs
					}
					NOT = { has_completed_focus = afr_reforming_regional_power_regional_investment }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_completed_focus = afr_reforming_regional_power_regional_investment
					OR = {
						NOT = { has_completed_focus = afr_reforming_regional_power_regional_resources }
						NOT = { has_completed_focus = afr_reforming_regional_power_regional_infrastructure }
						NOT = { has_completed_focus = afr_reforming_regional_power_regional_industry }
					}
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					OR = {
						has_completed_focus = afr_mechanical_engineering_research
						has_completed_focus = afr_electronic_device_production
					}
					NOT = { has_completed_focus = afr_expand_research_facilities }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_completed_focus = afr_dirt_to_paved_roads
					NOT = { has_completed_focus = afr_regular_road_matenece }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_completed_focus = afr_military_technology_development
					NOT = { has_completed_focus = afr_military_production_streamlining }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					AND = {
						has_completed_focus = afr_plan_a_naval_force
						has_completed_focus = afr_reforming_regional_power_regional_infrastructure
					}
					NOT = { has_completed_focus = afr_build_a_port }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				if = {
					limit = { 
						all_owned_state = { naval_base < 1 }
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_has_infrastructure_to_support_new_buildings_on_coast
						any_owned_state = {
							Oceania_one_extra_building_slots_supported_for_coast_not_core_trigger = yes
						}
					}
				}
				else = {
					any_owned_state = {
						is_coastal = yes
						naval_base > 0
					}
				}
				OR = {
					AND = {
						has_completed_focus = afr_inward_regional_power_expanding_our_regional_power
						NOT = { has_completed_focus = afr_inward_regional_power_establish_port_town }
					}
					AND = {
						has_completed_focus = afr_jihadist_regional_power_expanding_our_regional_power
						NOT = { has_completed_focus = afr_jihadist_regional_power_establish_port_town }
					}
				}
			}
		}
	}
	
	afr_prosperity_mechanic_build_cotton_farm = {
		available = {
			if = {
				limit = { is_nomadic_nation_state = yes }
				custom_trigger_tooltip = {
					tooltip = Oceania_prosperity_mechanic_is_nomadic_trigger
					NOT = { is_nomadic_nation_state = yes }
				}
			}
			else = {
				custom_trigger_tooltip = {
					tooltip = Oceania_prosperity_mechanic_not_nomadic_trigger
					always = yes
				}
				if = {
					limit = {
						NOT = { has_tech = tribal_crop_planting }
						NOT = { has_tech = tribal_irrigation }
						NOT = { has_tech = tribal_crop_rotation }
						NOT = { has_tech = mechanized_farming }
						NOT = { has_tech = threshing_machine }
					}
					custom_trigger_tooltip = {
						tooltip = afr_prosperity_mechanic_greater_than_40
							check_variable = {
							afr_prosperity_mechanic_value > 39
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_cotton_farm_research_tribal_crop_planting
						has_tech = tribal_crop_planting
					}
				}
				if = {
					limit = {
						all_owned_state = {
							if = {
								limit = { is_core_of = ROOT }
								cotton_farm > 0 
							}
							else = {
								always = no
							}
						}
						has_tech = tribal_crop_planting
						NOT = { has_tech = tribal_irrigation }
						NOT = { has_tech = tribal_crop_rotation }
						NOT = { has_tech = mechanized_farming }
						NOT = { has_tech = threshing_machine }
					}
					custom_trigger_tooltip = {
						tooltip = afr_prosperity_mechanic_greater_than_40
							check_variable = {
							afr_prosperity_mechanic_value > 39
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_cotton_farm_less_than_1
						any_state = { 
							cotton_farm < 1 
							is_core_of = ROOT
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_cotton_farm_research_tribal_irrigation
						has_tech = tribal_irrigation
					}
				}
				if = {
					limit = {
						all_owned_state = {
							if = {
								limit = { is_core_of = ROOT }
								cotton_farm > 2 
							}
							else = {
								always = no
							}
						}
						has_tech = tribal_crop_planting
						has_tech = tribal_irrigation
						NOT = { has_tech = tribal_crop_rotation }
						NOT = { has_tech = mechanized_farming }
						NOT = { has_tech = threshing_machine }
					}
					custom_trigger_tooltip = {
						tooltip = afr_prosperity_mechanic_greater_than_40
							check_variable = {
							afr_prosperity_mechanic_value > 39
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_cotton_farm_less_than_3
						any_state = { 
							cotton_farm < 3 
							is_core_of = ROOT
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_cotton_farm_research_tribal_irrigation
						has_tech = tribal_crop_rotation
					}
				}
				if = {
					limit = {
						all_owned_state = {
							if = {
								limit = { is_core_of = ROOT }
								cotton_farm > 4 
							}
							else = {
								always = no
							}
						}
						has_tech = tribal_crop_planting
						has_tech = tribal_irrigation
						has_tech = tribal_crop_rotation
						NOT = { has_tech = mechanized_farming }
						NOT = { has_tech = threshing_machine }
					}
					custom_trigger_tooltip = {
						tooltip = afr_prosperity_mechanic_greater_than_40
							check_variable = {
							afr_prosperity_mechanic_value > 39
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_cotton_farm_less_than_5
						any_state = { 
							cotton_farm < 5 
							is_core_of = ROOT
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_cotton_farm_research_mechanized_farming
						has_tech = mechanized_farming
					}
				}
				if = {
					limit = {
						all_owned_state = {
							if = {
								limit = { is_core_of = ROOT }
								cotton_farm > 7 
							}
							else = {
								always = no
							}
						}
						has_tech = tribal_crop_planting
						has_tech = tribal_irrigation
						has_tech = tribal_crop_rotation
						has_tech = mechanized_farming
						NOT = { has_tech = threshing_machine }
					}
					custom_trigger_tooltip = {
						tooltip = afr_prosperity_mechanic_greater_than_40
							check_variable = {
							afr_prosperity_mechanic_value > 39
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_cotton_farm_less_than_8
						any_state = { 
							cotton_farm < 8 
							is_core_of = ROOT
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_cotton_farm_research_threshing_machine
						has_tech = threshing_machine
					}
				}
				if = {
					limit = {
						any_owned_state = {
							is_core_of = ROOT
							cotton_farm < 1 
						}
						has_tech = tribal_crop_planting
						NOT = { has_tech = tribal_irrigation }
						NOT = { has_tech = tribal_crop_rotation }
						NOT = { has_tech = mechanized_farming }
						NOT = { has_tech = threshing_machine }
					}
					custom_trigger_tooltip = {
						tooltip = afr_prosperity_mechanic_greater_than_40
							check_variable = {
							afr_prosperity_mechanic_value > 39
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_cotton_farm_less_than_1
						any_state = { 
							cotton_farm < 1 
							is_core_of = ROOT
						}
					}
				}
				if = {
					limit = {
						any_owned_state = {
							is_core_of = ROOT
							cotton_farm < 3 
						}
						has_tech = tribal_crop_planting
						has_tech = tribal_irrigation
						NOT = { has_tech = tribal_crop_rotation }
						NOT = { has_tech = mechanized_farming }
						NOT = { has_tech = threshing_machine }
					}
					custom_trigger_tooltip = {
						tooltip = afr_prosperity_mechanic_greater_than_40
							check_variable = {
							afr_prosperity_mechanic_value > 39
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_cotton_farm_less_than_3
						any_state = { 
							cotton_farm < 3 
							is_core_of = ROOT
						}
					}
				}
				if = {
					limit = {
						any_owned_state = {
							is_core_of = ROOT
							cotton_farm < 5 
						}
						has_tech = tribal_crop_planting
						has_tech = tribal_irrigation
						has_tech = tribal_crop_rotation
						NOT = { has_tech = mechanized_farming }
						NOT = { has_tech = threshing_machine }
					}
					custom_trigger_tooltip = {
						tooltip = afr_prosperity_mechanic_greater_than_40
							check_variable = {
							afr_prosperity_mechanic_value > 39
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_cotton_farm_less_than_5
						any_state = { 
							cotton_farm < 5 
							is_core_of = ROOT
						}
					}
				}
				if = {
					limit = {
						any_owned_state = {
							is_core_of = ROOT
							cotton_farm < 8 
						}
						has_tech = tribal_crop_planting
						has_tech = tribal_irrigation
						has_tech = tribal_crop_rotation
						has_tech = mechanized_farming
						NOT = { has_tech = threshing_machine }
					}
					custom_trigger_tooltip = {
						tooltip = afr_prosperity_mechanic_greater_than_40
							check_variable = {
							afr_prosperity_mechanic_value > 39
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_cotton_farm_less_than_8
						any_state = { 
							cotton_farm < 8 
							is_core_of = ROOT
						}
					}
				}
				if = {
					limit = {
						has_tech = tribal_crop_planting
						has_tech = tribal_irrigation
						has_tech = tribal_crop_rotation
						has_tech = mechanized_farming
						has_tech = threshing_machine
					}
					custom_trigger_tooltip = {
						tooltip = afr_prosperity_mechanic_greater_than_40
							check_variable = {
							afr_prosperity_mechanic_value > 39
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_cotton_farm_less_than_10
						any_state = { 
							cotton_farm < 10 
							is_core_of = ROOT
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = Ocenaia_has_resource_deposit_for_cotton_farm
					any_owned_state = {
						has_climate_for_cotton = yes
						is_core_of = ROOT
					}
				}
				custom_trigger_tooltip = {
					tooltip = Ocenaia_has_infrastructure_to_support_new_buildings
					any_owned_state = { 
						Oceania_infrastructure_for_extra_building_slots_trigger = yes 
						is_core_of = ROOT
					}
				}
				custom_trigger_tooltip = {
					tooltip = afr_prosperity_mechanic_construction
					check_variable = { afr_reforming_regional_power_construction_in_progress < 1 }
				}
			}
			OR = {
				afr_is_tribal_allowed = yes
				oceania_is_tribal_allowed = yes
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
		}

		visible = {
			OR = {
				has_variable = has_afr_empire_mechanic_system
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
		}
		allowed = { always = yes }

		cost = 40
		custom_cost_trigger = {
			check_variable = { afr_prosperity_mechanic_value > 39 }
		}
		custom_cost_text = afr_prosperity_mechanic_custom_cost_40

		complete_effect = {
			add_political_power = -50
			custom_effect_tooltip = afr_prosperity_mechanic_minus_40
			add_to_variable = {
				var = afr_prosperity_mechanic_value
				value = -40
			}
			add_to_variable = { var = afr_reforming_regional_power_construction_in_progress value = 1 }
		}

		days_remove = 360

		modifier = {
			political_power_cost = 0.5
		}

		remove_effect = {
			if = {
				limit = {
					any_owned_state = {
						is_core_of = ROOT 
						has_climate_for_cotton = yes
						Oceania_cotton_farm_building_available_slots_for_tech_trigger = yes
						Oceania_infrastructure_for_extra_building_slots_trigger = yes
					}
				}
				random_owned_controlled_state ={
					limit = {
						is_core_of = ROOT 
						has_climate_for_cotton = yes
						Oceania_cotton_farm_building_available_slots_for_tech_trigger = yes
						Oceania_infrastructure_for_extra_building_slots_trigger = yes
					}
					hidden_effect = {
						add_to_variable = { Oceania_extra_state_shared_building_slots = 1 }
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = cotton_farm
						level = 1
						instant_build = yes
					}
					if = {
						limit = { 
							OWNER = { 
								has_variable = has_afr_empire_mechanic_system
							} 
						}
						hidden_effect = { 
							state_event = { id = RCE_afr_regional_power.57 days = 120 trigger_for = controller }
							set_state_flag = afr_empire_politics_has_regional_development_boom_flag
							afr_empire_politics_state_gain_immigration = yes
							afr_empire_politics_state_gain_boom = yes
						}
						custom_effect_tooltip = afr_empire_politics_state_economy_status_boom_effect
					}
			   }
			   add_to_variable = { var = afr_reforming_regional_power_construction_in_progress value = -1 }
			}
			if = {
				limit = {
					has_tech = tribal_crop_planting
					all_owned_state = {
						if = {
							limit = { is_core_of = ROOT }
							has_climate_for_cotton = yes
							NOT = { Oceania_cotton_farm_building_available_slots_for_tech_trigger = yes }
						}
						else = { 
							always = no
						}
					}
				}
				custom_effect_tooltip = Oceania_no_space_for_cotton_farm
			}
			if = {
				limit = {
					has_tech = tribal_crop_planting
					all_owned_state = {
						if = {
							limit = { is_core_of = ROOT }
							has_climate_for_cotton = yes
							NOT = { Oceania_infrastructure_for_extra_building_slots_trigger = yes }
						}
						else = { 
							always = no
						}
					}
				}
				custom_effect_tooltip = Oceania_insufficient_infrastructure_for_regional_development
			}
			if = {
				limit = {
					all_owned_state = {
						if = {
							limit = { is_core_of = ROOT }
							NOT = { has_climate_for_cotton = yes }
						}
						else = {
							always = no
						}
					}
				}
				custom_effect_tooltip = Oceania_prosperity_has_no_cotton_climate
			}
			if = {
				limit = {
					NOT = { has_tech = tribal_crop_planting }
				}
				custom_effect_tooltip = Oceania_prosperity_has_no_cotton_farm_tech
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_country_flag = afr_prosperity_mechanic_dont_select_flag
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_country_flag = afr_reforming_regional_power_regional_resources_focus
					NOT = { has_country_flag = afr_reforming_regional_power_regional_resources_completed }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_country_flag = afr_reforming_regional_power_regional_industry_focus
					NOT = { has_country_flag = afr_reforming_regional_power_regional_industry_completed }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_country_flag = afr_reforming_regional_power_regional_infrastructure_focus
					NOT = { has_country_flag = afr_reforming_regional_power_regional_infrastructure_completed }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_completed_focus = ETH_clear_space_for_industry
					OR = {
						NOT = { has_completed_focus = ETH_reforming_regional_power_regional_resources }
						NOT = { has_completed_focus = ETH_reforming_regional_power_regional_infrastructure }
						NOT = { has_completed_focus = ETH_reforming_regional_power_regional_industry }
					}
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_completed_focus = ETH_clear_space_for_industry
					has_completed_focus = ETH_train_defensive_tactics
					NOT = { has_completed_focus = ETH_plan_military_infrastructure }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_completed_focus = ETH_adress_education
					NOT = { has_completed_focus = ETH_western_inspired_university }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_completed_focus = ETH_study_artillery
					NOT = { has_completed_focus = ETH_foreign_artillery_instructors }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					OR = {
						has_completed_focus = afr_improve_our_army
						has_completed_focus = afr_create_naval_designs
					}
					NOT = { has_completed_focus = afr_reforming_regional_power_regional_investment }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_completed_focus = afr_reforming_regional_power_regional_investment
					OR = {
						NOT = { has_completed_focus = afr_reforming_regional_power_regional_resources }
						NOT = { has_completed_focus = afr_reforming_regional_power_regional_infrastructure }
						NOT = { has_completed_focus = afr_reforming_regional_power_regional_industry }
					}
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					OR = {
						has_completed_focus = afr_mechanical_engineering_research
						has_completed_focus = afr_electronic_device_production
					}
					NOT = { has_completed_focus = afr_expand_research_facilities }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_completed_focus = afr_dirt_to_paved_roads
					NOT = { has_completed_focus = afr_regular_road_matenece }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_completed_focus = afr_military_technology_development
					NOT = { has_completed_focus = afr_military_production_streamlining }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					AND = {
						has_completed_focus = afr_plan_a_naval_force
						has_completed_focus = afr_reforming_regional_power_regional_infrastructure
					}
					NOT = { has_completed_focus = afr_build_a_port }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				if = {
					limit = { 
						all_owned_state = { naval_base < 1 }
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_has_infrastructure_to_support_new_buildings_on_coast
						any_owned_state = {
							Oceania_one_extra_building_slots_supported_for_coast_not_core_trigger = yes
						}
					}
				}
				else = {
					any_owned_state = {
						is_coastal = yes
						naval_base > 0
					}
				}
				OR = {
					AND = {
						has_completed_focus = afr_inward_regional_power_expanding_our_regional_power
						NOT = { has_completed_focus = afr_inward_regional_power_establish_port_town }
					}
					AND = {
						has_completed_focus = afr_jihadist_regional_power_expanding_our_regional_power
						NOT = { has_completed_focus = afr_jihadist_regional_power_establish_port_town }
					}
				}
			}
		}
	}
	
	afr_prosperity_mechanic_build_logging_camp = {
		available = {
			if = {
				limit = { is_nomadic_nation_state = yes }
				custom_trigger_tooltip = {
					tooltip = Oceania_prosperity_mechanic_is_nomadic_trigger
					NOT = { is_nomadic_nation_state = yes }
				}
			}
			else = {
				custom_trigger_tooltip = {
					tooltip = Oceania_prosperity_mechanic_not_nomadic_trigger
					always = yes
				}
				if = {
					limit = {
						all_owned_state = {
							if = {
								limit = { is_core_of = ROOT }
								logging_camp > 0 
							}
							else = {
								always = no
							}
						}
						NOT = { has_tech = industrial_era_tools_1 }
					}
					custom_trigger_tooltip = {
						tooltip = afr_prosperity_mechanic_greater_than_40
							check_variable = {
							afr_prosperity_mechanic_value > 39
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_logging_camp_less_than_1
						any_state = { 
							logging_camp < 1 
							is_core_of = ROOT
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_logging_camp_research_industrial_era_tools_1
						has_tech = industrial_era_tools_1
					}
				}
				if = {
					limit = {
						has_tech = industrial_era_tools_1
					}
					custom_trigger_tooltip = {
						tooltip = afr_prosperity_mechanic_greater_than_40
							check_variable = {
							afr_prosperity_mechanic_value > 39
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_logging_camp_less_than_5
						any_state = { 
							logging_camp < 5 
							is_core_of = ROOT
						}
					}
				}
				if = {
					limit = {
						any_owned_state = {
							is_core_of = ROOT
							logging_camp < 1 
						}
						NOT = { has_tech = industrial_era_tools_1 }
					}
					custom_trigger_tooltip = {
						tooltip = afr_prosperity_mechanic_greater_than_40
							check_variable = {
							afr_prosperity_mechanic_value > 39
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_logging_camp_less_than_1
						any_state = { 
							logging_camp < 1 
							is_core_of = ROOT
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = Ocenaia_has_resource_deposit_for_logging_camp
					any_owned_state = {
						has_forests = yes
						is_core_of = ROOT
					}
				}
				custom_trigger_tooltip = {
					tooltip = Ocenaia_has_infrastructure_to_support_new_buildings
					any_owned_state = { 
						Oceania_infrastructure_for_extra_building_slots_trigger = yes 
						is_core_of = ROOT
					}
				}
				custom_trigger_tooltip = {
					tooltip = afr_prosperity_mechanic_construction
					check_variable = { afr_reforming_regional_power_construction_in_progress < 1 }
				}
			}
			OR = {
				afr_is_tribal_allowed = yes
				oceania_is_tribal_allowed = yes
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
		}

		visible = {
			OR = {
				has_variable = has_afr_empire_mechanic_system
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
		}
		allowed = { always = yes }

		cost = 40
		custom_cost_trigger = {
			check_variable = { afr_prosperity_mechanic_value > 39 }
		}
		custom_cost_text = afr_prosperity_mechanic_custom_cost_40

		complete_effect = {
			add_political_power = -50
			custom_effect_tooltip = afr_prosperity_mechanic_minus_40
			add_to_variable = {
				var = afr_prosperity_mechanic_value
				value = -40
			}
			add_to_variable = { var = afr_reforming_regional_power_construction_in_progress value = 1 }
		}

		days_remove = 360

		modifier = {
			political_power_cost = 0.5
		}

		remove_effect = {
			if = {
				limit = {
					any_owned_state = {
						has_forests = yes
						is_core_of = ROOT 
						Oceania_logging_camp_building_available_slots_for_tech_trigger = yes
						Oceania_infrastructure_for_extra_building_slots_trigger = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						has_forests = yes
						is_core_of = ROOT 
						Oceania_logging_camp_building_available_slots_for_tech_trigger = yes
						Oceania_infrastructure_for_extra_building_slots_trigger = yes
					}
					hidden_effect = {
						add_to_variable = { Oceania_extra_state_shared_building_slots = 1 }
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = logging_camp
						level = 1
						instant_build = yes
					}
					if = {
						limit = { 
							OWNER = { 
								has_variable = has_afr_empire_mechanic_system
							} 
						}
						hidden_effect = { 
							state_event = { id = RCE_afr_regional_power.57 days = 120 trigger_for = controller }
							set_state_flag = afr_empire_politics_has_regional_development_boom_flag
							afr_empire_politics_state_gain_immigration = yes
							afr_empire_politics_state_gain_boom = yes
						}
						custom_effect_tooltip = afr_empire_politics_state_economy_status_boom_effect
					}
				}
				add_to_variable = { var = afr_reforming_regional_power_construction_in_progress value = -1 }
			}
			if = {
				limit = {
					all_owned_state = {
						if = {
							limit = { is_core_of = ROOT }
							has_forests = yes
							NOT = { Oceania_logging_camp_building_available_slots_for_tech_trigger = yes }
						}
						else = { 
							always = no
						}
					}
				}
				custom_effect_tooltip = Oceania_no_space_for_logging_camp
			}
			if = {
				limit = {
					all_owned_state = {
						if = {
							limit = { is_core_of = ROOT }
							has_forests = yes
							NOT = { Oceania_infrastructure_for_extra_building_slots_trigger = yes }
						}
						else = { 
							always = no
						}
					}
				}
				custom_effect_tooltip = Oceania_insufficient_infrastructure_for_regional_development
			}
			if = {
				limit = {
					all_owned_state = {
						if = {
							limit = { is_core_of = ROOT }
							NOT = { has_forests = yes }
						}
						else = {
							always = no
						}
					}
				}
				custom_effect_tooltip = Oceania_prosperity_has_no_forest_deposit
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_country_flag = afr_prosperity_mechanic_dont_select_flag
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_country_flag = afr_reforming_regional_power_regional_resources_focus
					NOT = { has_country_flag = afr_reforming_regional_power_regional_resources_completed }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_country_flag = afr_reforming_regional_power_regional_industry_focus
					NOT = { has_country_flag = afr_reforming_regional_power_regional_industry_completed }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_country_flag = afr_reforming_regional_power_regional_infrastructure_focus
					NOT = { has_country_flag = afr_reforming_regional_power_regional_infrastructure_completed }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_completed_focus = ETH_clear_space_for_industry
					OR = {
						NOT = { has_completed_focus = ETH_reforming_regional_power_regional_resources }
						NOT = { has_completed_focus = ETH_reforming_regional_power_regional_infrastructure }
						NOT = { has_completed_focus = ETH_reforming_regional_power_regional_industry }
					}
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_completed_focus = ETH_clear_space_for_industry
					has_completed_focus = ETH_train_defensive_tactics
					NOT = { has_completed_focus = ETH_plan_military_infrastructure }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_completed_focus = ETH_adress_education
					NOT = { has_completed_focus = ETH_western_inspired_university }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_completed_focus = ETH_study_artillery
					NOT = { has_completed_focus = ETH_foreign_artillery_instructors }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					OR = {
						has_completed_focus = afr_improve_our_army
						has_completed_focus = afr_create_naval_designs
					}
					NOT = { has_completed_focus = afr_reforming_regional_power_regional_investment }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_completed_focus = afr_reforming_regional_power_regional_investment
					OR = {
						NOT = { has_completed_focus = afr_reforming_regional_power_regional_resources }
						NOT = { has_completed_focus = afr_reforming_regional_power_regional_infrastructure }
						NOT = { has_completed_focus = afr_reforming_regional_power_regional_industry }
					}
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					OR = {
						has_completed_focus = afr_mechanical_engineering_research
						has_completed_focus = afr_electronic_device_production
					}
					NOT = { has_completed_focus = afr_expand_research_facilities }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_completed_focus = afr_dirt_to_paved_roads
					NOT = { has_completed_focus = afr_regular_road_matenece }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_completed_focus = afr_military_technology_development
					NOT = { has_completed_focus = afr_military_production_streamlining }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					AND = {
						has_completed_focus = afr_plan_a_naval_force
						has_completed_focus = afr_reforming_regional_power_regional_infrastructure
					}
					NOT = { has_completed_focus = afr_build_a_port }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				if = {
					limit = { 
						all_owned_state = { naval_base < 1 }
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_has_infrastructure_to_support_new_buildings_on_coast
						any_owned_state = {
							Oceania_one_extra_building_slots_supported_for_coast_not_core_trigger = yes
						}
					}
				}
				else = {
					any_owned_state = {
						is_coastal = yes
						naval_base > 0
					}
				}
				OR = {
					AND = {
						has_completed_focus = afr_inward_regional_power_expanding_our_regional_power
						NOT = { has_completed_focus = afr_inward_regional_power_establish_port_town }
					}
					AND = {
						has_completed_focus = afr_jihadist_regional_power_expanding_our_regional_power
						NOT = { has_completed_focus = afr_jihadist_regional_power_establish_port_town }
					}
				}
			}
		}
	}
	
	afr_prosperity_mechanic_build_coal_mine = {
		available = {
			if = {
				limit = { is_nomadic_nation_state = yes }
				custom_trigger_tooltip = {
					tooltip = Oceania_prosperity_mechanic_is_nomadic_trigger
					NOT = { is_nomadic_nation_state = yes }
				}
			}
			else = {
				custom_trigger_tooltip = {
					tooltip = Oceania_prosperity_mechanic_not_nomadic_trigger
					always = yes
				}
				if = {
					limit = {
						NOT = { has_tech = refining }
						NOT = { has_tech = mechanized_mining }
					}
					custom_trigger_tooltip = {
						tooltip = afr_prosperity_mechanic_greater_than_40
							check_variable = {
							afr_prosperity_mechanic_value > 39
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_coal_mine_research_refining
						has_tech = refining
					}
				}
				if = {
					limit = {
						all_owned_state = {
							if = {
								limit = { is_core_of = ROOT }
								coal_mine > 0 
							}
							else = {
								always = no 
							}
						}
						has_tech = refining
						NOT = { has_tech = mechanized_mining }
					}
					custom_trigger_tooltip = {
						tooltip = afr_prosperity_mechanic_greater_than_40
							check_variable = {
							afr_prosperity_mechanic_value > 39
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_coal_mine_less_than_1
						any_state = { 
							coal_mine < 1 
							is_core_of = ROOT
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_coal_mine_research_mechanized_mining
						has_tech = mechanized_mining
					}
				}
				if = {
					limit = {
						has_tech = refining
						has_tech = mechanized_mining
					}
					custom_trigger_tooltip = {
						tooltip = afr_prosperity_mechanic_greater_than_40
							check_variable = {
							afr_prosperity_mechanic_value > 39
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_coal_mine_less_than_3
						any_state = { 
							coal_mine < 3 
							is_core_of = ROOT
						}
					}
				}
				if = {
					limit = {
						any_owned_state = {
							is_core_of = ROOT
							coal_mine < 1 
						}
						has_tech = refining
						NOT = { has_tech = mechanized_mining }
					}
					custom_trigger_tooltip = {
						tooltip = afr_prosperity_mechanic_greater_than_40
							check_variable = {
							afr_prosperity_mechanic_value > 39
						}
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_coal_mine_less_than_1
						any_state = { 
							coal_mine < 1 
							is_core_of = ROOT
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = Ocenaia_has_resource_deposit_for_coal_mine
					any_owned_state = {
						has_coal_desposits = yes
						is_core_of = ROOT
					}
				}
				custom_trigger_tooltip = {
					tooltip = Ocenaia_has_infrastructure_to_support_new_buildings
					any_owned_state = { 
						Oceania_infrastructure_for_extra_building_slots_trigger = yes 
						is_core_of = ROOT
					}
				}
				custom_trigger_tooltip = {
					tooltip = afr_prosperity_mechanic_construction
					check_variable = { afr_reforming_regional_power_construction_in_progress < 1 }
				}
			}
			OR = {
				afr_is_tribal_allowed = yes
				oceania_is_tribal_allowed = yes
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
		}

		visible = {
			OR = {
				has_variable = has_afr_empire_mechanic_system
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
		}
		allowed = { always = yes }

		cost = 40
		custom_cost_trigger = {
			check_variable = { afr_prosperity_mechanic_value > 39 }
		}
		custom_cost_text = afr_prosperity_mechanic_custom_cost_40

		complete_effect = {
			add_political_power = -50
			custom_effect_tooltip = afr_prosperity_mechanic_minus_40
			add_to_variable = {
				var = afr_prosperity_mechanic_value
				value = -40
			}
			add_to_variable = { var = afr_reforming_regional_power_construction_in_progress value = 1 }
		}

		days_remove = 360

		modifier = {
			political_power_cost = 0.5
		}

		remove_effect = {
			if = {
				limit = {
					any_owned_state = {
						has_coal_desposits = yes
						is_core_of = ROOT 
						Oceania_coal_mine_building_available_slots_for_tech_trigger = yes
						Oceania_infrastructure_for_extra_building_slots_trigger = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						has_coal_desposits = yes
						is_core_of = ROOT 
						Oceania_coal_mine_building_available_slots_for_tech_trigger = yes
						Oceania_infrastructure_for_extra_building_slots_trigger = yes
					}
					hidden_effect = {
						add_to_variable = { Oceania_extra_state_shared_building_slots = 1 }
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = coal_mine
						level = 1
						instant_build = yes
					}
					if = {
						limit = { 
							OWNER = { 
								has_variable = has_afr_empire_mechanic_system
							} 
						}
						hidden_effect = { 
							state_event = { id = RCE_afr_regional_power.57 days = 120 trigger_for = controller }
							set_state_flag = afr_empire_politics_has_regional_development_boom_flag
							afr_empire_politics_state_gain_immigration = yes
							afr_empire_politics_state_gain_boom = yes
						}
						custom_effect_tooltip = afr_empire_politics_state_economy_status_boom_effect
					}
				}
				add_to_variable = { var = afr_reforming_regional_power_construction_in_progress value = -1 }
			}
			if = {
				limit = {
					has_tech = refining
					all_owned_state = {
						if = {
							limit = { is_core_of = ROOT }
							has_coal_desposits = yes
							NOT = { Oceania_coal_mine_building_available_slots_for_tech_trigger = yes }
						}
						else = { 
							always = no
						}
					}
				}
				custom_effect_tooltip = Oceania_no_space_for_coal_mine
			}
			if = {
				limit = {
					has_tech = refining
					all_owned_state = {
						if = {
							limit = { is_core_of = ROOT }
							has_coal_desposits = yes
							NOT = { Oceania_infrastructure_for_extra_building_slots_trigger = yes }
						}
						else = { 
							always = no
						}
					}
				}
				custom_effect_tooltip = Oceania_insufficient_infrastructure_for_regional_development
			}
			if = {
				limit = {
					all_owned_state = {
						if = {
							limit = { is_core_of = ROOT }
							NOT = { has_coal_desposits = yes }
						}
						else = {
							always = no
						}
					}
				}
				custom_effect_tooltip = Oceania_prosperity_has_no_coal_deposit
			}
			if = {
				limit = {
					NOT = { has_tech = refining }
				}
				custom_effect_tooltip = Oceania_prosperity_has_no_coal_mine_tech
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_country_flag = afr_prosperity_mechanic_dont_select_flag
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_country_flag = afr_reforming_regional_power_regional_resources_focus
					NOT = { has_country_flag = afr_reforming_regional_power_regional_resources_completed }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_country_flag = afr_reforming_regional_power_regional_industry_focus
					NOT = { has_country_flag = afr_reforming_regional_power_regional_industry_completed }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_country_flag = afr_reforming_regional_power_regional_infrastructure_focus
					NOT = { has_country_flag = afr_reforming_regional_power_regional_infrastructure_completed }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_completed_focus = ETH_clear_space_for_industry
					OR = {
						NOT = { has_completed_focus = ETH_reforming_regional_power_regional_resources }
						NOT = { has_completed_focus = ETH_reforming_regional_power_regional_infrastructure }
						NOT = { has_completed_focus = ETH_reforming_regional_power_regional_industry }
					}
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_completed_focus = ETH_clear_space_for_industry
					has_completed_focus = ETH_train_defensive_tactics
					NOT = { has_completed_focus = ETH_plan_military_infrastructure }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_completed_focus = ETH_adress_education
					NOT = { has_completed_focus = ETH_western_inspired_university }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_completed_focus = ETH_study_artillery
					NOT = { has_completed_focus = ETH_foreign_artillery_instructors }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					OR = {
						has_completed_focus = afr_improve_our_army
						has_completed_focus = afr_create_naval_designs
					}
					NOT = { has_completed_focus = afr_reforming_regional_power_regional_investment }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_completed_focus = afr_reforming_regional_power_regional_investment
					OR = {
						NOT = { has_completed_focus = afr_reforming_regional_power_regional_resources }
						NOT = { has_completed_focus = afr_reforming_regional_power_regional_infrastructure }
						NOT = { has_completed_focus = afr_reforming_regional_power_regional_industry }
					}
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					OR = {
						has_completed_focus = afr_mechanical_engineering_research
						has_completed_focus = afr_electronic_device_production
					}
					NOT = { has_completed_focus = afr_expand_research_facilities }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_completed_focus = afr_dirt_to_paved_roads
					NOT = { has_completed_focus = afr_regular_road_matenece }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					has_completed_focus = afr_military_technology_development
					NOT = { has_completed_focus = afr_military_production_streamlining }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				AND = {
					AND = {
						has_completed_focus = afr_plan_a_naval_force
						has_completed_focus = afr_reforming_regional_power_regional_infrastructure
					}
					NOT = { has_completed_focus = afr_build_a_port }
				}
			}
			modifier = {
				factor = 0
				check_variable = { afr_prosperity_mechanic_value < 80 }
				if = {
					limit = { 
						all_owned_state = { naval_base < 1 }
					}
					custom_trigger_tooltip = {
						tooltip = Ocenaia_has_infrastructure_to_support_new_buildings_on_coast
						any_owned_state = {
							Oceania_one_extra_building_slots_supported_for_coast_not_core_trigger = yes
						}
					}
				}
				else = {
					any_owned_state = {
						is_coastal = yes
						naval_base > 0
					}
				}
				OR = {
					AND = {
						has_completed_focus = afr_inward_regional_power_expanding_our_regional_power
						NOT = { has_completed_focus = afr_inward_regional_power_establish_port_town }
					}
					AND = {
						has_completed_focus = afr_jihadist_regional_power_expanding_our_regional_power
						NOT = { has_completed_focus = afr_jihadist_regional_power_establish_port_town }
					}
				}
			}
		}
	}
	
	afr_prosperity_mechanic_clear_development = {
		available = {
			custom_trigger_tooltip = {
				tooltip = afr_prosperity_mechanic_greater_than_10
					check_variable = {
					afr_prosperity_mechanic_value > 9
				}
			}
			custom_trigger_tooltip = {
				tooltip = Ocenaia_has_insufficient_infrastructure_to_support_new_buildings
				all_owned_state = {
					if = {
						limit = {
							is_core_of = ROOT
						}
						is_core_of = ROOT
						Oceania_infrastructure_for_extra_building_slots_trigger = no 
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = Ocenaia_has_infrastructure_to_support_clearing_land
				any_owned_state = { 
					Oceania_infrastructure_for_clearing_building_slots_trigger = yes 
					is_core_of = ROOT
				}
			}
			custom_trigger_tooltip = {
				tooltip = afr_prosperity_mechanic_construction
				check_variable = { afr_reforming_regional_power_construction_in_progress < 1 }
			}
			OR = {
				afr_is_tribal_allowed = yes
				oceania_is_tribal_allowed = yes
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
		}

		visible = {
			OR = {
				has_variable = has_afr_empire_mechanic_system
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
			all_owned_state = {
				if = {
					limit = {
						is_core_of = ROOT
					}
					is_core_of = ROOT
					Oceania_infrastructure_for_extra_building_slots_trigger = no 
				}
			}
		}
		allowed = { always = yes }

		cost = 10
		custom_cost_trigger = {
			check_variable = { afr_prosperity_mechanic_value > 9 }
		}
		custom_cost_text = afr_prosperity_mechanic_custom_cost_10

		complete_effect = {
			add_political_power = -15
			custom_effect_tooltip = afr_prosperity_mechanic_minus_10
			add_to_variable = {
				var = afr_prosperity_mechanic_value
				value = -10
			}
			add_to_variable = { var = afr_reforming_regional_power_construction_in_progress value = 1 }
		}

		days_remove = 30

		modifier = {
			political_power_cost = 0.1
		}

		remove_effect = {
			if = {
				limit = {
					any_owned_state = {
						is_core_of = ROOT 
						free_building_slots = { building = arms_factory size > 0 include_locked = no }
						check_variable = { Oceania_extra_state_shared_building_slots > 0 }
					}
				}
				hidden_effect = {
					random_owned_controlled_state = {
						limit = {
							is_core_of = ROOT 
							free_building_slots = { building = arms_factory size > 0 include_locked = no }
							check_variable = { Oceania_extra_state_shared_building_slots > 0 }
						}
						add_to_variable = { Oceania_extra_state_shared_building_slots = -1 }
						if = {
							limit = { free_building_slots = { building = arms_factory size > 0 include_locked = no } }
							add_extra_state_shared_building_slots = -1
						}
						else_if = {
							limit = { farm > 0 }
							remove_building = { type = farm level = 1 }
							add_extra_state_shared_building_slots = -1
						}
						else_if = {
							limit = { cotton_farm > 0 }
							remove_building = { type = cotton_farm level = 1 }
							add_extra_state_shared_building_slots = -1
						}
						else_if = {
							limit = { logging_camp > 0 }
							remove_building = { type = logging_camp level = 1 }
							add_extra_state_shared_building_slots = -1
						}
						else_if = {
							limit = { coal_mine > 0 }
							remove_building = { type = coal_mine level = 1 }
							add_extra_state_shared_building_slots = -1
						}
						else = {
							add_extra_state_shared_building_slots = -1
						}
					}
				}
				custom_effect_tooltip = Oceania_infrastructure_for_clearing_free_building_slots_tooltip
				add_to_variable = { var = afr_reforming_regional_power_construction_in_progress value = -1 }
			}
			else_if = {
				limit = {
					any_owned_state = {
						is_core_of = ROOT 
						Oceania_infrastructure_for_clearing_building_slots_trigger = yes
					}
				}
				hidden_effect = {
					random_owned_controlled_state = {
						limit = {
							is_core_of = ROOT 
							Oceania_infrastructure_for_clearing_building_slots_trigger = yes
						}
						add_to_variable = { Oceania_extra_state_shared_building_slots = -1 }
						if = {
							limit = { free_building_slots = { building = arms_factory size > 0 include_locked = no } }
							add_extra_state_shared_building_slots = -1
						}
						else_if = {
							limit = { farm > 0 }
							remove_building = { type = farm level = 1 }
							add_extra_state_shared_building_slots = -1
						}
						else_if = {
							limit = { cotton_farm > 0 }
							remove_building = { type = cotton_farm level = 1 }
							add_extra_state_shared_building_slots = -1
						}
						else_if = {
							limit = { logging_camp > 0 }
							remove_building = { type = logging_camp level = 1 }
							add_extra_state_shared_building_slots = -1
						}
						else_if = {
							limit = { coal_mine > 0 }
							remove_building = { type = coal_mine level = 1 }
							add_extra_state_shared_building_slots = -1
						}
						else = {
							add_extra_state_shared_building_slots = -1
						}
					}
				}
				custom_effect_tooltip = Oceania_infrastructure_for_clearing_building_slots_tooltip
				add_to_variable = { var = afr_reforming_regional_power_construction_in_progress value = -1 }
			}
		}

		ai_will_do = {
			base = 1
			modifier = {
				add = -1
				always = yes
			}
			modifier = {
				add = 10
				AND = {
					AND = {
						has_completed_focus = afr_inward_regional_power_introduce_modern_labor_practices
						has_completed_focus = afr_inward_regional_power_addressing_economic_policies
					}
					NOT = { has_completed_focus = afr_inward_regional_power_three_crop_rotation }
				}
			}
			modifier = {
				add = 10
				AND = {
					AND = {
						has_completed_focus = afr_inward_regional_power_introduce_modern_labor_practices
						has_completed_focus = afr_inward_regional_power_addressing_economic_policies
					}
					NOT = { has_completed_focus = afr_inward_regional_power_early_fabric_industry }
				}
			}
			modifier = {
				add = 10
				AND = {
					AND = {
						has_completed_focus = afr_inward_regional_power_adressing_oral_tradition
						has_completed_focus = afr_inward_regional_power_introduce_modern_labor_practices
						has_completed_focus = afr_inward_regional_power_addressing_economic_policies
					}
					NOT = { has_completed_focus = afr_inward_regional_power_address_underdeveloped_economies }
				}
			}
			modifier = {
				add = 10
				AND = {
					AND = {
						has_completed_focus = afr_jihadist_regional_power_introduce_modern_labor_practices
						has_completed_focus = afr_jihadist_regional_power_addressing_economic_policies
					}
					NOT = { has_completed_focus = afr_jihadist_regional_power_three_crop_rotation }
				}
			}
			modifier = {
				add = 10
				AND = {
					AND = {
						has_completed_focus = afr_jihadist_regional_power_introduce_modern_labor_practices
						has_completed_focus = afr_jihadist_regional_power_addressing_economic_policies
					}
					NOT = { has_completed_focus = afr_jihadist_regional_power_early_fabric_industry }
				}
			}
			modifier = {
				add = 10
				AND = {
					AND = {
						has_completed_focus = afr_jihadist_regional_power_adressing_oral_tradition
						has_completed_focus = afr_jihadist_regional_power_introduce_modern_labor_practices
						has_completed_focus = afr_jihadist_regional_power_addressing_economic_policies
					}
					NOT = { has_completed_focus = afr_jihadist_regional_power_address_underdeveloped_economies }
				}
			}
			modifier = {
				add = 10
				AND = {
					has_completed_focus = AF_O_K_nascent_economy
					NOT = { has_completed_focus = AF_O_K_small_farms }
				}
			}
			modifier = {
				add = 10
				AND = {
					has_completed_focus = afr_wes_internal_reforms
					NOT = { has_completed_focus = afr_wes_a_western_civilian_economy }
				}
			}
		}
	}
	
	afr_prosperity_mechanic_clear_coastal_development = {
		available = {
			custom_trigger_tooltip = {
				tooltip = afr_prosperity_mechanic_greater_than_15
					check_variable = {
					afr_prosperity_mechanic_value > 14
				}
			}
			if = {
				limit = {
					any_owned_state = {
						is_core_of = ROOT
						is_coastal = yes
					}
				}
				custom_trigger_tooltip = {
					tooltip = Ocenaia_has_insufficient_infrastructure_to_support_new_coastal_buildings
					all_owned_state = {
						if = {
							limit = {
								is_core_of = ROOT
								is_coastal = yes
							}
							is_core_of = ROOT
							is_coastal = yes
							Oceania_infrastructure_for_extra_building_slots_trigger = no 
						}
					}
				}
			}
			else_if = {
				limit = {
					any_owned_state = {
						is_coastal = yes
					}
				}
				custom_trigger_tooltip = {
					tooltip = Ocenaia_has_insufficient_infrastructure_to_support_new_non_core_coastal_buildings
					all_owned_state = {
						if = {
							limit = {
								NOT = { is_core_of = ROOT }
								is_coastal = yes
							}
							NOT = { is_core_of = ROOT }
							is_coastal = yes
							Oceania_infrastructure_for_extra_building_slots_trigger = no 
						}
					}
				}
			}
			else = {
				any_owned_state = { is_coastal = yes }
			}
			custom_trigger_tooltip = {
				tooltip = Ocenaia_has_infrastructure_to_support_clearing_land
				any_owned_state = { 
					Oceania_infrastructure_for_clearing_building_slots_trigger = yes 
					is_core_of = ROOT
				}
			}
			custom_trigger_tooltip = {
				tooltip = afr_prosperity_mechanic_construction
				check_variable = { afr_reforming_regional_power_construction_in_progress < 1 }
			}
			OR = {
				afr_is_tribal_allowed = yes
				oceania_is_tribal_allowed = yes
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
		}

		visible = {
			has_variable = has_afr_empire_mechanic_system
			if = {
				limit = {
					any_owned_state = {
						is_core_of = ROOT
						is_coastal = yes
					}
				}
				all_owned_state = {
					if = {
						limit = {
							is_core_of = ROOT
							is_coastal = yes
						}
						is_core_of = ROOT
						is_coastal = yes
						Oceania_infrastructure_for_extra_building_slots_trigger = no 
					}
				}
			}
			else_if = {
				limit = {
					any_owned_state = {
						is_coastal = yes
					}
				}
				all_owned_state = {
					if = {
						limit = {
							NOT = { is_core_of = ROOT }
							is_coastal = yes
						}
						NOT = { is_core_of = ROOT }
						is_coastal = yes
						Oceania_infrastructure_for_extra_building_slots_trigger = no 
					}
				}
			}
			else = {
				any_owned_state = { is_coastal = yes }
			}
		}
		allowed = { always = yes }

		cost = 15
		custom_cost_trigger = {
			check_variable = { afr_prosperity_mechanic_value > 14 }
		}
		custom_cost_text = afr_prosperity_mechanic_custom_cost_15

		complete_effect = {
			add_political_power = -20
			custom_effect_tooltip = afr_prosperity_mechanic_minus_15
			add_to_variable = {
				var = afr_prosperity_mechanic_value
				value = -15
			}
			add_to_variable = { var = afr_reforming_regional_power_construction_in_progress value = 1 }
		}

		days_remove = 30

		modifier = {
			political_power_cost = 0.1
		}

		remove_effect = {
			if = {
				limit = {
					any_owned_state = {
						is_coastal = yes
						is_core_of = ROOT 
						free_building_slots = { building = arms_factory size > 0 include_locked = no }
						check_variable = { Oceania_extra_state_shared_building_slots > 0 }
					}
				}
				hidden_effect = {
					random_owned_controlled_state = {
						limit = {
							is_core_of = ROOT 
							free_building_slots = { building = arms_factory size > 0 include_locked = no }
							check_variable = { Oceania_extra_state_shared_building_slots > 0 }
						}
						add_to_variable = { Oceania_extra_state_shared_building_slots = -1 }
						if = {
							limit = { free_building_slots = { building = arms_factory size > 0 include_locked = no } }
							add_extra_state_shared_building_slots = -1
						}
						else_if = {
							limit = { farm > 0 }
							remove_building = { type = farm level = 1 }
							add_extra_state_shared_building_slots = -1
						}
						else_if = {
							limit = { cotton_farm > 0 }
							remove_building = { type = cotton_farm level = 1 }
							add_extra_state_shared_building_slots = -1
						}
						else_if = {
							limit = { logging_camp > 0 }
							remove_building = { type = logging_camp level = 1 }
							add_extra_state_shared_building_slots = -1
						}
						else_if = {
							limit = { coal_mine > 0 }
							remove_building = { type = coal_mine level = 1 }
							add_extra_state_shared_building_slots = -1
						}
						else = {
							add_extra_state_shared_building_slots = -1
						}
					}
				}
				custom_effect_tooltip = Oceania_infrastructure_for_clearing_free_coastal_building_slots_tooltip
				add_to_variable = { var = afr_reforming_regional_power_construction_in_progress value = -1 }
			}
			else_if = {
				limit = {
					any_owned_state = {
						is_coastal = yes
						is_core_of = ROOT 
						Oceania_infrastructure_for_clearing_building_slots_trigger = yes
					}
				}
				hidden_effect = {
					random_owned_controlled_state = {
						limit = {
							is_coastal = yes
							Oceania_infrastructure_for_clearing_building_slots_trigger = yes
						}
						add_to_variable = { Oceania_extra_state_shared_building_slots = -1 }
						if = {
							limit = { free_building_slots = { building = arms_factory size > 0 include_locked = no } }
							add_extra_state_shared_building_slots = -1
						}
						else_if = {
							limit = { farm > 0 }
							remove_building = { type = farm level = 1 }
							add_extra_state_shared_building_slots = -1
						}
						else_if = {
							limit = { cotton_farm > 0 }
							remove_building = { type = cotton_farm level = 1 }
							add_extra_state_shared_building_slots = -1
						}
						else_if = {
							limit = { logging_camp > 0 }
							remove_building = { type = logging_camp level = 1 }
							add_extra_state_shared_building_slots = -1
						}
						else_if = {
							limit = { coal_mine > 0 }
							remove_building = { type = coal_mine level = 1 }
							add_extra_state_shared_building_slots = -1
						}
						else = {
							add_extra_state_shared_building_slots = -1
						}
					}
				}
				custom_effect_tooltip = Oceania_infrastructure_for_clearing_coastal_building_slots_tooltip
				add_to_variable = { var = afr_reforming_regional_power_construction_in_progress value = -1 }
			}
			else_if = {
				limit = {
					any_owned_state = {
						is_coastal = yes
						free_building_slots = { building = arms_factory size > 0 include_locked = no }
						check_variable = { Oceania_extra_state_shared_building_slots > 0 }
					}
				}
				hidden_effect = {
					random_owned_controlled_state = {
						limit = {
							is_core_of = ROOT 
							free_building_slots = { building = arms_factory size > 0 include_locked = no }
							check_variable = { Oceania_extra_state_shared_building_slots > 0 }
						}
						add_to_variable = { Oceania_extra_state_shared_building_slots = -1 }
						if = {
							limit = { free_building_slots = { building = arms_factory size > 0 include_locked = no } }
							add_extra_state_shared_building_slots = -1
						}
						else_if = {
							limit = { farm > 0 }
							remove_building = { type = farm level = 1 }
							add_extra_state_shared_building_slots = -1
						}
						else_if = {
							limit = { cotton_farm > 0 }
							remove_building = { type = cotton_farm level = 1 }
							add_extra_state_shared_building_slots = -1
						}
						else_if = {
							limit = { logging_camp > 0 }
							remove_building = { type = logging_camp level = 1 }
							add_extra_state_shared_building_slots = -1
						}
						else_if = {
							limit = { coal_mine > 0 }
							remove_building = { type = coal_mine level = 1 }
							add_extra_state_shared_building_slots = -1
						}
						else = {
							add_extra_state_shared_building_slots = -1
						}
					}
				}
				custom_effect_tooltip = Oceania_infrastructure_for_clearing_free_coastal_building_slots_tooltip
				add_to_variable = { var = afr_reforming_regional_power_construction_in_progress value = -1 }
			}
			else_if = {
				limit = {
					any_owned_state = {
						is_coastal = yes
						Oceania_infrastructure_for_clearing_building_slots_trigger = yes
					}
				}
				hidden_effect = {
					random_owned_controlled_state = {
						limit = {
							is_coastal = yes
							Oceania_infrastructure_for_clearing_building_slots_trigger = yes
						}
						add_to_variable = { Oceania_extra_state_shared_building_slots = -1 }
						if = {
							limit = { free_building_slots = { building = arms_factory size > 0 include_locked = no } }
							add_extra_state_shared_building_slots = -1
						}
						else_if = {
							limit = { farm > 0 }
							remove_building = { type = farm level = 1 }
							add_extra_state_shared_building_slots = -1
						}
						else_if = {
							limit = { cotton_farm > 0 }
							remove_building = { type = cotton_farm level = 1 }
							add_extra_state_shared_building_slots = -1
						}
						else_if = {
							limit = { logging_camp > 0 }
							remove_building = { type = logging_camp level = 1 }
							add_extra_state_shared_building_slots = -1
						}
						else_if = {
							limit = { coal_mine > 0 }
							remove_building = { type = coal_mine level = 1 }
							add_extra_state_shared_building_slots = -1
						}
						else = {
							add_extra_state_shared_building_slots = -1
						}
					}
				}
				custom_effect_tooltip = Oceania_infrastructure_for_clearing_coastal_building_slots_tooltip
				add_to_variable = { var = afr_reforming_regional_power_construction_in_progress value = -1 }
			}
		}

		ai_will_do = {
			base = 1
			modifier = {
				add = -1
				always = yes
			}
			modifier = {
				add = 10
				AND = {
					AND = {
						has_completed_focus = afr_plan_a_naval_force
						has_completed_focus = afr_reforming_regional_power_regional_infrastructure
					}
					NOT = { has_completed_focus = afr_build_a_port }
				}
			}
		}
	}
}
 SKT_war_exhaustion = {
	afr_war_exhaustion_reduction = {
		icon = generic_prepare_civil_war
		
		available = {
			has_stability > 0.35
			custom_trigger_tooltip = {
				tooltip = afr_prosperity_mechanic_greater_than_15
					check_variable = {
					afr_prosperity_mechanic_value > 14
				}
			}
			OR = {
				afr_is_tribal_allowed = yes
				oceania_is_tribal_allowed = yes
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
		}
		visible = {
			has_war = no
			has_border_war = no
			check_variable = { afr_war_exhaustion_value > 5 }
		}
		allowed = { always = yes }

		fire_only_once = no
		days_remove = 60
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 5
				check_variable = { afr_war_exhaustion_value > 10 }
			}
			modifier = {
				factor = 5
				check_variable = { afr_war_exhaustion_value > 20 }
			}
		}
		
		modifier = {
			consumer_goods_expected_value = 0.07
		}
		cost = 15
		custom_cost_trigger = {
			check_variable = { afr_prosperity_mechanic_value > 14 }
		}
		custom_cost_text = afr_prosperity_mechanic_minus_15_war_exhaustion
		complete_effect = {
			custom_effect_tooltip = afr_prosperity_mechanic_minus_15_tooltip
			add_to_variable = {
				var = afr_prosperity_mechanic_value
				value = -15
			}
		}
		remove_effect = {
			if = {
				limit = { check_variable = { afr_war_exhaustion_value > 5 } }
				custom_effect_tooltip = afr_war_exhaustion_value_minus_5
				add_to_variable = {
					var = afr_war_exhaustion_value
					value = -5
				}
			}
			else_if = {
				limit = { check_variable = { afr_war_exhaustion_value > 4 } }
				custom_effect_tooltip = afr_war_exhaustion_value_minus_4
				add_to_variable = {
					var = afr_war_exhaustion_value
					value = -4
				}
			}
			else_if = {
				limit = { check_variable = { afr_war_exhaustion_value > 3 } }
				custom_effect_tooltip = afr_war_exhaustion_value_minus_3
				add_to_variable = {
					var = afr_war_exhaustion_value
					value = -3
				}
			}
			else_if = {
				limit = { check_variable = { afr_war_exhaustion_value > 2 } }
				custom_effect_tooltip = afr_war_exhaustion_value_minus_2
				add_to_variable = {
					var = afr_war_exhaustion_value
					value = -2
				}
			}
			else_if = {
				limit = { check_variable = { afr_war_exhaustion_value > 1 } }
				custom_effect_tooltip = afr_war_exhaustion_value_minus_1
				add_to_variable = {
					var = afr_war_exhaustion_value
					value = -1
				}
			}
			else = {
				set_temp_variable = {
					var = prosperity_change
					value = 15
				}
				afr_prosperity_mechanic_change = yes
			}
		}
	}
 
	SKT_war_exhaustion_mission_peace = {
		icon = generic_prepare_civil_war
		
		activation = { 
			hidden_trigger = {
				has_war = no
				if = {
					limit = {
						has_border_war = yes
					}
					check_variable = { var = afr_border_war_defender_flag value = 1 compare = greater_than_or_equals }
				}
				else = {
					has_border_war = no
				}
				OR = {
					has_variable = has_afr_empire_mechanic_system
					is_first_nations_tribe = yes
					is_south_american_tribe = yes
				}
			}
		}
		available = {
			hidden_trigger = {
				always = no
			}
		}
		cancel_trigger = {
			hidden_trigger = {
				OR = {
					has_war = yes
					AND = {
						has_border_war = yes
						NOT = { check_variable = { var = afr_border_war_defender_flag value = 1 compare = greater_than_or_equals } }
					}
				}
			}
		}

		visible = {
			always = no
		}
		allowed = { always = yes }

		fire_only_once = no
		selectable_mission = no
		is_good = yes
		days_mission_timeout = 90
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 4
				has_war_support > 0.5
			}
		}
		
		timeout_effect = { 
			if = {
				limit = { check_variable = { afr_war_exhaustion_value = 0 } }
				#Nomadic Economy Production Here
				if = {
					limit = {
						NOT = { is_nomadic_nation_state = yes }
					}
					custom_effect_tooltip = afr_peacetime_economy_tribal_weapon_income
					if = {
						limit = {
							OR = {
								NOT = { has_tech = tribal_forging }
								NOT = {	has_tech = tribal_guilds_trade }
							}
						}
						custom_effect_tooltip = afr_peacetime_economy_tribal_weapon_income_need_tech
					}
					else_if = {
						limit = { 
							OR = {
								has_idea = AF_T_unorganized_tribal_nation
								has_idea = AF_T_unorganized_tribal_nation_2
								has_idea = AF_T_unorganized_tribal_nation_3
								has_idea = AF_T_unorganized_tribal_nation_4
								has_idea = AF_T_unorganized_tribal_nation_5
							}
						}
						if = {
							limit = { has_tech = tribal_weapons }
							add_equipment_to_stockpile = {
								type = tribal_weapons_0
								amount = 15
							}
						}
						else = { custom_effect_tooltip = afr_peacetime_economy_tribal_weapon_need_tech }
					}
					else_if = {
						limit = { 
							OR = {
								has_idea = AF_T_organized_tribal_nation
								has_idea = AF_T_organized_tribal_nation_2
								has_idea = AF_T_organized_tribal_nation_3
							}
						}
						if = {
							limit = { has_tech = tribal_weapons }
							add_equipment_to_stockpile = {
								type = tribal_weapons_0
								amount = 20
							}
						}
						else = { custom_effect_tooltip = afr_peacetime_economy_tribal_weapon_need_tech }
					}
					else_if = {
						limit = {
							OR = {
								has_idea = Oceania_small_kingdom
								has_idea = AF_T_small_kingdom
							}
						}
						if = {
							limit = { has_tech = tribal_weapons }
							add_equipment_to_stockpile = {
								type = tribal_weapons_0
								amount = 40
							}
						}
						else = { custom_effect_tooltip = afr_peacetime_economy_tribal_weapon_need_tech }
					}
					else_if = {
						limit = { 
							has_idea = afr_large_kingdom 
							NOT = { has_country_flag = stockpile_tribal_weapons_flag }
						}
						if = {
							limit = { has_tech = infantry_weapons }
							add_equipment_to_stockpile = {
								type = infantry_equipment_rifle_0
								amount = 25
							}
						}
						else_if = {
							limit = { has_tech = traditional_mixed_arms }
							add_equipment_to_stockpile = {
								type = infantry_equipment_pike_and_shot_0
								amount = 50
							}
							custom_effect_tooltip = afr_peacetime_economy_weapon_income_upgrade_tech
						}
						else_if = {
							limit = { has_tech = tribal_weapons }
							add_equipment_to_stockpile = {
								type = tribal_weapons_0
								amount = 80
							}
						}
						else = { custom_effect_tooltip = afr_peacetime_economy_tribal_weapon_need_tech }
						if = {
							limit = { 
								has_tech = tech_infantry_napoleonic_uniform 
								has_tech = tribal_artisan
								any_owned_state = { fabric_weavery > 0 }
							}
							if = {
								limit = { has_tech = sixfour_army_cloth }
								add_equipment_to_stockpile = {
									type = uniform_equipment_3
									amount = 50
								}
							}
							else_if = {
								limit = { has_tech = civil_army_cloth }
								add_equipment_to_stockpile = {
									type = uniform_equipment_2
									amount = 75
								}
								custom_effect_tooltip = afr_peacetime_economy_uniform_income_upgrade_tech_3
							}
							else_if = {
								limit = { has_tech = vic_army_cloth }
								add_equipment_to_stockpile = {
									type = uniform_equipment_1
									amount = 100
								}
								custom_effect_tooltip = afr_peacetime_economy_uniform_income_upgrade_tech_2
							}
							else_if = {
								limit = { has_tech = tech_infantry_napoleonic_uniform }
								add_equipment_to_stockpile = {
									type = uniform_equipment_0
									amount = 125
								}
								custom_effect_tooltip = afr_peacetime_economy_uniform_income_upgrade_tech_1
							}
						}
						else_if = {
							limit = { has_tech = tech_infantry_napoleonic_uniform }
							add_equipment_to_stockpile = {
								type = uniform_equipment_0
								amount = 25
							}
							custom_effect_tooltip = afr_peacetime_economy_weapon_income_upgrade_uniform_production
							if = {
								limit = { all_owned_state = { fabric_weavery < 1 } }
								custom_effect_tooltip = afr_peacetime_economy_uniform_income_need_weavery
							}
						}
						else = { 
							custom_effect_tooltip = afr_peacetime_economy_weapon_income_uniform_production
							if = {
								limit = { NOT = { has_tech = tech_infantry_napoleonic_uniform } }
								custom_effect_tooltip = afr_peacetime_economy_uniform_income_need_tech
							}
							if = {
								limit = { NOT = { has_tech = tribal_artisan } }
								custom_effect_tooltip = afr_peacetime_economy_uniform_income_need_artisan_tech
							}
						}
					}
					else_if = {
						limit = { 
							OR = {
								has_idea = Oceania_large_kingdom
								AND = {
									has_idea = afr_large_kingdom 
									has_country_flag = stockpile_tribal_weapons_flag
								}
							}
						}
						if = {
							limit = { has_tech = infantry_weapons }
							add_equipment_to_stockpile = {
								type = infantry_equipment_rifle_0
								amount = 50
							}
						}
						else_if = {
							limit = { has_tech = traditional_mixed_arms }
							add_equipment_to_stockpile = {
								type = infantry_equipment_pike_and_shot_0
								amount = 100
							}
							custom_effect_tooltip = afr_peacetime_economy_weapon_income_upgrade_tech
						}
						else_if = {
							limit = { has_tech = tribal_weapons }
							add_equipment_to_stockpile = {
								type = tribal_weapons_0
								amount = 160
							}
						}
						else = { custom_effect_tooltip = afr_peacetime_economy_tribal_weapon_need_tech }
						if = {
							limit = { 
								has_tech = tech_infantry_napoleonic_uniform 
								has_tech = tribal_artisan
								any_owned_state = { fabric_weavery > 0 }
							}
							if = {
								limit = { has_tech = sixfour_army_cloth }
								add_equipment_to_stockpile = {
									type = uniform_equipment_3
									amount = 50
								}
							}
							else_if = {
								limit = { has_tech = civil_army_cloth }
								add_equipment_to_stockpile = {
									type = uniform_equipment_2
									amount = 75
								}
								custom_effect_tooltip = afr_peacetime_economy_uniform_income_upgrade_tech_3
							}
							else_if = {
								limit = { has_tech = vic_army_cloth }
								add_equipment_to_stockpile = {
									type = uniform_equipment_1
									amount = 100
								}
								custom_effect_tooltip = afr_peacetime_economy_uniform_income_upgrade_tech_2
							}
							else_if = {
								limit = { has_tech = tech_infantry_napoleonic_uniform }
								add_equipment_to_stockpile = {
									type = uniform_equipment_0
									amount = 125
								}
								custom_effect_tooltip = afr_peacetime_economy_uniform_income_upgrade_tech_1
							}
						}
						else_if = {
							limit = { has_tech = tech_infantry_napoleonic_uniform }
							add_equipment_to_stockpile = {
								type = uniform_equipment_0
								amount = 25
							}
							custom_effect_tooltip = afr_peacetime_economy_weapon_income_upgrade_uniform_production
							if = {
								limit = { all_owned_state = { fabric_weavery < 1 } }
								custom_effect_tooltip = afr_peacetime_economy_uniform_income_need_weavery
							}
						}
						else = { 
							custom_effect_tooltip = afr_peacetime_economy_weapon_income_uniform_production
							if = {
								limit = { NOT = { has_tech = tech_infantry_napoleonic_uniform } }
								custom_effect_tooltip = afr_peacetime_economy_uniform_income_need_tech
							}
							if = {
								limit = { NOT = { has_tech = tribal_artisan } }
								custom_effect_tooltip = afr_peacetime_economy_uniform_income_need_artisan_tech
							}
						}
					}
					else_if = {
						limit = { 
							OR = {
								has_idea = Oceania_eastern_oriented_regional_power
								has_idea = Oceania_western_oriented_regional_power
								has_idea = afr_reforming_kingdom
							}
						}
						if = {
							limit = { has_tech = infantry_weapons }
							add_equipment_to_stockpile = {
								type = infantry_equipment_rifle_0
								amount = 50
							}
						}
						else_if = {
							limit = { has_tech = traditional_mixed_arms }
							add_equipment_to_stockpile = {
								type = infantry_equipment_pike_and_shot_0
								amount = 100
							}
							custom_effect_tooltip = afr_peacetime_economy_weapon_income_upgrade_tech
						}
						else = { custom_effect_tooltip = afr_peacetime_economy_weapon_income_need_tech }
						if = {
							limit = { 
								has_tech = tech_infantry_napoleonic_uniform 
								has_tech = tribal_artisan
								any_owned_state = { fabric_weavery > 0 }
							}
							if = {
								limit = { has_tech = sixfour_army_cloth }
								add_equipment_to_stockpile = {
									type = uniform_equipment_3
									amount = 50
								}
							}
							else_if = {
								limit = { has_tech = civil_army_cloth }
								add_equipment_to_stockpile = {
									type = uniform_equipment_2
									amount = 75
								}
								custom_effect_tooltip = afr_peacetime_economy_uniform_income_upgrade_tech_3
							}
							else_if = {
								limit = { has_tech = vic_army_cloth }
								add_equipment_to_stockpile = {
									type = uniform_equipment_1
									amount = 100
								}
								custom_effect_tooltip = afr_peacetime_economy_uniform_income_upgrade_tech_2
							}
							else_if = {
								limit = { has_tech = tech_infantry_napoleonic_uniform }
								add_equipment_to_stockpile = {
									type = uniform_equipment_0
									amount = 125
								}
								custom_effect_tooltip = afr_peacetime_economy_uniform_income_upgrade_tech_1
							}
						}
						else_if = {
							limit = { has_tech = tech_infantry_napoleonic_uniform }
							add_equipment_to_stockpile = {
								type = uniform_equipment_0
								amount = 25
							}
							custom_effect_tooltip = afr_peacetime_economy_weapon_income_upgrade_uniform_production
							if = {
								limit = { all_owned_state = { fabric_weavery < 1 } }
								custom_effect_tooltip = afr_peacetime_economy_uniform_income_need_weavery
							}
						}
						else = { 
							custom_effect_tooltip = afr_peacetime_economy_weapon_income_uniform_production
							if = {
								limit = { NOT = { has_tech = tech_infantry_napoleonic_uniform } }
								custom_effect_tooltip = afr_peacetime_economy_uniform_income_need_tech
							}
							if = {
								limit = { NOT = { has_tech = tribal_artisan } }
								custom_effect_tooltip = afr_peacetime_economy_uniform_income_need_artisan_tech
							}
						}
					}
				}
				if = {
					limit = {
						is_nomadic_nation_state = yes
						has_country_flag = afr_nomadic_animal_husbandry_focus_horse
					}
					custom_effect_tooltip = afr_peacetime_economy_nomadic_animal_husbandry_income
					add_equipment_to_stockpile = {
						type = cavalry_equipment
						amount = 10
					}
				}
				if = {
					limit = {
						is_nomadic_nation_state = yes
						has_country_flag = afr_nomadic_blacksmith_focus_tribal_weapons
					}
					custom_effect_tooltip = afr_peacetime_economy_nomadic_blacksmith_income
					add_equipment_to_stockpile = {
						type = infantry_equipment_pike_and_shot_0
						amount = 100
					}
				}
				if = {
					limit = {
						is_nomadic_nation_state = yes
						has_country_flag = afr_nomadic_blacksmith_focus_manufacture_weapons
						has_country_flag = NA_N_manufacture_weapons_flag
					}
					add_equipment_to_stockpile = {
						type = infantry_equipment_rifle_0
						amount = 50
					}
				}
				#Base Income Here
				if = {
					limit = {
						check_variable = { afr_war_exhaustion_value = 0 }
						has_idea = taxation_level_1
					}
					custom_effect_tooltip = afr_peacetime_economy_base_prosperity_growth
					custom_effect_tooltip = afr_peacetime_economy_base_prosperity_very_low_taxes
				}
				else_if = {
					limit = {
						OR = {
							has_idea = AF_T_unorganized_tribal_nation
							has_idea = AF_T_unorganized_tribal_nation_2
							has_idea = AF_T_unorganized_tribal_nation_3
							has_idea = AF_T_unorganized_tribal_nation_4
							has_idea = AF_T_unorganized_tribal_nation_5
						}
					}
					custom_effect_tooltip = afr_peacetime_economy_base_prosperity_growth
					custom_effect_tooltip = afr_peacetime_economy_base_prosperity_unorganized
				}
				else_if = {
					limit = {
						OR = {
							has_idea = AF_T_organized_tribal_nation
							has_idea = AF_T_organized_tribal_nation_2
							has_idea = AF_T_organized_tribal_nation_3
						}
					}
					custom_effect_tooltip = afr_peacetime_economy_base_prosperity_growth
					custom_effect_tooltip = afr_peacetime_economy_base_prosperity_organized
					add_to_variable = {
						var = afr_prosperity_mechanic_value
						value = 1
					}
				}
				else_if = {
					limit = {
						OR = {
							has_idea = Oceania_small_kingdom
							has_idea = Oceania_large_kingdom
							has_idea = AF_T_small_kingdom
							has_idea = FN_T_nomadic_tribal_nation
						}
					}
					custom_effect_tooltip = afr_peacetime_economy_base_prosperity_growth
					custom_effect_tooltip = afr_peacetime_economy_base_prosperity_small_kingdom
					add_to_variable = {
						var = afr_prosperity_mechanic_value
						value = 2
					}
				}
				else_if = {
					limit = {
						OR = {
							has_idea = Oceania_eastern_oriented_regional_power
							has_idea = Oceania_western_oriented_regional_power
							has_idea = afr_reforming_kingdom
							has_idea = afr_large_kingdom
							has_idea = FN_T_settled_regional_power
						}
					}
					custom_effect_tooltip = afr_peacetime_economy_base_prosperity_growth
					custom_effect_tooltip = afr_peacetime_economy_base_prosperity_regional_power
					add_to_variable = {
						var = afr_prosperity_mechanic_value
						value = 3
					}
				}
				#State Income Here
				if = {
					limit = {
						any_owned_state = {
							check_variable = { var = afr_empire_politics_state_prosperity_var value = 0 compare = greater_than } 
							NOT = { 
								has_state_flag = afr_empire_politics_state_economy_status_war_torn_flag
								has_state_flag = afr_empire_politics_state_economy_status_raided_flag 
								has_state_flag = afr_empire_politics_state_economy_status_recovery_flag
								has_state_flag = afr_empire_politics_state_economy_status_bust_flag 
								has_state_flag = afr_empire_politics_state_economy_status_famine_flag
								has_state_flag = afr_empire_politics_state_economy_status_investment_flag
							}
						}
					}
					custom_effect_tooltip = afr_peacetime_state_prosperity_growth
					hidden_effect = {
						every_owned_state = { 
							limit = { 
								check_variable = { var = afr_empire_politics_state_prosperity_var value = 0 compare = greater_than } 
								NOT = { 
									has_state_flag = afr_empire_politics_state_economy_status_bust_flag 
									has_state_flag = afr_empire_politics_state_economy_status_famine_flag
									has_state_flag = afr_empire_politics_state_economy_status_investment_flag
								}
							}
							state_event = { id = RCE_afr_regional_power.50 }
						}
					}
				}
				#Place Extra Income Here
				if = {
					limit = {
						has_country_flag = afr_rrp_company_port
					}
					custom_effect_tooltip = afr_peacetime_economy_base_prosperity_colonial_company
					add_to_variable = {
						var = afr_prosperity_mechanic_value
						value = 1
					}
				}
				if = {
					limit = {
						OR = {
							has_country_flag = ETH_ALZ_camel_trade_industry_flag
							has_country_flag = ETH_EGY_camel_trade_industry_flag
						}
						NOT = {
							AND = {
								has_country_flag = ETH_ALZ_camel_trade_industry_flag
								has_country_flag = ETH_EGY_camel_trade_industry_flag
							}
						}
					}
					custom_effect_tooltip = ETH_one_camel_trade_industry_income
					add_to_variable = {
						var = afr_prosperity_mechanic_value
						value = 1
					}
				}
				if = {
					limit = {
						AND = {
							has_country_flag = ETH_ALZ_camel_trade_industry_flag
							has_country_flag = ETH_EGY_camel_trade_industry_flag
						}
					}
					custom_effect_tooltip = ETH_two_camel_trade_industry_income
					add_to_variable = {
						var = afr_prosperity_mechanic_value
						value = 2
					}
				}
				if = {
					limit = {
						USA = { has_country_flag = USA_1851_fort_laramie_treaty_enforced_flag }
						OR = {
							TAG = NEZ
							TAG = BFT
							TAG = SIX
							TAG = APA
							TAG = NAV
						}
					}
					custom_effect_tooltip = USA_1851_fort_laramie_treaty_enforced_income
					add_to_variable = {
						var = afr_prosperity_mechanic_value
						value = 2
					}
				}
				
				#Tooltips to upgrade income
				if = {
					limit = {
						has_idea = taxation_level_1
					}
					custom_effect_tooltip = afr_peacetime_economy_base_prosperity_very_low_taxes_tooltip
				}
				if = {
					limit = {
						OR = {
							has_idea = AF_T_unorganized_tribal_nation
							has_idea = AF_T_unorganized_tribal_nation_2
							has_idea = AF_T_unorganized_tribal_nation_3
							has_idea = AF_T_unorganized_tribal_nation_4
							has_idea = AF_T_unorganized_tribal_nation_5
						}
					}
					custom_effect_tooltip = afr_peacetime_economy_base_prosperity_unorganized_upgrade_tooltip
				}
				if = {
					limit = {
						OR = {
							has_idea = AF_T_organized_tribal_nation
							has_idea = AF_T_organized_tribal_nation_2
							has_idea = AF_T_organized_tribal_nation_3
						}
					}
					custom_effect_tooltip = afr_peacetime_economy_base_prosperity_organized_upgrade_tooltip
				}
				if = {
					limit = {
						OR = {
							has_idea = Oceania_small_kingdom
							has_idea = Oceania_large_kingdom
							has_idea = AF_T_small_kingdom
						}
					}
					custom_effect_tooltip = afr_peacetime_economy_base_prosperity_small_kingdom_upgrade_tooltip
				}
			}
			#War Exhaustion Effects
			if = {
				limit = {
					check_variable = { afr_war_exhaustion_value > 0 }
				}
				custom_effect_tooltip = afr_war_exhaustion_value_minus_1
				add_to_variable = {
					var = afr_war_exhaustion_value
					value = -1
				}
			}
			if = {
				limit = {
					check_variable = { afr_war_exhaustion_value < 20 }
					has_idea = afr_war_exhaustion_value_penalty_1_idea
				}
				remove_ideas = afr_war_exhaustion_value_penalty_1_idea
			}
			if = {
				limit = {
					check_variable = { afr_war_exhaustion_value < 30 }
					has_idea = afr_war_exhaustion_value_penalty_2_idea
				}
				remove_ideas = afr_war_exhaustion_value_penalty_2_idea
			}
			if = {
				limit = {
					check_variable = { afr_war_exhaustion_value < 40 }
					has_idea = afr_war_exhaustion_value_penalty_3_idea
				}
				remove_ideas = afr_war_exhaustion_value_penalty_3_idea
			}
			if = {
				limit = {
					check_variable = { afr_war_exhaustion_value < 50 }
					has_idea = afr_war_exhaustion_value_penalty_4_idea
				}
				remove_ideas = afr_war_exhaustion_value_penalty_4_idea
			}
			hidden_effect = { activate_mission = SKT_war_exhaustion_mission_peace }
		}
		
		complete_effect = {
			
		}
		
	}
 
	SKT_war_exhaustion_mission = {
		icon = generic_prepare_civil_war
		
		activation = {  
			hidden_trigger = {
				OR = {
					has_war = yes
					AND = {
						has_border_war = yes
						NOT = { check_variable = { var = afr_border_war_defender_flag value = 1 compare = greater_than_or_equals } }
					}
				}
				OR = {
					has_variable = has_afr_empire_mechanic_system
					is_first_nations_tribe = yes
					is_south_american_tribe = yes
				}
			}
		}
		available = {
			hidden_trigger = {
				has_war = no
				has_border_war = no
			}
		}
		cancel_trigger = {
			hidden_trigger = {
				has_war = no
				has_border_war = no
			}
		}
		visible = {
			always = no
		}
		allowed = { always = yes }

		fire_only_once = no
		selectable_mission = no
		is_good = no
		days_mission_timeout = 45
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 4
				has_war_support > 0.5
			}
		}
		
		timeout_effect = {
			if = {
				limit = {
					check_variable = { afr_war_exhaustion_value < 20 }
					has_idea = afr_war_exhaustion_value_penalty_1_idea
				}
				remove_ideas = afr_war_exhaustion_value_penalty_1_idea
			}
			if = {
				limit = {
					check_variable = { afr_war_exhaustion_value < 30 }
					has_idea = afr_war_exhaustion_value_penalty_2_idea
				}
				remove_ideas = afr_war_exhaustion_value_penalty_2_idea
			}
			if = {
				limit = {
					check_variable = { afr_war_exhaustion_value < 40 }
					has_idea = afr_war_exhaustion_value_penalty_3_idea
				}
				remove_ideas = afr_war_exhaustion_value_penalty_3_idea
			}
			if = {
				limit = {
					check_variable = { afr_war_exhaustion_value < 50 }
					has_idea = afr_war_exhaustion_value_penalty_4_idea
				}
				remove_ideas = afr_war_exhaustion_value_penalty_4_idea
			}
			if = {
				limit = {
					check_variable = { afr_war_exhaustion_value > 19 }
					NOT = { has_idea = afr_war_exhaustion_value_penalty_1_idea }
				}
				add_ideas = afr_war_exhaustion_value_penalty_1_idea
			}
			if = {
				limit = {
					check_variable = { afr_war_exhaustion_value > 29 } 
					NOT = { has_idea = afr_war_exhaustion_value_penalty_2_idea }
				}
				custom_effect_tooltip = afr_war_exhaustion_enter_space
				add_ideas = afr_war_exhaustion_value_penalty_2_idea
			}
			if = {
				limit = {
					check_variable = { afr_war_exhaustion_value > 39 }
					NOT = { has_idea = afr_war_exhaustion_value_penalty_3_idea }
				}
				custom_effect_tooltip = afr_war_exhaustion_enter_space
				add_ideas = afr_war_exhaustion_value_penalty_3_idea
			}
			if = {
				limit = {
					check_variable = { afr_war_exhaustion_value > 49 }
					NOT = { has_idea = afr_war_exhaustion_value_penalty_4_idea }
				}
				custom_effect_tooltip = afr_war_exhaustion_enter_space
				add_ideas = afr_war_exhaustion_value_penalty_4_idea
			}
			if = {
				limit = {
					check_variable = {
						afr_war_exhaustion_value = 50
					}
				}
				custom_effect_tooltip = afr_war_exhaustion_enter_space
				custom_effect_tooltip = afr_max_war_exhaustion_value_reached
			}
			if = {
				limit = {
					check_variable = { afr_war_exhaustion_value < 50 }
				}
				custom_effect_tooltip = afr_war_exhaustion_enter_space
				custom_effect_tooltip = afr_war_exhaustion_value_add_1
				add_to_variable = {
					var = afr_war_exhaustion_value
					value = 1
				}
			}
			hidden_effect = { activate_mission = SKT_war_exhaustion_mission }
		}
		
		complete_effect = {
			
		}
		
	}
	
	afr_war_exhaustion_mission_exertion = {
		icon = generic_prepare_civil_war
		
		activation = {
			hidden_trigger = {
				OR = {
					has_war = yes
					AND = {
						has_border_war = yes
						NOT = { check_variable = { var = afr_border_war_defender_flag value = 1 compare = greater_than_or_equals } }
					}
				}
				OR = {
					has_variable = has_afr_empire_mechanic_system
					is_first_nations_tribe = yes
					is_south_american_tribe = yes
					afr_is_tribal_allowed = yes
					oceania_is_tribal_allowed = yes
				}
				#check_variable = {
				#    afr_war_exhaustion_value > 20
				#}
			}
		}
		
		available = {
			hidden_trigger = {
				has_war = no
				has_border_war = no
			}
		}
		
		cancel_trigger = {
			hidden_trigger = {
				has_war = no
				has_border_war = no
			}
		}
		
		visible = {
			always = no
		}
		
		allowed = { always = yes }

		fire_only_once = no
		selectable_mission = no
		is_good = no
		days_mission_timeout = 200
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 4
				has_war_support > 0.5
			}
		}
		
		timeout_effect = {
			ROOT = { country_event = { id = RCE_afr_regional_power.105 } }
			hidden_effect = { activate_mission = afr_war_exhaustion_mission_exertion }
		}
		
		complete_effect = {
			
		}
	}
	
}

afr_jihadist_regional_power_caliphate_wars = {
	SKT_FTT_declare_war = {
		icon = generic_prepare_civil_war
		available = {
			has_war = no
			custom_trigger_tooltip = {
				tooltip = afr_war_exhaustion_value_less_than_40
				check_variable = {
					afr_war_exhaustion_value < 40
				}
			}
			NOT = { has_non_aggression_pact_with = FTT }
			FTT = {
				custom_trigger_tooltip = {
					tooltip = skt_jihad_caliphate_member_is_neighbor
					OR = {
						FTT = { is_neighbor_of = SKT }
						any_country = {
							AND = {
								OR = {
									is_subject_of = SKT
									is_in_faction_with = SKT
								}
								is_neighbor_of = FTT
							}
						}
					}
				}
			}
		}

		visible = {
			tag = SKT
			country_exists = FTT
			has_country_flag = SKT_conquer_the_fulani_calpiphates_ftt
			FTT = {
				NOT = { is_in_faction_with = SKT }
				NOT = { is_subject_of = SKT }
			}
		}
		allowed = { TAG = SKT }
	
		fire_only_once = no
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 40
				has_war_support > 0.5
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					FTT = {
						OR = {
							NOT = {
								is_in_array = {
									array = national_religion_array
									value = global.sunni
								}
							}
							AND = {
								is_in_array = {
									array = national_religion_array
									value = global.sunni
								}
								NOT = { has_government = fundamentalism }
							}
						}
					}
				}
				declare_war_on = {
					target = FTT
					type = annex_everything
				}
				hidden_effect = { FTT = { every_owned_state = { add_claim_by = ROOT } } }
				custom_effect_tooltip = afr_war_exhaustion_value_add_10
				add_to_variable = {
					var = afr_war_exhaustion_value
					value = 10
				}
			}
			if = {
				limit = {
					FTT = {
						is_in_array = {
							array = national_religion_array
							value = global.sunni
						}
						has_government = fundamentalism
					}
				}
				FTT = { country_event = { days = 5 id = sokoto.25 } }
				custom_effect_tooltip = afr_war_exhaustion_value_add_10_if_declined
			}
		}
		
	}
	
	SKT_FTJ_declare_war = {
		icon = generic_prepare_civil_war
		available = {
			has_war = no
			custom_trigger_tooltip = {
				tooltip = afr_war_exhaustion_value_less_than_40
				check_variable = {
					afr_war_exhaustion_value < 40
				}
			}
			NOT = { has_non_aggression_pact_with = FTJ }
			FTJ = { 
				custom_trigger_tooltip = {
					tooltip = skt_jihad_caliphate_member_is_neighbor
					OR = {
						FTJ = { is_neighbor_of = SKT }
						any_country = {
							AND = {
								OR = {
									is_subject_of = SKT
									is_in_faction_with = SKT
								}
								is_neighbor_of = FTJ
							}
						}
					}
				}
			}
		}

		visible = {
			tag = SKT
			country_exists = FTJ
			has_country_flag = SKT_conquer_the_fulani_calpiphates_ftj
			FTJ = {
				NOT = { is_in_faction_with = SKT }
				NOT = { is_subject_of = SKT }
			}
		}
		allowed = { TAG = SKT }
	
		fire_only_once = no
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 40
				has_war_support > 0.5
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					FTJ = {
						OR = {
							NOT = {
								is_in_array = {
									array = national_religion_array
									value = global.sunni
								}
							}
							AND = {
								is_in_array = {
									array = national_religion_array
									value = global.sunni
								}
								NOT = { has_government = fundamentalism }
							}
						}
					}
				}
				declare_war_on = {
					target = FTJ
					type = annex_everything
				}
				hidden_effect = { FTJ = { every_owned_state = { add_claim_by = ROOT } } }
				custom_effect_tooltip = afr_war_exhaustion_value_add_10
				add_to_variable = {
					var = afr_war_exhaustion_value
					value = 10
				}
			}
			if = {
				limit = {
					FTJ = {
						is_in_array = {
							array = national_religion_array
							value = global.sunni
						}
						has_government = fundamentalism
					}
				}
				FTJ = { country_event = { days = 5 id = sokoto.25 } }
				custom_effect_tooltip = afr_war_exhaustion_value_add_10_if_declined
			}
		}
		
	}
 
}
 
 SKT_Caliphate_raids = {

	#SKT_raid_infidel_neighbor = {
	#	available = {
	#		has_tech = tribal_tatics
	#		custom_trigger_tooltip = {
	#			tooltip = first_nations_tribal_raid_neighbor_diplomacy_trigger
	#			NOT = { has_non_aggression_pact_with = FROM }
	#		}
	#		custom_trigger_tooltip = {
	#			tooltip = afr_raid_neighbor_at_peace_trigger
	#			has_war = no
	#			has_border_war = no
	#			NOT = { has_country_flag = raiding_neighbour }
	#		}
	#		custom_trigger_tooltip={
	#			tooltip = EDC_Any_Tribal_Army_over_1000
	#			OR = {
	#				check_variable = { Tribal_army_num > 999 }
	#				check_variable = { Tribal_horse_army_num > 999 }
	#				check_variable = { Tribal_horse_pistoleer_army_num > 999 }
	#				check_variable = { Tribal_camel_army_num > 999 }
	#			}
	#		}
	#		FROM = {
	#			custom_trigger_tooltip = {
	#				tooltip = AFR_religion_not_sunni_tooltip           
	#				NOT = {
	#					is_in_array = {
	#						array = national_religion_array
	#						value = global.sunni
	#					}   
	#				}
	#			}
	#		}
	#		custom_trigger_tooltip = {
	#			tooltip = afr_war_exhaustion_value_less_than_5
	#			check_variable = {
	#				afr_war_exhaustion_value < 5
	#			}
	#		}
	#	}
	#
	#	visible = {
	#		TAG = SKT
	#		ROOT = { 
	#			afr_is_tribal = yes
	#			NOT = { has_border_war_with = FROM }
	#			NOT = { has_war_with = FROM }
	#			NOT = { is_in_faction_with = FROM }
	#		}
	#		always = no
	#	}
	#	allowed = { TAG = SKT }
	#	
	#	target_trigger = {
	#		always = no
	#		OR = {
	#			if = {
	#				limit = { ROOT = { owns_state = 873 } }
	#				OR = {
	#					FROM = { owns_state = 515 }
	#					FROM = { owns_state = 872 }
	#					FROM = { owns_state = 770 }
	#				}
	#			}
	#			if = { 
	#				limit = { ROOT = { owns_state = 1219 } }
	#				OR = {
	#					FROM = { owns_state = 805 }
	#					FROM = { owns_state = 558 }
	#				}
	#			}
	#			if = { 
	#				limit = { ROOT = { owns_state = 1218 } }
	#				OR = {
	#					FROM = { owns_state = 871 }
	#					FROM = { owns_state = 769 }
	#				}
	#			}
	#		}
	#		ROOT = {
	#			has_country_flag = SKT_Caliphate_raids
	#			is_in_array = {
	#				array = national_religion_array
	#				value = global.sunni
	#			}  
	#			TAG = SKT
	#		}
	#		OR = {
	#			ROOT = { owns_state = 873 }
	#			ROOT = { owns_state = 1219 }
	#			ROOT = { owns_state = 1218 }
	#		}
	#		ROOT = {
	#			NOT = { is_subject_of = FROM }
	#			NOT = { is_in_faction_with = FROM }
	#		}
	#		FROM = {
	#			NOT = { is_subject_of = ROOT }
	#		}
	#		FROM = {
	#			NOT = { is_subject_of = OVERLORD }
	#		}
	#	}
	#	days_remove = 30
	#	fire_only_once = no
	#	days_re_enable = 90
	#
	#	cost = 0
	#	
	#	custom_cost_trigger = {
	#
	#		command_power > 99.9
	#
	#	}
	#	custom_cost_text = skt_command_power_more_than_50
	#		
	#	
	#	cancel_trigger = {
	#		custom_trigger_tooltip = {
	#			tooltip = edc_raid_decision_cancel_trigger
	#			OR = {
	#				is_in_faction_with = FROM
	#				has_war_with = FROM
	#			}
	#		}
	#	}
	#	modifier = {
	#		command_power_gain_mult = -0.90
	#	}
	#	complete_effect = {
	#		hidden_effect = { add_command_power = -50 }
	#		set_country_flag = raiding_neighbour
	#		hidden_effect = {
	#			ROOT = {
	#				if = {
	#					limit = { 
	#						NOT = { has_country_flag = Tribal_Army_Raised } 
	#						OR = {
	#							check_variable = { Tribal_army_num > 999 }
	#							check_variable = { Tribal_horse_army_num > 999 }
	#							check_variable = { Tribal_horse_pistoleer_army_num > 999 }
	#							check_variable = { Tribal_camel_army_num > 999 }
	#						}
	#					}
	#					hidden_effect = {
	#						set_country_flag = Tribal_Army_Raised_Due_To_Border_War
	#						ROOT = { country_event = { id = first_nations_tribal_raid.22 days = 32 } }
	#						set_country_flag = Tribal_Army_Raised
	#						afr_call_all_warrior_types = yes
	#					}
	#				}
	#			}
	#		}
	#	}
	#	remove_effect = {
	#		clr_country_flag = raiding_neighbour
	#		hidden_effect = {
	#			FROM = {
	#				if = {
	#					limit = { 
	#						NOT = { has_country_flag = Tribal_Army_Raised } 
	#						OR = {
	#							check_variable = { Tribal_army_num > 999 }
	#							check_variable = { Tribal_horse_army_num > 999 }
	#							check_variable = { Tribal_horse_pistoleer_army_num > 999 }
	#							check_variable = { Tribal_camel_army_num > 999 }
	#						}
	#					}
	#					hidden_effect = {
	#						set_country_flag = Tribal_Army_Raised_Due_To_Border_War
	#						ROOT = { country_event = { id = first_nations_tribal_raid.22 days = 1 } }
	#						set_country_flag = Tribal_Army_Raised
	#						afr_call_all_warrior_types = yes
	#					}
	#				}
	#			}
	#		}
	#		if = {
	#			limit = {
	#				ROOT = { owns_state = 1219 }
	#				FROM = { owns_state = 805 }
	#			}
	#			hidden_effect = { 
	#				FROM = { country_event = { id = sokoto.19 } }
	#				ROOT = { country_event = { id = sokoto.10 } }
	#			}
	#			custom_effect_tooltip = SKT_BAG_prepare_border_raid
	#		}
	#		else_if = {
	#			limit = {
	#				ROOT = { owns_state = 1219 }
	#				FROM = { owns_state = 558 }
	#			}
	#			hidden_effect = { 
	#				FROM = { country_event = { id = sokoto.19 } }
	#				ROOT = { country_event = { id = sokoto.11 } }
	#			}
	#			custom_effect_tooltip = SKT_GBG_prepare_border_raid
	#		}
	#		else_if = {
	#			limit = {
	#				ROOT = { owns_state = 1218 }
	#				FROM = { owns_state = 871 }
	#			}
	#			hidden_effect = { 
	#				FROM = { country_event = { id = sokoto.19 } }
	#				ROOT = { country_event = { id = sokoto.12 } }
	#			}
	#			custom_effect_tooltip = SKT_OYO_prepare_border_raid
	#		}
	#		else_if = {
	#			limit = {
	#				ROOT = { owns_state = 1218 }
	#				FROM = { owns_state = 769 }
	#			}
	#			hidden_effect = { 
	#				FROM = { country_event = { id = sokoto.19 } }
	#				ROOT = { country_event = { id = sokoto.13 } }
	#			}
	#			custom_effect_tooltip = SKT_DAH_prepare_border_raid
	#		}
	#		else_if = {
	#			limit = {
	#				ROOT = { owns_state = 873 }
	#				FROM = { owns_state = 872 }
	#			}
	#			hidden_effect = { 
	#				FROM = { country_event = { id = sokoto.19 } }
	#				ROOT = { country_event = { id = sokoto.14 } }
	#			}
	#			custom_effect_tooltip = SKT_BRG_prepare_border_raid
	#		}
	#		else_if = {
	#			limit = {
	#				ROOT = { owns_state = 873 }
	#				FROM = { owns_state = 770 }
	#			}
	#			hidden_effect = { 
	#				FROM = { country_event = { id = sokoto.19 } }
	#				ROOT = { country_event = { id = sokoto.15 } }
	#			}
	#			custom_effect_tooltip = SKT_DDI_prepare_border_raid
	#		}
	#		else_if = {
	#			limit = {
	#				ROOT = { owns_state = 873 }
	#				FROM = { owns_state = 515 }
	#			}
	#			hidden_effect = { 
	#				FROM = { country_event = { id = sokoto.19 } }
	#				ROOT = { country_event = { id = sokoto.9 } }
	#			}
	#			custom_effect_tooltip = SKT_TUG_prepare_border_raid
	#		}
	#	}
	#
	#	ai_will_do = {
	#		base = 1
	#		modifier = {
	#			factor = 0 
	#			ROOT = {
	#				has_opinion = {
	#					target = FROM
	#					value > 45
	#				}
	#			}
	#		}
	#		modifier = {
	#			factor = 10 
	#			ROOT = {
	#				has_opinion = {
	#					target = FROM
	#					value < -40
	#				}
	#			}
	#		}
	#	}
	#}
}

SKT_Caliphate_Diplomacy = {

#Generic Influence
	SKT_form_an_african_jihad = {
		icon = generic_political_discourse
		available = {
			always = no
		}

		visible = {
			AND = {
				tag = SKT
				ROOT = {
					custom_trigger_tooltip = {
						tooltip = AFR_religion_not_sunni_tooltip                                     
						is_in_array = {
							array = national_religion_array
							value = global.sunni
						}   
					}
				}
			}
		}
		allowed = { TAG = SKT }
	
		fire_only_once = yes

		#cost = 50
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 4
				has_stability > 0.75
			}
		}
		
		complete_effect = {
			add_political_power = 150
			set_country_flag = SKT_jihad_formed
			
			swap_ideas={
				remove_idea = SKT_sokoto_jihad
				add_idea = SKT_an_african_jihad
			}
			
			custom_effect_tooltip = SKT_form_an_african_jihad_tooltip
		}
	}

#Generic Influence
	SKT_ANY_sunni_influence = {
		icon = generic_political_discourse
		available = {
			has_country_flag = SKT_jihad_formed
			has_stability > 0.75
			any_country = {
				AND = {
					OR = {
						is_neighbor_of = ROOT
						if = { 
							limit = {
								BAG = { is_subject_of = SKT }
							}
							is_neighbor_of = BAG
						}
						if = { 
							limit = {
								BRG = { is_subject_of = SKT }
							}
							is_neighbor_of = BRG
						}
					}
					has_opinion = {
						target = SKT
						value > 9
					}
					NOT = {
						OR = {
							if = { 
								limit = {
									BAG = { is_subject_of = SKT }
								}
								tag = BAG
							}
							if = { 
								limit = {
									BRG = { is_subject_of = SKT }
								}
								tag = BRG
							}
							tag = OTO
						}
					}
					
					custom_trigger_tooltip = {
						tooltip = AFR_religion_sunni_tooltip                                     
						is_in_array = {
							array = national_religion_array
							value = global.sunni
						}   
					}
					is_puppet = no
				}
			}
			is_puppet = no
		}

		visible = {
			always = no
			AND = {
				tag = SKT
				ROOT = {
					custom_trigger_tooltip = {
						tooltip = AFR_religion_sunni_tooltip                                     
						is_in_array = {
							array = national_religion_array
							value = global.sunni
						}   
					}
				}
				any_neighbor_country = {
					custom_trigger_tooltip = {
						tooltip = AFR_religion_sunni_tooltip                                     
						is_in_array = {
							array = national_religion_array
							value = global.sunni
						}   
					}
				}
				has_country_flag = SKT_jihad_formed
			}
			
		}
		allowed = { TAG = SKT }
	
		fire_only_once = yes

		cost = 300
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 4
				has_stability > 0.75
			}
		}
		
		complete_effect = {
			add_political_power = -300
			every_neighbor_country = {
				if = {
					limit = {
						AND = {
							is_in_array = {
								array = national_religion_array
								value = global.sunni
							}
							NOT = {
								OR = {
									if = { 
										limit = {
											BAG = { is_subject_of = SKT }
										}
										tag = BAG
									}
									if = { 
										limit = {
											BRG = { is_subject_of = SKT }
										}
										tag = BRG
									}
									tag = OTO
								}
							}
							is_puppet = no
						}
					}
					country_event = { days = 5 id = sokoto.27 }
				}
			}
			hidden_effect = {

			}
			
		}
	}

#BAG Influence
	SKT_BAG_sunni_influence = {
		icon = generic_political_discourse
		available = {
			BAG = { exists = yes }
			has_stability > 0.60
			is_neighbor_of = BAG
			BAG = {
				has_opinion = {
					target = SKT
					value > 9
				}
			}
			NOT = { is_subject_of = BAG }
			BAG = {
				custom_trigger_tooltip = {
					tooltip = AFR_religion_sunni_tooltip                                     
					is_in_array = {
						array = national_religion_array
						value = global.sunni
					}   
				}
			}
		}
		

		visible = {
			always = no
			AND = {
				tag = SKT
				BAG = { exists = yes }
				ROOT = {
					is_neighbor_of = BAG
					owns_state = 1219
					is_in_array = {
						array = national_religion_array
						value = global.sunni
					}
				}
				BAG = {
					owns_state = 805
					is_in_array = {
						array = national_religion_array
						value = global.sunni
					}
				}
			}
		}
		allowed = { TAG = SKT }
	
		fire_only_once = yes

		cost = 50
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 4
				has_stability > 0.50
			}
		}
		
		complete_effect = {
			add_political_power = -50
			BAG = { country_event = { days = 5 id = sokoto.27 } }
			hidden_effect = {
				set_country_flag = SKT_BAG_jihad
			}
			
		}
	}
	#BRG Influence
	SKT_BRG_sunni_influence = {
		icon = generic_political_discourse
		available = {
			BRG = { exists = yes }
			has_stability > 0.60
			is_neighbor_of = BRG
			BRG = {
				has_opinion = {
					target = SKT
					value > 9
				}
			}
			NOT = { is_subject_of = BRG }
			BRG = {
				custom_trigger_tooltip = {
					tooltip = AFR_religion_sunni_tooltip                                     
					is_in_array = {
						array = national_religion_array
						value = global.sunni
					}   
				}
			}
		}
		

		visible = {
			always = no
			AND = {
				tag = SKT
				BRG = { exists = yes }
				ROOT = {
					is_neighbor_of = BRG
					owns_state = 873
					is_in_array = {
						array = national_religion_array
						value = global.sunni
					}
				}
				BRG = {
					owns_state = 872
					is_in_array = {
						array = national_religion_array
						value = global.sunni
					}
				}
			}
		}
		allowed = { TAG = SKT }
	
		fire_only_once = yes

		cost = 50
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 4
				has_stability > 0.60
			}
		}
		
		complete_effect = {
			add_political_power = -50
			BRG = { country_event = { days = 5 id = sokoto.27 } }
			hidden_effect = {
				set_country_flag = SKT_BRG_jihad
			}
			
		}
	}
	
	#BAG
	SKT_BAG_sunni_integration = {
		icon = generic_political_discourse
		available = {
			BAG = { exists = yes }
			has_stability > 0.75
			is_neighbor_of = BAG
			OR = {
				BAG = { is_subject_of = SKT }
				BAG = {
					has_opinion = {
						target = SKT
						value > 64
					}
				}
			}
			NOT = { is_subject_of = BAG }
			NOT = {has_country_flag = raiding_neighbour}
			BAG = {
				custom_trigger_tooltip = {
					tooltip = AFR_religion_sunni_tooltip                                     
					is_in_array = {
						array = national_religion_array
						value = global.sunni
					}   
				}
			}
		}
		

		visible = {
			AND = {
				tag = SKT
				BAG = { exists = yes }
				ROOT = {
					is_neighbor_of = BAG
					owns_state = 1219
					is_in_array = {
						array = national_religion_array
						value = global.sunni
					}
				}
				BAG = {
					owns_state = 805
					is_in_array = {
						array = national_religion_array
						value = global.sunni
					}
				}
				has_country_flag = SKT_BRG_jihad
			}
		}
		allowed = { TAG = SKT }
	
		fire_only_once = yes

		cost = 250
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 4
				has_stability > 0.75
			}
		}
		
		complete_effect = {
			add_political_power = -250
			BAG = { country_event = { days = 5 id = sokoto.23 } }
			hidden_effect = {
				set_country_flag = SKT_BAG_subject
			}
			
		}
	}
		
	SKT_GBG_sunni_integration = {
		icon = generic_political_discourse
		available = {
			GBG = { exists = yes }
			has_stability > 0.75
			is_neighbor_of = GBG
			OR = {
				GBG = { is_subject_of = SKT }
				GBG = {
					has_opinion = {
						target = SKT
						value > 64
					}
				}
			}
			NOT = { is_subject_of = GBG }
			NOT = {has_country_flag = raiding_neighbour}
			GBG = {
				custom_trigger_tooltip = {
					tooltip = AFR_religion_sunni_tooltip                                     
					is_in_array = {
						array = national_religion_array
						value = global.sunni
					}   
				}
			}
		}
		

		visible = {
			AND = {
				tag = SKT
				GBG = { exists = yes }
				ROOT = {
					is_neighbor_of = GBG
					owns_state = 1219
					is_in_array = {
						array = national_religion_array
						value = global.sunni
					}
				}
				GBG = {
					owns_state = 558
					is_in_array = {
						array = national_religion_array
						value = global.sunni
					}
				}
			}
			
		}
		allowed = { TAG = SKT }
	
		fire_only_once = yes

		cost = 250
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 4
				has_stability > 0.75
			}
		}
		
		complete_effect = {
			add_political_power = -250
			GBG = { country_event = { days = 5 id = sokoto.23 } }
			hidden_effect = {

			}
			
		}
		}
		
		SKT_OYO_sunni_integration = {
		icon = generic_political_discourse
		available = {
			OYO = { exists = yes }
			has_stability > 0.75
			is_neighbor_of = OYO
			OR = {
				OYO = { is_subject_of = SKT }
				OYO = {
					has_opinion = {
						target = SKT
						value > 64
					}
				}
			}
			NOT = { is_subject_of = OYO }
			NOT = {has_country_flag = raiding_neighbour}
			OYO = {
				custom_trigger_tooltip = {
					tooltip = AFR_religion_sunni_tooltip                                     
					is_in_array = {
						array = national_religion_array
						value = global.sunni
					}   
				}
			}
		}
		

		visible = {
			AND = {
				tag = SKT
				OYO = { exists = yes }
				ROOT = {
					is_neighbor_of = OYO
					owns_state = 1218
					is_in_array = {
						array = national_religion_array
						value = global.sunni
					}
				}
				OYO = {
					owns_state = 871
					is_in_array = {
						array = national_religion_array
						value = global.sunni
					}
				}
			}
			
		}
		allowed = { TAG = SKT }
	
		fire_only_once = yes

		cost = 250
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 4
				has_stability > 0.75
			}
		}
		
		complete_effect = {
			add_political_power = -250
			OYO = { country_event = { days = 5 id = sokoto.23 } }
			hidden_effect = {

			}
			
		}
		}
		
		SKT_DAH_sunni_integration = {
		icon = generic_political_discourse
		available = {
			DAH = { exists = yes }
			has_stability > 0.75
			is_neighbor_of = DAH
			OR = {
				DAH = { is_subject_of = SKT }
				DAH = {
					has_opinion = {
						target = SKT
						value > 64
					}
				}
			}
			NOT = { is_subject_of = DAH }
			NOT = {has_country_flag = raiding_neighbour}
			DAH = {
				custom_trigger_tooltip = {
					tooltip = AFR_religion_sunni_tooltip                                     
					is_in_array = {
						array = national_religion_array
						value = global.sunni
					}   
				}
			}
		}
		

		visible = {
			AND = {
				tag = SKT
				DAH = { exists = yes }
				ROOT = {
					is_neighbor_of = DAH
					owns_state = 1218
					is_in_array = {
						array = national_religion_array
						value = global.sunni
					}
				}
				DAH = {
					owns_state = 769
					is_in_array = {
						array = national_religion_array
						value = global.sunni
					}
				}
			}
			
		}
		allowed = { TAG = SKT }
	
		fire_only_once = yes

		cost = 250
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 4
				has_stability > 0.75
			}
		}
		
		complete_effect = {
			add_political_power = -250
			DAH = { country_event = { days = 5 id = sokoto.23 } }
			hidden_effect = {

			}
			
		}
		}
		
		#BRG
		SKT_BRG_sunni_integration = {
		icon = generic_political_discourse
		available = {
			BRG = { exists = yes }
			has_stability > 0.75
			is_neighbor_of = BRG
			OR = {
				BRG = { is_subject_of = SKT }
				BRG = {
					has_opinion = {
						target = SKT
						value > 64
					}
				}
			}
			NOT = { is_subject_of = BRG }
			NOT = {has_country_flag = raiding_neighbour}
			BRG = {
				custom_trigger_tooltip = {
					tooltip = AFR_religion_sunni_tooltip                                     
					is_in_array = {
						array = national_religion_array
						value = global.sunni
					}   
				}
			}
		}
		

		visible = {
			AND = {
				tag = SKT
				BRG = { exists = yes }
				ROOT = {
					is_neighbor_of = BRG
					owns_state = 873
					is_in_array = {
						array = national_religion_array
						value = global.sunni
					}
				}
				BRG = {
					owns_state = 872
					is_in_array = {
						array = national_religion_array
						value = global.sunni
					}
				}
				has_country_flag = SKT_BRG_jihad
			}
		}
		allowed = { TAG = SKT }
	
		fire_only_once = yes

		cost = 250
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 4
				has_stability > 0.75
			}
		}
		
		complete_effect = {
			add_political_power = -250
			BRG = { country_event = { days = 5 id = sokoto.23 } }
			hidden_effect = {
				set_country_flag = SKT_BRG_subject
			}
			
		}
		
	}
	
	
	SKT_DDI_sunni_integration = {
		icon = generic_political_discourse
		available = {
			DDI = { exists = yes }
			has_stability > 0.75
			is_neighbor_of = DDI
			OR = {
				DDI = { is_subject_of = SKT }
				DDI = { 
					has_opinion = {
						target = SKT
						value > 64
					}
				}
			}
			NOT = { is_subject_of = DDI }
			NOT = {has_country_flag = raiding_neighbour}
			DDI = {
				custom_trigger_tooltip = {
					tooltip = AFR_religion_sunni_tooltip                                     
					is_in_array = {
						array = national_religion_array
						value = global.sunni
					}   
				}
			}
		}
		

		visible = {
			AND = {
				tag = SKT
				DDI = { exists = yes }
				ROOT = {
					is_neighbor_of = DDI
					owns_state = 873
					is_in_array = {
						array = national_religion_array
						value = global.sunni
					}
				}
				DDI = {
					owns_state = 770
					is_in_array = {
						array = national_religion_array
						value = global.sunni
					}
				}
			}
			
		}
		allowed = { TAG = SKT }
	
		fire_only_once = yes

		cost = 250
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 4
				has_stability > 0.75
			}
		}
		
		complete_effect = {
			add_political_power = -250
			DDI = { country_event = { days = 5 id = sokoto.23 } }
			hidden_effect = {

			}
			
		}
		
	}
}
