tunisia_revolt_category = {
	tunisia_revolt_mission = {
		allowed = { always = no }
		available = {
			# add your variable here
			check_variable = { Mejba_Revolt_var > 99 }
			
		}

		activation = { always = no }
		is_good = no
		days_mission_timeout = 30

		timeout_effect = {
		if = {
			limit = { has_active_mission =  tunisia_revolt_mission }
			
		}
		else = {
			activate_mission = tunisia_revolt_mission # Copy this line when you make set your your variable
			if = {
				limit = { date > 1865.1.1 }
				add_to_variable = { Mejba_Revolt_var = 25 }
			}
		}
		}

		complete_effect = {
			country_event = { id = tunisia.100 } # Fires Civil War
			remove_dynamic_modifier = { modifier = TUN_Mejba_Revolt_Modifier } # removes the modifier added for civil war
			set_variable = { Mejba_Revolt_var = 0}
			set_country_flag = tunisia_revolt_flag
		}
	}
	tunisia_debt_mission = {
		visible = { has_completed_focus = TUN_stabilize_the_nation }
		allowed = { always = no }
		available = {
			# how i win
			check_variable = { debt_level < 40 }
			has_completed_focus = TUN_the_monetary_issue # it must be lower than 50 before i complete a specific national focus
		}
		activation = { always = no }
		is_good = no
		days_mission_timeout = 36
		timeout_effect = { #what happens if i loose
		if = {
		limit = {
			has_country_flag = tunisia_revolt_flag
		}
			decrease_ps_by_three = yes
		}
		else = {
			activate_mission = tunisia_revolt_mission # Copy this line when you make set your variable
			
		}
		}
		complete_effect = { # what happens when i win
		increase_ps_by_three = yes
		add_manpower = 10000
		458 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
			
		}
	}
	TUN_Increase_Military_Presence = {
		visible = {check_variable = { Mejba_Revolt_var > 49 }}
		allowed = { always = yes }
		ai_will_do = {
			base = 1
		}
		icon = generic_political_actions
		cost = 50
		days_re_enable = 180
		available = {
			has_active_mission = tunisia_revolt_mission
		}
		complete_effect = {
			custom_effect_tooltip = TUN_control_the_revolt_tooltip
			add_to_variable = {
				var = Mejba_Revolt_var
				value = -25
			}
		}
	}
	TUN_Manipulate_Inland_Economy = {
		visible = {check_variable = { Mejba_Revolt_var > 49 }}
		allowed = { always = yes }
		available = {
			has_active_mission = tunisia_revolt_mission
		}
		ai_will_do = {
			base = 1
		}
		icon = generic_political_actions
		cost = 50
		fire_only_once = yes
		available = {
			has_active_mission = tunisia_revolt_mission
			has_completed_focus = TUN_stabilize_the_nation
		}
		complete_effect = {
			custom_effect_tooltip = TUN_control_the_revolt_tooltip
			add_to_variable = {
				var = Mejba_Revolt_var
				value = -20
			}
			add_timed_idea = {
				idea = TUN_Manipulate_Inland_Economy_idea
				days = 200
			}
		}
	}
	TUN_decision_conscript_sahil_locals = {
		visible = {
			has_completed_focus = TUN_conscript_sahil_locals
		}
		fire_only_once = yes
		complete_effect = {
			set_temp_variable = { money_to_gain = -0.01 }
			add_money_with_tooltip_effect = yes	
			add_manpower = 5000
		}
	}
}
tunisia_economy_category = {
	TUN_develop_tunis = {
		allowed = { always = yes }
			available = {
				has_completed_focus = TUN_improved_agriculture_infastructure
				set_temp_variable = {
				amount_of_money_to_check = 0.25
					}
				has_specific_amount_of_money_with_inflation_included = yes
				}
			ai_will_do = {
				base = 1
			}
			icon = generic_political_actions
			fire_only_once = yes
	
		custom_cost_trigger = {
			set_temp_variable = {
				amount_of_money_to_check = 0.25
			}
		}
		custom_cost_text = CREATE_PUBLIC_WORKS_CUSTOM_COST_TEXT	

		complete_effect = {
		458 = { add_extra_state_shared_building_slots = 1 }
			set_temp_variable = { money_to_gain = -0.25 }
			add_money_with_tooltip_effect = yes		
			}
		}

	TUN_develop_tunis_agriculture = {
		allowed = { always = yes }
			available = {
				has_completed_focus = TUN_improved_agriculture_infastructure
				set_temp_variable = {
				amount_of_money_to_check = 0.15
					}
				has_specific_amount_of_money_with_inflation_included = yes
				}
			ai_will_do = {
				base = 1
			}
			icon = generic_political_actions
			fire_only_once = yes
	
		custom_cost_trigger = {
			set_temp_variable = {
				amount_of_money_to_check = 0.15
			}
		}
		custom_cost_text = CREATE_PUBLIC_WORKS_CUSTOM_COST_TEXT	

		complete_effect = {
		458 = { 
			add_building_construction = {
				type = farm
				level = 1
				instant_build = yes
			}
		 }
			set_temp_variable = { money_to_gain = -0.15 }
			add_money_with_tooltip_effect = yes		
			}
		}
	TUN_renovate_the_madrasas = {
		allowed = { always = yes }
			available = {
				has_completed_focus = TUN_renovate_madrasas
				set_temp_variable = {
				amount_of_money_to_check = 0.35
					}
				has_specific_amount_of_money_with_inflation_included = yes
				}
			ai_will_do = {
				base = 1
			}
			icon = generic_political_actions
			fire_only_once = yes
	
		days_remove = 120
		priority = 1
		custom_cost_trigger = {
			set_temp_variable = {
				amount_of_money_to_check = 0.35
			}
		}
		custom_cost_text = CREATE_PUBLIC_WORKS_CUSTOM_COST_TEXT	

		complete_effect = {
			set_temp_variable = { money_to_gain = -0.35 }
			add_money_with_tooltip_effect = yes
			add_ideas = { TUN_madrasas_renovated }
			}
		}
	TUN_decsion_issue_debased_currency = {
		allowed = { always = yes }
			available = {
				has_completed_focus = TUN_issue_debased_currency
				}
			ai_will_do = {
				base = 1
			}
			icon = generic_political_actions
			fire_only_once = yes
	
		days_remove = 20
		priority = 1

		remove_effect = {
			set_temp_variable = {
				inflation_to_gain = 0.05
			}
			add_inflation_with_tooltip_effect = yes
			set_temp_variable = { 
				money_to_gain = 0.5
			}
			add_money_with_inflation_included_with_tooltip_effect = yes
			}
		}
	TUN_decision_issue_bonds = {
		allowed = { always = yes }
			available = {
				has_completed_focus = TUN_issue_bonds
				}
			ai_will_do = {
				base = 1
			}
			icon = generic_political_actions
			fire_only_once = yes
	
		days_remove = 20
		priority = 1

		remove_effect = {
			set_temp_variable = {
				inflation_to_gain = 0.03
			}
			add_inflation_with_tooltip_effect = yes
			set_temp_variable = { 
				money_to_gain = 2
			}
			add_money_with_inflation_included_with_tooltip_effect = yes
			}
		}
	TUN_decision_tunis_bizerte_road = {
		icon = generic_political_actions
		fire_only_once = yes
			available = {
				has_completed_focus = TUN_tunis_bizerte_road
				set_temp_variable = {
				amount_of_money_to_check = 0.1
					}
				has_specific_amount_of_money_with_inflation_included = yes
				}
			ai_will_do = {
				base = 1
			}
		days_remove = 150
		custom_cost_trigger = {
			set_temp_variable = {
				amount_of_money_to_check = 0.1
			}
		}
		custom_cost_text = CREATE_PUBLIC_WORKS_CUSTOM_COST_TEXT	

		complete_effect = {
			458 = {  
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
					}
				}
			set_temp_variable = { money_to_gain = -0.1 }
			add_money_with_tooltip_effect = yes	
			}
		}
	TUN_decision_school_science_and_math = {
		icon = generic_political_actions
		fire_only_once = yes
			available = {
				has_completed_focus = TUN_school_for_science_and_math
				set_temp_variable = {
				amount_of_money_to_check = 0.15
					}
				has_specific_amount_of_money_with_inflation_included = yes
				}
			ai_will_do = {
				base = 1
			}
		days_remove = 90
		custom_cost_trigger = {
			set_temp_variable = {
				amount_of_money_to_check = 0.15
			}
		}
		custom_cost_text = CREATE_PUBLIC_WORKS_CUSTOM_COST_TEXT	

		complete_effect = {
			set_temp_variable = { money_to_gain = -0.15 }
			add_money_with_tooltip_effect = yes	
			TUN = {
			add_ideas = { TUN_idea_school_science_and_math }
			}
		}
	}
	TUN_bizerte_repair_shop = {
		visible = {
			has_completed_focus = TUN_bizerte_repair_shops
		}
		fire_only_once = yes
		custom_cost_trigger = {
			set_temp_variable = {
				 amount_of_money_to_check = 0.8
			}
		}
		complete_effect = {
			set_temp_variable = { money_to_gain = -0.8 }
			add_money_with_tooltip_effect = yes	
		}
		days_remove = 90
		remove_effect = {
			458 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}
	}
	TUN_la_goulette_shipyard = {
		visible = {
			has_completed_focus = TUN_expanding_la_goulette_shipyards
		}
		fire_only_once = yes
		custom_cost_trigger = {
			set_temp_variable = {
				 amount_of_money_to_check = 0.8
			}
		}
		complete_effect = {
			set_temp_variable = { money_to_gain = -0.8 }
			add_money_with_tooltip_effect = yes	
		}
		days_remove = 90
		remove_effect = {
			458 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}
	}
}
tunisia_defense_category = {
	TUN_build_forts_Tunis = {
		visible = {
			has_completed_focus = TUN_tunis_fortification
		}
		fire_only_once = yes
		custom_cost_trigger = {
			set_temp_variable = {
				 amount_of_money_to_check = 0.2
			}
		}
		days_remove = 90
		complete_effect = {
			set_temp_variable = { money_to_gain = -0.2 }
			add_money_with_tooltip_effect = yes	
		}
		remove_effect = {
			458 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 11969
				}
			}
		}
	}
	TUN_build_coastal_forts_Tunis = {
		visible = {
			has_completed_focus = TUN_tunis_fortification
		}
		fire_only_once = yes
		custom_cost_trigger = {
			set_temp_variable = {
				 amount_of_money_to_check = 0.2
			}
		}
		days_remove = 90
		complete_effect = {
			set_temp_variable = { money_to_gain = -0.2 }
			add_money_with_tooltip_effect = yes	
		}
		remove_effect = {
			458 = {
				add_building_construction = {
					type = coastal_bunker
					level = 2
					instant_build = yes
					province = 11969
				}
			}
		}
	}
	TUN_build_coastal_artillery = {
		visible = {
			has_completed_focus = TUN_coastal_artillery
		}
		fire_only_once = yes
		custom_cost_trigger = {
			set_temp_variable = {
				 amount_of_money_to_check = 1.5
			}
		}
		complete_effect = {
			set_temp_variable = { money_to_gain = -1.5 }
			add_money_with_tooltip_effect = yes	
		}
		days_remove = 90
		remove_effect = {
			458 = {
				add_building_construction = {
					type = coastal_bunker
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_coastal = yes
					}
				}
			}
		}
	}
}