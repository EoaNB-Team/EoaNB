afr_rrp_foreign_diplomacy = {

	afr_rrp_american_colonization_society = {

		ai_will_do = { factor = 1 }
		available = {
			date < 1910.1.1
			AND = {
				USA = {
					has_country_flag = USA_supports_acs
				}
				LIB = {
					has_completed_focus = LIB_gem_of_africa
				}
			}
			OR = {
				ROOT = {
					has_country_flag = ACS_colony
				}
				LIB = {
					is_neighbor_of = ROOT
				}
				any_country = {
					OR = {
						AND = {
							is_subject_of = LIB
							is_neighbor_of = ROOT
						}
						AND = {
							has_country_flag = ACS_colony
							is_neighbor_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = afr_progress_tree
						has_country_flag = afr_jihadist_tree
						has_country_flag = afr_traditional_tree
					}
					afr_is_tribal = yes
				}
				NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
			}

		}
		days_remove = 30
		allowed = {
			afr_is_tribal_allowed = yes
		}
		visible = {
			date < 1911.1.1
			AND = {
				ROOT = {
					OR = {
						has_idea = afr_post_tribal
						has_idea = afr_reforming_kingdom
						has_idea = AF_T_small_kingdom
						has_completed_focus = AF_O_K_invite_foreign_investors
						has_completed_focus = afr_wes_governmental_westernisation
					}
					NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
				}
				LIB = {
					has_country_flag = LIB_adopted_ACS_policy_flag
				}
				NOT = {
					has_country_flag = afr_rrp_british_company_port
					has_country_flag = afr_rrp_hamburg_company_port
					has_country_flag = afr_rrp_french_company_port
					has_country_flag = afr_rrp_german_company_port
					has_country_flag = afr_rrp_bremen_company_port
					has_country_flag = afr_rrp_sweden_company_port
					has_country_flag = afr_rrp_orange_company_port
					has_country_flag = afr_rrp_portugal_company_port
					AND = {
						has_country_flag = afr_rrp_orange_rhodesia_company_proposal_failed_flag
						OR = {
							has_country_flag = afr_progress_tree
							has_country_flag = afr_jihadist_tree
						}
					}
				}
			}
		}

		fire_only_once = yes

		cost = 0

		modifier = {


		}

		complete_effect = {
			LIB = { country_event = { days = 1 id = afr_rrp.13 } }
			every_country = {
				if = {
					limit = {
						has_country_flag = ACS_colony
					}
					country_event = { days = 1 id = afr_rrp.13 }
				}
			}
			set_country_flag = afr_rrp_usa_company
			set_country_flag = ACS_affiliate
			if = {
				limit = {
					LIB = { has_government = centrism }
				}
				ROOT = {
					add_popularity = {
						ideology = centrism
						popularity = 0.03
					}
				}
			}
			else_if = {
				limit = {
					LIB = { has_government = traditional_conservatism }
				}
				ROOT = {
					add_popularity = {
						ideology = traditional_conservatism
						popularity = 0.03
					}
				}
			}
			else_if = {
				limit = {
					LIB = { has_government = social_egalitarianism }
				}
				ROOT = {
					add_popularity = {
						ideology = social_egalitarianism
						popularity = 0.03
					}
				}
			}
			else_if = {
				limit = {
					LIB = { has_government = ideology_radical_socialism }
				}
				ROOT = {
					add_popularity = {
						ideology = ideology_radical_socialism
						popularity = 0.03
					}
				}
			}
			else_if = {
				limit = {
					LIB = { has_government = autocracy }
				}
				ROOT = {
					add_popularity = {
						ideology = autocracy
						popularity = 0.03
					}
				}
			}
			else_if = {
				limit = {
					LIB = { has_government = radical_democracy }
				}
				ROOT = {
					add_popularity = {
						ideology = radical_democracy
						popularity = 0.03
					}
				}

			}
			else_if = {
				limit = {
					LIB = { has_government = chauvinist_populism }
				}
				ROOT = {
					add_popularity = {
						ideology = chauvinist_populism
						popularity = 0.03
					}
				}
			}
		}
	}

	afr_rrp_british_company_port = {

		ai_will_do = { factor = 1 }
		available = {
			custom_trigger_tooltip = {
				tooltip = afr_rrp_is_kingdom_power_tooltip
				OR = {
					has_idea = afr_post_tribal
					has_idea = afr_reforming_kingdom
					has_idea = AF_T_small_kingdom
				}
			}
			afr_start_company_trigger = yes
			country_exists = ENG
			custom_trigger_tooltip = {
				tooltip = afr_start_eng_company_tooltip
				OR = {
					ROOT = {
						any_owned_state = { is_coastal = yes }
					}
					ENG = {
						is_neighbor_of = ROOT
					}
					any_country = {
						AND = {
							is_subject_of = ENG
							is_neighbor_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = afr_progress_tree
						has_country_flag = afr_jihadist_tree
						has_country_flag = afr_traditional_tree
					}
					afr_is_tribal = yes
				}
				NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
			}
			custom_trigger_tooltip = {
				tooltip = AFR_accept_bribes_for_slave_smuggling_trigger
				NOT = { has_idea = AFR_illegal_transatlantic }
			}
		}
		allowed = { afr_is_tribal_allowed = yes }
		visible = {
			afr_visible_company_trigger = yes
			NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
			NOT = {
				AND = {
					has_country_flag = afr_rrp_orange_rhodesia_company_proposal_failed_flag
					OR = {
						has_country_flag = afr_progress_tree
						has_country_flag = afr_jihadist_tree
					}
				}
			}
		}

		fire_only_once = yes

		cost = 0

		days_remove = 360

		modifier = {
			political_power_gain = -1
			MONTHLY_POPULATION = 1
		}

		cancel_trigger = {
			NOT = { afr_english_company_port_trigger = yes }
		}

		remove_effect = {
			clr_country_flag = afr_rrp_colonial_project_active
			add_offsite_building = { type = cotton_farm level = 1 }
			random_owned_state = {
				limit = { has_state_flag = afr_rrp_british_company_headquarters }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				if = {
					limit = { NOT = { has_state_flag = afr_port_town_already_established } }
					set_afr_port_town_for_company = yes
				}
				if = {
					limit = { has_state_flag = afr_port_town_already_established }
					hidden_effect = { clr_state_flag = afr_port_town_already_established }
				}
				if = {
					limit = { OWNER = { has_variable = has_afr_empire_mechanic_system } }
					hidden_effect = {
						state_event = { id = RCE_afr_regional_power.57 days = 120 trigger_for = controller }
						set_state_flag = afr_empire_politics_has_regional_development_boom_flag
						afr_empire_politics_state_gain_immigration = yes
						afr_empire_politics_state_gain_boom = yes
					}
					custom_effect_tooltip = afr_empire_politics_state_economy_status_boom_effect
					afr_empire_state_industrisation_progress_set_to_100 = yes
				}
			}
		}

		complete_effect = {
			afr_company_port_effect = yes
			add_ideas = afr_rrp_british_company_partnership_idea
				set_afr_port_town_random_pop = yes
				ENG = {
					country_event = { days = 1 id = afr_rrp.11 }
				}
				add_opinion_modifier = { target = ENG modifier = eoanb_om_africa_trade_focus }
				reverse_add_opinion_modifier = { target = ENG modifier = eoanb_om_africa_trade_focus }

			hidden_effect = {
				ROOT = {
					if = {
						limit = {
							any_owned_state = {
								has_state_flag = afr_port_town
								is_core_of = ROOT
							}
						}
						random_owned_state = {
							limit = {
								has_state_flag = afr_port_town
								is_core_of = ROOT
							}

							set_state_flag = afr_rrp_british_company_headquarters
							set_state_flag = afr_port_town_already_established
						}
						ENG = {
							diplomatic_relation = {
								country = ROOT
								relation = docking_rights
								active = yes
							}
						}
					}
					else_if = {
						limit = {
							any_owned_state = {
								is_coastal = yes
								is_capital = no
								is_core_of = ROOT
							}
						}
						random_owned_state = {
							limit = {
								is_coastal = yes
								is_capital = no
								is_core_of = ROOT
							}

							set_state_flag = afr_rrp_british_company_headquarters
							set_state_flag = afr_port_town
						}
						ENG = {
							diplomatic_relation = {
								country = ROOT
								relation = docking_rights
								active = yes
							}
						}
					}
					else_if = {
						limit = {
							any_owned_state = {
								is_coastal = yes
								is_capital = yes
								is_core_of = ROOT
							}
						}
						random_owned_state = {
							limit = {
								is_coastal = yes
								is_capital = yes
								is_core_of = ROOT
							}

							set_state_flag = afr_rrp_british_company_headquarters
							set_state_flag = afr_port_town
						}
						ENG = {
							diplomatic_relation = {
								country = ROOT
								relation = docking_rights
								active = yes
							}
						}
					}
					else_if = {
						limit = {
							any_owned_state = {
								is_capital = no
								is_core_of = ROOT
							}
						}
						random_owned_state = {
							limit = {
								is_capital = no
								is_core_of = ROOT
							}

							set_state_flag = afr_rrp_british_company_headquarters
						}
					}
					else = {
						random_owned_state = {
							limit = { is_core_of = ROOT }

							set_state_flag = afr_rrp_british_company_headquarters
						}
					}
				}
				give_military_access = ENG
				set_country_flag = afr_rrp_british_company_port
			}

		}


	}

	afr_rrp_french_company_port = {

		ai_will_do = { factor = 1 }
		available = {
			FRA = { has_country_flag = FRA_has_colonial_ambitions }
			custom_trigger_tooltip = {
				tooltip = afr_rrp_is_kingdom_power_tooltip
				OR = {
					has_idea = afr_post_tribal
					has_idea = afr_reforming_kingdom
					has_idea = AF_T_small_kingdom
				}
			}
			afr_start_company_trigger = yes
			country_exists = FRA
			custom_trigger_tooltip = {
				tooltip = afr_start_fra_company_tooltip
				OR = {
					ROOT = {
						any_owned_state = { is_coastal = yes }
					}
					FRA = {
						is_neighbor_of = ROOT
					}
					any_country = {
						AND = {
							is_subject_of = FRA
							is_neighbor_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = afr_progress_tree
						has_country_flag = afr_jihadist_tree
						has_country_flag = afr_traditional_tree
					}
					afr_is_tribal = yes
				}
				NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
			}
		}
		allowed = { afr_is_tribal_allowed = yes }
		visible = {
			afr_visible_company_trigger = yes
			NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
			NOT = {
				AND = {
					has_country_flag = afr_rrp_orange_rhodesia_company_proposal_failed_flag
					OR = {
						has_country_flag = afr_progress_tree
						has_country_flag = afr_jihadist_tree
					}
				}
			}
		}

		fire_only_once = yes

		cost = 0

		days_remove = 360

		modifier = {
			political_power_gain = -1
			MONTHLY_POPULATION = 1
		}

		cancel_trigger = {
			NOT = {
				afr_french_company_port_trigger = yes
			}
		}

		remove_effect = {
			clr_country_flag = afr_rrp_colonial_project_active
			add_offsite_building = { type = cotton_farm level = 1 }
			random_owned_state = {
				limit = { has_state_flag = afr_rrp_french_company_headquarters }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				if = {
					limit = { NOT = { has_state_flag = afr_port_town_already_established } }
					set_afr_port_town_for_company = yes
				}
				if = {
					limit = { has_state_flag = afr_port_town_already_established }
					hidden_effect = { clr_state_flag = afr_port_town_already_established }
				}
				if = {
					limit = { OWNER = { has_variable = has_afr_empire_mechanic_system } }
					hidden_effect = {
						state_event = { id = RCE_afr_regional_power.57 days = 120 trigger_for = controller }
						set_state_flag = afr_empire_politics_has_regional_development_boom_flag
						afr_empire_politics_state_gain_immigration = yes
						afr_empire_politics_state_gain_boom = yes
					}
					custom_effect_tooltip = afr_empire_politics_state_economy_status_boom_effect
					afr_empire_state_industrisation_progress_set_to_100 = yes
				}
			}
		}

		complete_effect = {
			afr_company_port_effect = yes
			add_ideas = afr_rrp_french_company_partnership_idea
				set_afr_port_town_random_pop = yes
				FRA = {
					country_event = { days = 1 id = afr_rrp.11 }
				}
				add_opinion_modifier = { target = FRA modifier = eoanb_om_africa_trade_focus }
				reverse_add_opinion_modifier = { target = FRA modifier = eoanb_om_africa_trade_focus }

			hidden_effect = {
				ROOT = {
					if = {
						limit = {
							any_owned_state = {
								has_state_flag = afr_port_town
								is_core_of = ROOT
							}
						}
						random_owned_state = {
							limit = {
								has_state_flag = afr_port_town
								is_core_of = ROOT
							}

							set_state_flag = afr_rrp_french_company_headquarters
							set_state_flag = afr_port_town_already_established
						}
						FRA = {
							diplomatic_relation = {
								country = ROOT
								relation = docking_rights
								active = yes
							}
						}
					}
					else_if = {
						limit = {
							any_owned_state = {
								is_coastal = yes
								is_capital = no
								is_core_of = ROOT
							}
						}
						random_owned_state = {
							limit = {
								is_coastal = yes
								is_capital = no
								is_core_of = ROOT
							}

							set_state_flag = afr_rrp_french_company_headquarters
							set_state_flag = afr_port_town
						}
						FRA = {
							diplomatic_relation = {
								country = ROOT
								relation = docking_rights
								active = yes
							}
						}
					}
					else_if = {
						limit = {
							any_owned_state = {
								is_coastal = yes
								is_capital = yes
								is_core_of = ROOT
							}
						}
						random_owned_state = {
							limit = {
								is_coastal = yes
								is_capital = yes
								is_core_of = ROOT
							}

							set_state_flag = afr_rrp_french_company_headquarters
							set_state_flag = afr_port_town
						}
						FRA = {
							diplomatic_relation = {
								country = ROOT
								relation = docking_rights
								active = yes
							}
						}
					}
					else_if = {
						limit = {
							any_owned_state = {
								is_capital = no
								is_core_of = ROOT
							}
						}
						random_owned_state = {
							limit = {
								is_capital = no
								is_core_of = ROOT
							}

							set_state_flag = afr_rrp_french_company_headquarters
						}
					}
					else = {
						random_owned_state = {
							limit = { is_core_of = ROOT }

							set_state_flag = afr_rrp_french_company_headquarters
						}
					}
				}
				give_military_access = FRA
				set_country_flag = afr_rrp_french_company_port
			}
		}
	}

	afr_rrp_portugal_company_port = {

		ai_will_do = { factor = 1 }
		available = {
			custom_trigger_tooltip = {
				tooltip = afr_rrp_is_kingdom_power_tooltip
				OR = {
					has_idea = afr_post_tribal
					has_idea = afr_reforming_kingdom
					has_idea = AF_T_small_kingdom
				}
			}
			afr_start_company_trigger = yes
			country_exists = POR
			custom_trigger_tooltip = {
				tooltip = afr_start_por_company_tooltip
				OR = {
					ROOT = {
						any_owned_state = { is_coastal = yes }
					}
					POR = {
						is_neighbor_of = ROOT
					}
					any_country = {
						AND = {
							is_subject_of = POR
							is_neighbor_of = ROOT
						}
					}
				}
			}
			NOT = {
				ROOT = {
					is_subject_of = OTO
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = afr_progress_tree
						has_country_flag = afr_jihadist_tree
						has_country_flag = afr_traditional_tree
					}
					afr_is_tribal = yes
				}
				NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
			}
		}
		allowed = { afr_is_tribal_allowed = yes }
		visible = {
			afr_visible_company_trigger = yes
			NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
			NOT = {
				AND = {
					has_country_flag = afr_rrp_orange_rhodesia_company_proposal_failed_flag
					OR = {
						has_country_flag = afr_progress_tree
						has_country_flag = afr_jihadist_tree
					}
				}
			}
		}

		fire_only_once = yes

		cost = 0

		days_remove = 360

		modifier = {
			political_power_gain = -1
			MONTHLY_POPULATION = 1
		}

		cancel_trigger = {
			NOT = {
				afr_portugal_company_port_trigger = yes
			}
		}

		remove_effect = {
			clr_country_flag = afr_rrp_colonial_project_active
			add_offsite_building = { type = cotton_farm level = 1 }
			random_owned_state = {
				limit = { has_state_flag = afr_rrp_portugal_company_headquarters }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				if = {
					limit = { NOT = { has_state_flag = afr_port_town_already_established } }
					set_afr_port_town_for_company = yes
				}
				if = {
					limit = { has_state_flag = afr_port_town_already_established }
					hidden_effect = { clr_state_flag = afr_port_town_already_established }
				}
				if = {
					limit = { OWNER = { has_variable = has_afr_empire_mechanic_system } }
					hidden_effect = {
						state_event = { id = RCE_afr_regional_power.57 days = 120 trigger_for = controller }
						set_state_flag = afr_empire_politics_has_regional_development_boom_flag
						afr_empire_politics_state_gain_immigration = yes
						afr_empire_politics_state_gain_boom = yes
					}
					custom_effect_tooltip = afr_empire_politics_state_economy_status_boom_effect
					afr_empire_state_industrisation_progress_set_to_100 = yes
				}
			}
		}

		complete_effect = {
			afr_company_port_effect = yes
			add_ideas = afr_rrp_portugal_company_partnership_idea
				set_afr_port_town_random_pop = yes
				POR = {
					country_event = { days = 1 id = afr_rrp.11 }
				}
				add_opinion_modifier = { target = POR modifier = eoanb_om_africa_trade_focus }
				reverse_add_opinion_modifier = { target = POR modifier = eoanb_om_africa_trade_focus }
				

			hidden_effect = {
				ROOT = {
					if = {
						limit = {
							any_owned_state = {
								has_state_flag = afr_port_town
								is_core_of = ROOT
							}
						}
						random_owned_state = {
							limit = {
								has_state_flag = afr_port_town
								is_core_of = ROOT
							}

							set_state_flag = afr_rrp_portugal_company_headquarters
							set_state_flag = afr_port_town_already_established
						}
						POR = {
							diplomatic_relation = {
								country = ROOT
								relation = docking_rights
								active = yes
							}
						}
					}
					else_if = {
						limit = {
							any_owned_state = {
								is_coastal = yes
								is_capital = no
								is_core_of = ROOT
							}
						}
						random_owned_state = {
							limit = {
								is_coastal = yes
								is_capital = no
								is_core_of = ROOT
							}

							set_state_flag = afr_rrp_portugal_company_headquarters
							set_state_flag = afr_port_town
						}
						POR = {
							diplomatic_relation = {
								country = ROOT
								relation = docking_rights
								active = yes
							}
						}
					}
					else_if = {
						limit = {
							any_owned_state = {
								is_coastal = yes
								is_capital = yes
								is_core_of = ROOT
							}
						}
						random_owned_state = {
							limit = {
								is_coastal = yes
								is_capital = yes
								is_core_of = ROOT
							}

							set_state_flag = afr_rrp_portugal_company_headquarters
							set_state_flag = afr_port_town
						}
						POR = {
							diplomatic_relation = {
								country = ROOT
								relation = docking_rights
								active = yes
							}
						}
					}
					else_if = {
						limit = {
							any_owned_state = {
								is_capital = no
								is_core_of = ROOT
							}
						}
						random_owned_state = {
							limit = {
								is_capital = no
								is_core_of = ROOT
							}

							set_state_flag = afr_rrp_portugal_company_headquarters
						}
					}
					else = {
						random_owned_state = {
							limit = { is_core_of = ROOT }

							set_state_flag = afr_rrp_portugal_company_headquarters
						}
					}
				}
				give_military_access = POR
				set_country_flag = afr_rrp_portugal_company_port
			}
		}

	}

	afr_rrp_prussian_company_port = {

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 1000
				TAG = BMM
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = afr_rrp_is_kingdom_power_tooltip
				OR = {
					has_idea = afr_post_tribal
					has_idea = afr_reforming_kingdom
					has_idea = AF_T_small_kingdom
				}
			}
			afr_start_company_trigger = yes
			country_exists = PRS
			custom_trigger_tooltip = {
				tooltip = afr_start_prs_company_tooltip
				OR = {
					ROOT = {
						any_owned_state = { is_coastal = yes }
					}
					PRS = {
						is_neighbor_of = ROOT
					}
					any_country = {
						AND = {
							is_subject_of = PRS
							is_neighbor_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = afr_progress_tree
						has_country_flag = afr_jihadist_tree
						has_country_flag = afr_traditional_tree
					}
					afr_is_tribal = yes
				}
				NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
			}

		}
		allowed = { afr_is_tribal_allowed = yes }
		visible = {
			afr_visible_company_trigger = yes
			NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
			NOT = {
				AND = {
					has_country_flag = afr_rrp_orange_rhodesia_company_proposal_failed_flag
					OR = {
						has_country_flag = afr_progress_tree
						has_country_flag = afr_jihadist_tree
					}
				}
			}
			any_country = { has_country_flag = PRS_focus_cpb_kaabu_koba_pitstop_flag  }
		}

		fire_only_once = yes

		cost = 0

		days_remove = 360

		modifier = {
			political_power_gain = -1
			MONTHLY_POPULATION = 1
		}

		cancel_trigger = {
			NOT = {
				afr_prussian_company_port_trigger = yes
			}
		}

		remove_effect = {
			clr_country_flag = afr_rrp_colonial_project_active
			add_offsite_building = { type = cotton_farm level = 1 }
			random_owned_state = {
				limit = { has_state_flag = afr_rrp_german_company_headquarters }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				if = {
					limit = { NOT = { has_state_flag = afr_port_town_already_established } }
					set_afr_port_town_for_company = yes
				}
				if = {
					limit = { has_state_flag = afr_port_town_already_established }
					hidden_effect = { clr_state_flag = afr_port_town_already_established }
				}
				if = {
					limit = { OWNER = { has_variable = has_afr_empire_mechanic_system } }
					hidden_effect = {
						state_event = { id = RCE_afr_regional_power.57 days = 120 trigger_for = controller }
						set_state_flag = afr_empire_politics_has_regional_development_boom_flag
						afr_empire_politics_state_gain_immigration = yes
						afr_empire_politics_state_gain_boom = yes
					}
					custom_effect_tooltip = afr_empire_politics_state_economy_status_boom_effect
					afr_empire_state_industrisation_progress_set_to_100 = yes
				}
			}
		}

		complete_effect = {
			afr_company_port_effect = yes
			add_ideas = afr_rrp_german_company_partnership_idea
				set_afr_port_town_random_pop = yes
				if = {
					limit = { NOT = { has_country_flag = afr_rrp_special_company_partnership_flag } }
					PRS = { country_event = { days = 1 id = afr_rrp.11 } }
				}
				add_opinion_modifier = { target = PRS modifier = eoanb_om_africa_trade_focus }
				reverse_add_opinion_modifier = { target = PRS modifier = eoanb_om_africa_trade_focus }
				

			hidden_effect = {
				ROOT = {
					if = {
						limit = {
							any_owned_state = {
								has_state_flag = PRS_german_african_company_event_town
							}
						}
						random_owned_state = {
							limit = {
								has_state_flag = PRS_german_african_company_event_town
							}

							if = {
								limit = { NOT = { has_state_flag = afr_port_town } }
								set_state_flag = afr_port_town
							}
							else = {
								set_state_flag = afr_port_town_already_established
							}
							set_state_flag = afr_rrp_german_company_headquarters
						}
					}
					else_if = {
						limit = {
							any_owned_state = {
								has_state_flag = afr_port_town
								is_core_of = ROOT
							}
						}
						random_owned_state = {
							limit = {
								has_state_flag = afr_port_town
								is_core_of = ROOT
							}

							set_state_flag = afr_rrp_german_company_headquarters
							set_state_flag = afr_port_town_already_established
						}
						PRS = {
							diplomatic_relation = {
								country = ROOT
								relation = docking_rights
								active = yes
							}
						}
					}
					else_if = {
						limit = {
							any_owned_state = {
								is_coastal = yes
								is_capital = no
								is_core_of = ROOT
							}
						}
						random_owned_state = {
							limit = {
								is_coastal = yes
								is_capital = no
								is_core_of = ROOT
							}

							set_state_flag = afr_rrp_german_company_headquarters
							set_state_flag = afr_port_town

						}
						PRS = {
							diplomatic_relation = {
								country = ROOT
								relation = docking_rights
								active = yes
							}
						}
					}
					else_if = {
						limit = {
							any_owned_state = {
								is_coastal = yes
								is_capital = yes
								is_core_of = ROOT
							}
						}
						random_owned_state = {
							limit = {
								is_coastal = yes
								is_capital = yes
								is_core_of = ROOT
							}

							set_state_flag = afr_rrp_german_company_headquarters
							set_state_flag = afr_port_town
						}
						PRS = {
							diplomatic_relation = {
								country = ROOT
								relation = docking_rights
								active = yes
							}
						}
					}
					else_if = {
						limit = {
							any_owned_state = {
								is_capital = no
								is_core_of = ROOT
							}
						}
						random_owned_state = {
							limit = {
								is_capital = no
								is_core_of = ROOT
							}

							set_state_flag = afr_rrp_german_company_headquarters
						}
					}
					else = {
						random_owned_state = {
							limit = { is_core_of = ROOT }

							set_state_flag = afr_rrp_german_company_headquarters
						}
					}
				}
				give_military_access = PRS
				set_country_flag = afr_rrp_german_company_port
			}
		}
	}

	afr_rrp_bremen_company_port = {

		ai_will_do = { factor = 1 }
		available = {
			custom_trigger_tooltip = {
				tooltip = afr_rrp_is_kingdom_power_tooltip
				OR = {
					has_idea = afr_post_tribal
					has_idea = afr_reforming_kingdom
					has_idea = AF_T_small_kingdom
				}
			}
			afr_start_company_trigger = yes
			country_exists = BRE
			custom_trigger_tooltip = {
				tooltip = afr_start_bre_company_tooltip
				OR = {
					ROOT = {
						any_owned_state = { is_coastal = yes }
					}
					BRE = {
						is_neighbor_of = ROOT
					}
					any_country = {
						AND = {
							is_subject_of = BRE
							is_neighbor_of = ROOT
						}
					}
				}
			}
			BRE = {
				OR = {
					has_completed_focus = generic_focus_naval_dockyards_2
					has_completed_focus = generic_focus_fleet_infrastructure
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = afr_progress_tree
						has_country_flag = afr_jihadist_tree
						has_country_flag = afr_traditional_tree
					}
					afr_is_tribal = yes
				}
				NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
			}
		}
		allowed = { afr_is_tribal_allowed = yes }
		visible = {
			afr_visible_company_trigger = yes
			NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
			NOT = {
				AND = {
					has_country_flag = afr_rrp_orange_rhodesia_company_proposal_failed_flag
					OR = {
						has_country_flag = afr_progress_tree
						has_country_flag = afr_jihadist_tree
					}
				}
			}
			BRE = {
				OR = {
					has_completed_focus = generic_focus_naval_dockyards_2
					has_completed_focus = generic_focus_fleet_infrastructure
				}
			}
		}

		fire_only_once = yes

		cost = 0

		days_remove = 360

		modifier = {
			political_power_gain = -1
			MONTHLY_POPULATION = 1
		}

		cancel_trigger = {
			NOT = {
				afr_bremen_company_port_trigger = yes
			}
		}

		remove_effect = {
			clr_country_flag = afr_rrp_colonial_project_active
			add_offsite_building = { type = cotton_farm level = 1 }
			random_owned_state = {
				limit = { has_state_flag = afr_rrp_bremen_company_headquarters }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				if = {
					limit = { NOT = { has_state_flag = afr_port_town_already_established } }
					set_afr_port_town_for_company = yes
				}
				if = {
					limit = { has_state_flag = afr_port_town_already_established }
					hidden_effect = { clr_state_flag = afr_port_town_already_established }
				}
				if = {
					limit = { OWNER = { has_variable = has_afr_empire_mechanic_system } }
					hidden_effect = {
						state_event = { id = RCE_afr_regional_power.57 days = 120 trigger_for = controller }
						set_state_flag = afr_empire_politics_has_regional_development_boom_flag
						afr_empire_politics_state_gain_immigration = yes
						afr_empire_politics_state_gain_boom = yes
					}
					custom_effect_tooltip = afr_empire_politics_state_economy_status_boom_effect
					afr_empire_state_industrisation_progress_set_to_100 = yes
				}
			}
		}

		complete_effect = {
			afr_company_port_effect = yes
			add_ideas = afr_rrp_bremen_company_partnership_idea
			set_afr_port_town_random_pop = yes
			BRE = {
				country_event = { days = 1 id = afr_rrp.11 }
			}
			add_opinion_modifier = { target = BRE modifier = eoanb_om_africa_trade_focus }
			reverse_add_opinion_modifier = { target = BRE modifier = eoanb_om_africa_trade_focus }
			
			hidden_effect = {
				ROOT = {
					if = {
						limit = {
							any_owned_state = {
								has_state_flag = afr_port_town
								is_core_of = ROOT
							}
						}
						random_owned_state = {
							limit = {
								has_state_flag = afr_port_town
								is_core_of = ROOT
							}

							set_state_flag = afr_rrp_bremen_company_headquarters
							set_state_flag = afr_port_town_already_established
						}
						BRE = {
							diplomatic_relation = {
								country = ROOT
								relation = docking_rights
								active = yes
							}
						}
					}
					else_if = {
						limit = {
							any_owned_state = {
								is_coastal = yes
								is_capital = no
								is_core_of = ROOT
							}
						}
						random_owned_state = {
							limit = {
								is_coastal = yes
								is_capital = no
								is_core_of = ROOT
							}

							set_state_flag = afr_rrp_bremen_company_headquarters
							set_state_flag = afr_port_town
						}
						BRE = {
							diplomatic_relation = {
								country = ROOT
								relation = docking_rights
								active = yes
							}
						}
					}
					else_if = {
						limit = {
							any_owned_state = {
								is_coastal = yes
								is_capital = yes
								is_core_of = ROOT
							}
						}
						random_owned_state = {
							limit = {
								is_coastal = yes
								is_capital = yes
								is_core_of = ROOT
							}

							set_state_flag = afr_rrp_bremen_company_headquarters
							set_state_flag = afr_port_town
						}
						BRE = {
							diplomatic_relation = {
								country = ROOT
								relation = docking_rights
								active = yes
							}
						}
					}
					else_if = {
						limit = {
							any_owned_state = {
								is_capital = no
								is_core_of = ROOT
							}
						}
						random_owned_state = {
							limit = {
								is_capital = no
								is_core_of = ROOT
							}

							set_state_flag = afr_rrp_bremen_company_headquarters
						}
					}
					else = {
						random_owned_state = {
							limit = { is_core_of = ROOT }

							set_state_flag = afr_rrp_bremen_company_headquarters
						}
					}
				}
				set_country_flag = afr_colonial_language
				set_country_flag = afr_colonial_language_german
				give_military_access = BRE
				set_country_flag = afr_rrp_bremen_company_port
			}
		}
	}

	afr_rrp_hamburg_company_port = {

		ai_will_do = { factor = 1 }
		available = {
			custom_trigger_tooltip = {
				tooltip = afr_rrp_is_kingdom_power_tooltip
				OR = {
					has_idea = afr_post_tribal
					has_idea = afr_reforming_kingdom
					has_idea = AF_T_small_kingdom
				}
			}
			afr_start_company_trigger = yes
			country_exists = HAM
			custom_trigger_tooltip = {
				tooltip = afr_start_ham_company_tooltip
				OR = {
					ROOT = {
						any_owned_state = { is_coastal = yes }
					}
					HAM = {
						is_neighbor_of = ROOT
					}
					any_country = {
						AND = {
							is_subject_of = HAM
							is_neighbor_of = ROOT
						}
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = HAM_woermann_tradeport_expansion_tooltip
				HAM = { has_country_flag = HAM_woermann_tradeport_expansion_flag }
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = afr_progress_tree
						has_country_flag = afr_jihadist_tree
						has_country_flag = afr_traditional_tree
					}
					afr_is_tribal = yes
				}
				NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
			}

		}
		allowed = { afr_is_tribal_allowed = yes }
		visible = {
			afr_visible_company_trigger = yes
			NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
			NOT = {
				AND = {
					has_country_flag = afr_rrp_orange_rhodesia_company_proposal_failed_flag
					OR = {
						has_country_flag = afr_progress_tree
						has_country_flag = afr_jihadist_tree
					}
				}
			}
			HAM = { has_country_flag = HAM_woermann_tradeport_expansion_flag }
		}

		fire_only_once = yes

		cost = 0

		days_remove = 360

		modifier = {
			political_power_gain = -1
			MONTHLY_POPULATION = 1
		}

		cancel_trigger = {
			if = {
				limit = { NOT = { has_country_flag = HAM_negotiation_with_afr_kingdom_success_flag } }
				NOT = { afr_hamburg_company_port_trigger = yes }
			}
			else = {
				hidden_trigger = { always = no }
			}
		}

		remove_effect = {
			clr_country_flag = afr_rrp_colonial_project_active
			add_offsite_building = { type = cotton_farm level = 1 }
			random_owned_state = {
				limit = { has_state_flag = afr_rrp_hamburg_company_headquarters }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				if = {
					limit = { NOT = { has_state_flag = afr_port_town_already_established } }
					set_afr_port_town_for_company = yes
				}
				if = {
					limit = { has_state_flag = afr_port_town_already_established }
					hidden_effect = { clr_state_flag = afr_port_town_already_established }
				}
				if = {
					limit = { OWNER = { has_variable = has_afr_empire_mechanic_system } }
					hidden_effect = {
						state_event = { id = RCE_afr_regional_power.57 days = 120 trigger_for = controller }
						set_state_flag = afr_empire_politics_has_regional_development_boom_flag
						afr_empire_politics_state_gain_immigration = yes
						afr_empire_politics_state_gain_boom = yes
					}
					custom_effect_tooltip = afr_empire_politics_state_economy_status_boom_effect
					afr_empire_state_industrisation_progress_set_to_100 = yes
				}
			}
		}

		complete_effect = {
			afr_company_port_effect= yes
			add_ideas = afr_rrp_hamburg_company_partnership_idea
			set_afr_port_town_random_pop = yes
			HAM = {
				if = {
					limit = { ROOT = { NOT = { has_country_flag = HAM_negotiation_with_afr_kingdom_success_flag } } }
					country_event = { days = 1 id = afr_rrp.11 }
					ROOT = { give_military_access = HAM }
					add_ideas = HAM_idea_woermann_trading_company
				}
			}
			add_opinion_modifier = { target = HAM modifier = eoanb_om_africa_trade_focus }
			reverse_add_opinion_modifier = { target = HAM modifier = eoanb_om_africa_trade_focus }
			
			hidden_effect = {
				ROOT = {
					if = {
						limit = {
							any_owned_state = {
								has_state_flag = afr_port_town
								is_core_of = ROOT
							}
						}
						random_owned_state = {
							limit = {
								has_state_flag = afr_port_town
								is_core_of = ROOT
							}

							set_state_flag = afr_rrp_hamburg_company_headquarters
							set_state_flag = afr_port_town_already_established
						}
						HAM = {
							diplomatic_relation = {
								country = ROOT
								relation = docking_rights
								active = yes
							}
						}
					}
					else_if = {
						limit = {
							any_owned_state = {
								is_coastal = yes
								is_capital = no
								is_core_of = ROOT
							}
						}
						random_owned_state = {
							limit = {
								is_coastal = yes
								is_capital = no
								is_core_of = ROOT
							}

							set_state_flag = afr_rrp_hamburg_company_headquarters
							set_state_flag = afr_port_town
						}
						HAM = {
							diplomatic_relation = {
								country = ROOT
								relation = docking_rights
								active = yes
							}
						}
					}
					else_if = {
						limit = {
							any_owned_state = {
								is_coastal = yes
								is_capital = yes
								is_core_of = ROOT
							}
						}
						random_owned_state = {
							limit = {
								is_coastal = yes
								is_capital = yes
								is_core_of = ROOT
							}

							set_state_flag = afr_rrp_hamburg_company_headquarters
							set_state_flag = afr_port_town
						}
						HAM = {
							diplomatic_relation = {
								country = ROOT
								relation = docking_rights
								active = yes
							}
						}
					}
					else_if = {
						limit = {
							any_owned_state = {
								is_capital = no
								is_core_of = ROOT
							}
						}
						random_owned_state = {
							limit = {
								is_capital = no
								is_core_of = ROOT
							}

							set_state_flag = afr_rrp_hamburg_company_headquarters
						}
					}
					else = {
						random_owned_state = {
							limit = { is_core_of = ROOT }

							set_state_flag = afr_rrp_hamburg_company_headquarters
						}
					}
				}
				give_military_access = HAM
				set_country_flag = afr_rrp_hamburg_company_port
			}
		}

	}

	afr_rrp_sweden_company_port = {

		ai_will_do = { factor = 1 }
		available = {
			custom_trigger_tooltip = {
				tooltip = afr_rrp_is_kingdom_power_tooltip
				OR = {
					has_idea = afr_post_tribal
					has_idea = afr_reforming_kingdom
					has_idea = AF_T_small_kingdom
				}
			}
			afr_start_company_trigger = yes
			country_exists = SWE
			custom_trigger_tooltip = {
				tooltip = afr_start_swe_company_tooltip
				OR = {
					ROOT = {
						any_owned_state = { is_coastal = yes }
					}
					SWE = {
						is_neighbor_of = ROOT
					}
					any_country = {
						AND = {
							is_subject_of = SWE
							is_neighbor_of = ROOT
						}
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = SWE_swedish_african_company_established_tooltip
				SWE = { has_country_flag = SWE_swedish_african_company_established_flag }
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = afr_progress_tree
						has_country_flag = afr_jihadist_tree
						has_country_flag = afr_traditional_tree
					}
					afr_is_tribal = yes
				}
				NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
			}

		}
		allowed = { afr_is_tribal_allowed = yes }
		visible = {
			afr_visible_company_trigger = yes
			NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
			SWE = { has_country_flag = SWE_negotiation_with_afr_kingdom_started_flag }
			NOT = {
				AND = {
					has_country_flag = afr_rrp_orange_rhodesia_company_proposal_failed_flag
					OR = {
						has_country_flag = afr_progress_tree
						has_country_flag = afr_jihadist_tree
					}
				}
			}
		}

		fire_only_once = yes

		cost = 0

		days_remove = 360

		modifier = {
			political_power_gain = -1
			MONTHLY_POPULATION = 1
		}

		cancel_trigger = {
			if = {
				limit = { NOT = { has_country_flag = SWE_negotiation_with_afr_kingdom_success_flag } }
				NOT = { afr_sweden_company_port_trigger = yes }
			}
			else = {
				hidden_trigger = { always = no }
			}
		}

		remove_effect = {
			clr_country_flag = afr_rrp_colonial_project_active
			add_offsite_building = { type = cotton_farm level = 1 }
			random_owned_state = {
				limit = { has_state_flag = afr_rrp_sweden_company_headquarters }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				if = {
					limit = { NOT = { has_state_flag = afr_port_town_already_established } }
					set_afr_port_town_for_company = yes
				}
				if = {
					limit = { has_state_flag = afr_port_town_already_established }
					hidden_effect = { clr_state_flag = afr_port_town_already_established }
				}
				if = {
					limit = { OWNER = { has_variable = has_afr_empire_mechanic_system } }
					hidden_effect = {
						state_event = { id = RCE_afr_regional_power.57 days = 120 trigger_for = controller }
						set_state_flag = afr_empire_politics_has_regional_development_boom_flag
						afr_empire_politics_state_gain_immigration = yes
						afr_empire_politics_state_gain_boom = yes
					}
					custom_effect_tooltip = afr_empire_politics_state_economy_status_boom_effect
					afr_empire_state_industrisation_progress_set_to_100 = yes
				}
			}
		}

		complete_effect = {
			afr_company_port_effect= yes
			add_ideas = afr_rrp_sweden_company_partnership_idea
			set_afr_port_town_random_pop = yes
			SWE = {
				if = {
					limit = { ROOT = { NOT = { has_country_flag = SWE_negotiation_with_afr_kingdom_success_flag } } }
					country_event = { days = 1 id = afr_rrp.11 }
					ROOT = { give_military_access = SWE }
					add_ideas = SWE_swedish_african_company_idea
				}
			}
			add_opinion_modifier = { target = SWE modifier = eoanb_om_africa_trade_focus }
			reverse_add_opinion_modifier = { target = SWE modifier = eoanb_om_africa_trade_focus }

			hidden_effect = {
				ROOT = {
					if = {
						limit = {
							any_owned_state = {
								has_state_flag = afr_port_town
								is_core_of = ROOT
							}
						}
						random_owned_state = {
							limit = {
								has_state_flag = afr_port_town
								is_core_of = ROOT
							}

							set_state_flag = afr_rrp_sweden_company_headquarters
							set_state_flag = afr_port_town_already_established
						}
						SWE = {
							diplomatic_relation = {
								country = ROOT
								relation = docking_rights
								active = yes
							}
						}
					}
					else_if = {
						limit = {
							any_owned_state = {
								is_coastal = yes
								is_capital = no
								is_core_of = ROOT
							}
						}
						random_owned_state = {
							limit = {
								is_coastal = yes
								is_capital = no
								is_core_of = ROOT
							}

							set_state_flag = afr_rrp_sweden_company_headquarters
							set_state_flag = afr_port_town
						}
						SWE = {
							diplomatic_relation = {
								country = ROOT
								relation = docking_rights
								active = yes
							}
						}
					}
					else_if = {
						limit = {
							any_owned_state = {
								is_coastal = yes
								is_capital = yes
								is_core_of = ROOT
							}
						}
						random_owned_state = {
							limit = {
								is_coastal = yes
								is_capital = yes
								is_core_of = ROOT
							}

							set_state_flag = afr_rrp_sweden_company_headquarters
							set_state_flag = afr_port_town
						}
						SWE = {
							diplomatic_relation = {
								country = ROOT
								relation = docking_rights
								active = yes
							}
						}
					}
					else_if = {
						limit = {
							any_owned_state = {
								is_capital = no
								is_core_of = ROOT
							}
						}
						random_owned_state = {
							limit = {
								is_capital = no
								is_core_of = ROOT
							}

							set_state_flag = afr_rrp_sweden_company_headquarters
						}
					}
					else = {
						random_owned_state = {
							limit = { is_core_of = ROOT }

							set_state_flag = afr_rrp_sweden_company_headquarters
						}
					}
				}
				set_country_flag = afr_rrp_sweden_company_port
			}
		}

	}

	afr_rrp_orange_company_port = {

		ai_will_do = { factor = 1 }
		available = {
			custom_trigger_tooltip = {
				tooltip = afr_rrp_is_kingdom_power_tooltip
				OR = {
					has_country_flag = afr_rrp_orange_rhodesia_company_partnership_flag
					has_country_flag = afr_rrp_orange_rhodesia_company_proposal_failed_flag
					has_idea = afr_post_tribal
					has_idea = afr_reforming_kingdom
					has_idea = AF_T_small_kingdom
				}
			}
			afr_start_company_trigger = yes
			country_exists = OFS
			custom_trigger_tooltip = {
				tooltip = afr_start_ofs_company_tooltip
				OR = {
					ROOT = {
						any_owned_state = { is_coastal = yes }
					}
					OFS = {
						is_neighbor_of = ROOT
					}
					any_country = {
						AND = {
							is_subject_of = OFS
							is_neighbor_of = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = afr_progress_tree
						has_country_flag = afr_jihadist_tree
						has_country_flag = afr_traditional_tree
					}
					afr_is_tribal = yes
				}
				NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
			}

		}
		allowed = { afr_is_tribal_allowed = yes }
		visible = {
			OR = {
				has_country_flag = afr_rrp_orange_rhodesia_company_partnership_flag
				has_country_flag = afr_rrp_orange_rhodesia_company_proposal_failed_flag
			}
			afr_visible_company_trigger = yes
			NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
		}

		fire_only_once = yes

		cost = 0

		days_remove = 360

		modifier = {
			political_power_gain = -1
			MONTHLY_POPULATION = 1
		}

		cancel_trigger = {
			if = {
				limit = { NOT = { has_country_flag = afr_rrp_orange_rhodesia_company_partnership_flag } }
				NOT = { afr_orange_company_port_trigger = yes }
			}
			else = {
				hidden_trigger = { always = no }
			}
		}

		remove_effect = {
			clr_country_flag = afr_rrp_colonial_project_active
			add_offsite_building = { type = cotton_farm level = 1 }
			random_owned_state = {
				limit = { has_state_flag = afr_rrp_orange_company_headquarters }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				if = {
					limit = { NOT = { has_state_flag = afr_port_town_already_established } }
					set_afr_port_town_for_company = yes
				}
				if = {
					limit = { has_state_flag = afr_port_town_already_established }
					hidden_effect = { clr_state_flag = afr_port_town_already_established }
				}
				if = {
					limit = { OWNER = { has_variable = has_afr_empire_mechanic_system } }
					hidden_effect = {
						state_event = { id = RCE_afr_regional_power.57 days = 120 trigger_for = controller }
						set_state_flag = afr_empire_politics_has_regional_development_boom_flag
						afr_empire_politics_state_gain_immigration = yes
						afr_empire_politics_state_gain_boom = yes
					}
					custom_effect_tooltip = afr_empire_politics_state_economy_status_boom_effect
					afr_empire_state_industrisation_progress_set_to_100 = yes
				}
			}
		}

		complete_effect = {
			afr_company_port_effect= yes
			add_ideas = afr_rrp_orange_company_partnership_idea
				set_afr_port_town_random_pop = yes
				OFS = {
					if = {
						limit = { ROOT = { NOT = { has_country_flag = afr_rrp_orange_rhodesia_company_partnership_flag } } }
						country_event = { days = 1 id = afr_rrp.11 }
						ROOT = { give_military_access = OFS }
					}
				}
				add_opinion_modifier = { target = OFS modifier = eoanb_om_africa_trade_focus }
				reverse_add_opinion_modifier = { target = OFS modifier = eoanb_om_africa_trade_focus }

			hidden_effect = {
				ROOT = {
					if = {
						limit = {
							any_owned_state = {
								has_state_flag = afr_port_town
								is_core_of = ROOT
							}
						}
						random_owned_state = {
							limit = {
								has_state_flag = afr_port_town
								is_core_of = ROOT
							}

							set_state_flag = afr_rrp_orange_company_headquarters
							set_state_flag = afr_port_town_already_established
						}
						OFS = {
							diplomatic_relation = {
								country = ROOT
								relation = docking_rights
								active = yes
							}
						}
					}
					else_if = {
						limit = {
							any_owned_state = {
								is_coastal = yes
								is_capital = no
								is_core_of = ROOT
							}
						}
						random_owned_state = {
							limit = {
								is_coastal = yes
								is_capital = no
								is_core_of = ROOT
							}

							set_state_flag = afr_rrp_orange_company_headquarters
							set_state_flag = afr_port_town
						}
						OFS = {
							diplomatic_relation = {
								country = ROOT
								relation = docking_rights
								active = yes
							}
						}
					}
					else_if = {
						limit = {
							any_owned_state = {
								is_coastal = yes
								is_capital = yes
								is_core_of = ROOT
							}
						}
						random_owned_state = {
							limit = {
								is_coastal = yes
								is_capital = yes
								is_core_of = ROOT
							}

							set_state_flag = afr_rrp_orange_company_headquarters
							set_state_flag = afr_port_town
						}
						OFS = {
							diplomatic_relation = {
								country = ROOT
								relation = docking_rights
								active = yes
							}
						}
					}
					else_if = {
						limit = {
							any_owned_state = {
								is_capital = no
								is_core_of = ROOT
							}
						}
						random_owned_state = {
							limit = {
								is_capital = no
								is_core_of = ROOT
							}

							set_state_flag = afr_rrp_orange_company_headquarters
						}
					}
					else = {
						random_owned_state = {
							limit = { is_core_of = ROOT }

							set_state_flag = afr_rrp_orange_company_headquarters
						}
					}
				}
				set_country_flag = afr_rrp_orange_company_port
			}
		}

	}

	afr_british_companies = {

		available = {
			has_stability > 0.5
		}
		allowed = { afr_is_tribal_allowed = yes }
		visible = {
			afr_english_company_port_trigger = yes
			NOT = {
				has_country_flag = afr_company_chosen
			}
			NOT = {
				tag = ETH
			}
			always = no
		}

		fire_only_once = yes

		cost = 0


		complete_effect = {
			ENG = { country_event = { days = 1 id = afr_rrp.39 } }
			if = {
				limit = {
					ROOT = { NOT = { has_idea = industrializing } }
				}
				custom_effect_tooltip = EDC_afr.5.t
				set_country_flag = afr_colony_industrializing
			}
			custom_effect_tooltip = afr_colonial_company_tooltip
			custom_effect_tooltip = afr_colonial_effect_tooltip
			swap_ideas = { add_idea = export_focus remove_idea = limited_exports }
			hidden_effect = {
				add_opinion_modifier = { target = ENG modifier = eoanb_om_africa_trade_focus }
				reverse_add_opinion_modifier = { target = ENG modifier = eoanb_om_africa_trade_focus }
				set_country_flag = afr_company_chosen

			}

		}

	}

	afr_french_companies = {

		available = {
			has_stability > 0.5
		}
		allowed = { afr_is_tribal_allowed = yes }
		visible = {
			afr_french_company_port_trigger = yes
			NOT = {
				has_country_flag = afr_company_chosen
			}
			NOT = {
				tag = ETH
			}
			always = no
		}

		fire_only_once = yes

		cost = 0


		complete_effect = {
			FRA = { country_event = { days = 1 id = afr_rrp.39 } }
			if = {
				limit = {
					ROOT = { NOT = { has_idea = industrializing } }
				}
				custom_effect_tooltip = EDC_afr.5.t
				set_country_flag = afr_colony_industrializing
			}
			custom_effect_tooltip = afr_colonial_company_tooltip
			custom_effect_tooltip = afr_colonial_effect_tooltip
			swap_ideas = { add_idea = export_focus remove_idea = limited_exports }
			hidden_effect = {
				add_opinion_modifier = { target = FRA modifier = eoanb_om_africa_trade_focus }
				reverse_add_opinion_modifier = { target = FRA modifier = eoanb_om_africa_trade_focus }
				set_country_flag = afr_company_chosen

			}
		}

	}

	afr_portugal_companies = {

		available = {
			has_stability > 0.5
		}
		allowed = { afr_is_tribal_allowed = yes }
		visible = {
			afr_portugal_company_port_trigger = yes
			NOT = {
				has_country_flag = afr_company_chosen
			}
			NOT = {
				tag = ETH
			}
			always = no
		}

		fire_only_once = yes

		cost = 0


		complete_effect = {
			POR = { country_event = { days = 1 id = afr_rrp.39 } }
			if = {
				limit = {
					ROOT = { NOT = { has_idea = industrializing } }
				}
				custom_effect_tooltip = EDC_afr.5.t
				set_country_flag = afr_colony_industrializing
			}
			custom_effect_tooltip = afr_colonial_company_tooltip
			custom_effect_tooltip = afr_colonial_effect_tooltip
			swap_ideas = { add_idea = export_focus remove_idea = limited_exports }
			hidden_effect = {
				add_opinion_modifier = { target = POR modifier = eoanb_om_africa_trade_focus }
				reverse_add_opinion_modifier = { target = POR modifier = eoanb_om_africa_trade_focus }
				set_country_flag = afr_company_chosen

			}
		}

	}

	afr_prussian_companies = {

		available = {
			has_stability > 0.5
		}
		allowed = { afr_is_tribal_allowed = yes }
		visible = {
			afr_prussian_company_port_trigger = yes
			NOT = {
				has_country_flag = afr_company_chosen
			}
			NOT = {
				tag = ETH
			}
			always = no
		}

		fire_only_once = yes

		cost = 0


		complete_effect = {
			PRS = { country_event = { days = 1 id = afr_rrp.39 } }
			if = {
				limit = {
					ROOT = { NOT = { has_idea = industrializing } }
				}
				custom_effect_tooltip = EDC_afr.5.t
				set_country_flag = afr_colony_industrializing
			}
			custom_effect_tooltip = afr_colonial_company_tooltip
			custom_effect_tooltip = afr_colonial_effect_tooltip
			swap_ideas = { add_idea = export_focus remove_idea = limited_exports }
			hidden_effect = {
				add_opinion_modifier = { target = PRS modifier = eoanb_om_africa_trade_focus }
				reverse_add_opinion_modifier = { target = PRS modifier = eoanb_om_africa_trade_focus }
				set_country_flag = afr_company_chosen
			}
		}

	}

	afr_bremen_companies = {

		available = {
			has_stability > 0.5
		}
		allowed = { afr_is_tribal_allowed = yes }
		visible = {
			afr_bremen_company_port_trigger = yes
			NOT = {
				has_country_flag = afr_company_chosen
			}
			NOT = {
				tag = ETH
			}
			always = no
		}

		fire_only_once = yes

		cost = 0


		complete_effect = {
			BRE = { country_event = { days = 1 id = afr_rrp.39 } }
			if = {
				limit = {
					ROOT = { NOT = { has_idea = industrializing } }
				}
				custom_effect_tooltip = EDC_afr.5.t
				set_country_flag = afr_colony_industrializing
			}
			custom_effect_tooltip = afr_colonial_company_tooltip
			custom_effect_tooltip = afr_colonial_effect_tooltip
			swap_ideas = { add_idea = export_focus remove_idea = limited_exports }
			hidden_effect = {
				add_opinion_modifier = { target = BRE modifier = eoanb_om_africa_trade_focus }
				reverse_add_opinion_modifier = { target = BRE modifier = eoanb_om_africa_trade_focus }
				set_country_flag = afr_company_chosen
			}
		}

	}

	afr_establish_export_company = {

		available = {
			always = no
		}
		allowed = {
			TAG = ETH
		}

		visible = {
			always = no

		}

		fire_only_once = yes

		cost = 0

		complete_effect = {
			hidden_effect = {
				set_country_flag = afr_foreign_company
				set_variable = { num_export_industries_used = 0 }
			}
		}

		days_remove = 120

		cancel_trigger = {
			NOT = {
				afr_has_company_port_trigger = yes
			}
		}

		remove_effect = {
			meta_effect = {
				text = {
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = [afr_company_trade_good_meta]
								size > 0
								include_locked = yes
							}
							OR = {
								is_in_home_area = yes
								NOT = {
									owner = {
										any_owned_state = {
											free_building_slots = {
												building = [afr_company_trade_good_meta]
												size > 0
												include_locked = yes
											}
											is_in_home_area = yes
										}
									}
								}
							}
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = [afr_company_trade_good_meta]
							level = 1
							instant_build = yes
						}
					}
				}
				afr_company_trade_good_meta = "[THIS.afr_company_trade_good_loc]"
			}
			set_country_flag = afr_company_established
			custom_effect_tooltip = afr_colonial_effect_tooltip

			hidden_effect = {
				country_event = { days = 3 id = afr_rrp.43 }
			}
			activate_mission = afr_export_quota
		}
	}

	afr_export_quota = {

		available = {
			check_variable = { num_of_export_industries > num_export_industries_used }
		}
		allowed = {
			TAG = ETH
		}

		activation = {
			always = no
		}

		selectable_mission = yes
		days_mission_timeout = 1830
		fire_only_once = yes

		cancel_trigger = {
			OR = {
				hidden_trigger = {
					has_country_flag = afr_Coup_Started
				}
				NOT = {
					afr_has_company_port_trigger = yes
				}
			}
		}

		days_remove = afr_fullfilled_quota?0
		remove_effect = {
			hidden_effect = {
				activate_mission = afr_export_quota
			}
		}

		complete_effect = {

			var:ROOT.company_country_var = { country_event = { days = 1 id = afr_rrp.44 } }
			set_variable = { afr_fullfilled_quota = days_mission_timeout@afr_export_quota }
			add_to_variable = { num_export_industries_used = 1 }
		}

		timeout_effect = {

		}
	}


	afr_rrp_weapon_contract = {

		ai_will_do = { factor = 1 }
		available = {
			custom_trigger_tooltip = {
				tooltip = afr_rrp_is_reforming_regional_power_tooltip
				OR = {
					has_country_flag = afr_rrp_orange_rhodesia_company_partnership_flag
					has_country_flag = afr_rrp_special_company_partnership_flag
					has_idea = AF_T_small_kingdom
					has_idea = afr_reforming_kingdom
				}
			}
			afr_has_company_port_trigger = yes
		}
		allowed = { afr_is_tribal_allowed = yes }

		visible = {
			NOT = {
				tag = ETH
			}
			afr_has_company_port_trigger = yes
			NOT = {
				has_country_flag = afr_rrp_colonial_weapon_contract_requested
			}
		}

		days_re_enable = 720

		fire_only_once = no

		cost = 0

		complete_effect = {
			custom_effect_tooltip = afr_colonial_weapons_contract_tooltip
			hidden_effect = {
				if = {
					limit = {
						has_country_flag = afr_rrp_british_company_port
					}
					ENG = { country_event = { days = 7 id = afr_rrp.30 } }
				}
				else_if = {
					limit = {
						has_country_flag = afr_rrp_french_company_port
					}
					FRA = { country_event = { days = 7 id = afr_rrp.30 } }
				}
				else_if = {
					limit = {
						has_country_flag = afr_rrp_portugal_company_port
					}
					POR = { country_event = { days = 7 id = afr_rrp.30 } }
				}
				else_if = {
					limit = {
						has_country_flag = afr_rrp_german_company_port
					}
					PRS = { country_event = { days = 7 id = afr_rrp.30 } }
				}
				else_if = {
					limit = {
						has_country_flag = afr_rrp_bremen_company_port
					}
					BRE = { country_event = { days = 7 id = afr_rrp.30 } }
				}
				else_if = {
					limit = {
						has_country_flag = afr_rrp_hamburg_company_port
					}
					HAM = { country_event = { days = 7 id = afr_rrp.30 } }
				}
				else_if = {
					limit = {
						has_country_flag = afr_rrp_sweden_company_port
					}
					SWE = { country_event = { days = 7 id = afr_rrp.30 } }
				}
				else_if = {
					limit = {
						has_country_flag = afr_rrp_orange_company_port
					}
					OFS = { country_event = { days = 7 id = afr_rrp.30 } }
				}
			}
			set_country_flag = afr_rrp_colonial_weapon_contract_requested
		}
	}

	afr_rrp_weapon_contract_active = {

		ai_will_do = { factor = 1 }
		available = {
			always = no
		}
		allowed = { afr_is_tribal_allowed = yes }

		visible = {
			afr_has_company_port_trigger = yes
			has_country_flag = afr_rrp_colonial_weapon_contract_active
		}

		fire_only_once = no

		cost = 0

		days_remove = 1800

		cancel_trigger = {
			OR = {
				NOT = {
					afr_has_company_port_trigger = yes
				}
				NOT = {
					has_country_flag = afr_rrp_colonial_weapon_contract_active
				}
			}
		}

		modifier = {
			political_power_gain = -0.50
			license_infantry_eq_production_speed_factor = 0.5
		}

		complete_effect = {
			if = {
				limit = {
					has_country_flag = afr_rrp_british_company_port
				}
				ENG = {
					create_production_license = {
						target = ROOT
						equipment = {
							type = infantry_equipment_rifle_1
						}
						cost_factor = 0
					}
				}
			}
			else_if = {
				limit = {
					has_country_flag = afr_rrp_french_company_port
				}
				FRA = {
					create_production_license = {
						target = ROOT
						equipment = {
							type = infantry_equipment_rifle_1
						}
						cost_factor = 0
					}
				}
			}
			else_if = {
				limit = {
					has_country_flag = afr_rrp_portugal_company_port
				}
				POR = {
					create_production_license = {
						target = ROOT
						equipment = {
							type = infantry_equipment_rifle_1
						}
						cost_factor = 0
					}
				}
			}
			else_if = {
				limit = {
					has_country_flag = afr_rrp_german_company_port
				}
				PRS = {
					create_production_license = {
						target = ROOT
						equipment = {
							type = infantry_equipment_rifle_1
						}
						cost_factor = 0
					}
				}
			}
			else_if = {
				limit = {
					has_country_flag = afr_rrp_bremen_company_port
				}
				BRE = {
					create_production_license = {
						target = ROOT
						equipment = {
							type = infantry_equipment_rifle_1
						}
						cost_factor = 0
					}
				}
			}
			else_if = {
				limit = {
					has_country_flag = afr_rrp_hamburg_company_port
				}
				HAM = {
					create_production_license = {
						target = ROOT
						equipment = {
							type = infantry_equipment_rifle_1
						}
						cost_factor = 0
					}
				}
			}
			else_if = {
				limit = {
					has_country_flag = afr_rrp_sweden_company_port
				}
				SWE = {
					create_production_license = {
						target = ROOT
						equipment = {
							type = infantry_equipment_rifle_1
						}
						cost_factor = 0
					}
				}
			}
			else_if = {
				limit = {
					has_country_flag = afr_rrp_orange_company_port
				}
				OFS = {
					create_production_license = {
						target = ROOT
						equipment = {
							type = infantry_equipment_rifle_1
						}
						cost_factor = 0
					}
				}
			}
		}

		remove_effect = {
			if = {
				limit = {
					ROOT = { has_country_flag = afr_rrp_colonial_weapon_contract_full_support }
				}
			}
			ROOT = { country_event = { id = afr_rrp.34 } }
		}
	}



	afr_rrp_railway_line_1 = {

		ai_will_do = { factor = 1 }
		available = {
			custom_trigger_tooltip = {
				tooltip = afr_rrp_is_reforming_regional_power_tooltip
				OR = {
					has_country_flag = afr_rrp_orange_rhodesia_company_partnership_flag
					has_country_flag = afr_rrp_special_company_partnership_flag
					has_idea = afr_reforming_kingdom
				}
			}
			afr_has_company_port_trigger = yes
			ROOT = { has_completed_focus = afr_Build_more_roads }
			NOT = {
				has_country_flag = afr_rrp_colonial_project_active
			}
		}
		allowed = { afr_is_tribal_allowed = yes }

		visible = {
			NOT = {
				tag = ETH
			}
			afr_has_company_port_trigger = yes
		}

		fire_only_once = yes

		cost = 0

		cancel_trigger = {
			NOT = { afr_has_company_port_trigger = yes }
		}


		complete_effect = {
			ROOT = { country_event = { days = 1 id = afr_rrp.1 } }
			custom_effect_tooltip = afr_colonial_effect_tooltip
			if = {
				limit = { has_country_flag = afr_rrp_british_company_port }
				ENG = { country_event = { days = 7 id = afr_rrp.2 } }
			}
			if = {
				limit = { has_country_flag = afr_rrp_french_company_port }
				FRA = { country_event = { days = 7 id = afr_rrp.2 } }
			}
			if = {
				limit = { has_country_flag = afr_rrp_portugal_company_port }
				POR = { country_event = { days = 7 id = afr_rrp.2 } }
			}
			if = {
				limit = { has_country_flag = afr_rrp_german_company_port }
				PRS = { country_event = { days = 7 id = afr_rrp.2 } }
			}
			if = {
				limit = { has_country_flag = afr_rrp_bremen_company_port }
				BRE = { country_event = { days = 7 id = afr_rrp.2 } }
			}
			if = {
				limit = { has_country_flag = afr_rrp_hamburg_company_port }
				HAM = { country_event = { days = 7 id = afr_rrp.2 } }
			}
			if = {
				limit = { has_country_flag = afr_rrp_sweden_company_port }
				SWE = { country_event = { days = 7 id = afr_rrp.2 } }
			}
			if = {
				limit = { has_country_flag = afr_rrp_orange_company_port }
				OFS = { country_event = { days = 7 id = afr_rrp.2 } }
			}
			if = {
				limit = { has_country_flag = afr_rrp_usa_investments }
				if = {
					limit = { country_exists = USA }
					USA = { country_event = { days = 7 id = afr_rrp.2 } }
				}
			}
			set_country_flag = afr_rrp_railway_line_began
			custom_effect_tooltip = afr_rrp_railway_line_began_tooltip
		}
	}


	afr_rrp_railway_infrastructure_construction = {

		ai_will_do = { factor = 1 }
		available = {
			if = {
				limit = { afr_is_tribal = yes }
				custom_trigger_tooltip = {
					tooltip = afr_rrp_is_reforming_regional_power_tooltip
					OR = {
						has_country_flag = afr_rrp_orange_rhodesia_company_partnership_flag
						has_country_flag = afr_rrp_special_company_partnership_flag
						has_idea = afr_reforming_kingdom
					}
				}
				afr_has_company_port_trigger = yes
			}
			has_tech = iron_railways
			NOT = { has_country_flag = afr_rrp_colonial_project_active }
		}
		allowed = { afr_is_tribal_allowed = yes }

		visible = {
			NOT = {
				tag = ETH
			}
			has_country_flag = afr_rrp_railway_line
			NOT = {
				has_country_flag =  afr_rrp_railway_infrastructure_construction_independant
			}
		}

		fire_only_once = yes

		days_remove = 720

		cost = 0

		cancel_trigger = {
			if = {
				limit = { afr_is_tribal = yes }
				NOT = { afr_has_company_port_trigger = yes }
			}
			else = {
				hidden_trigger = { always = no }
			}
		}

		complete_effect = {
			set_country_flag = afr_rrp_colonial_project_active
		}

		modifier = {
			political_power_gain = -1
			MONTHLY_POPULATION = 1
		}

		remove_effect = {
			clr_country_flag = afr_rrp_colonial_project_active
			ROOT = { country_event = { days = 1 id = afr_rrp.6 } }
			custom_effect_tooltip = EDC_afr.6.t
			if = {
				limit = { has_country_flag = afr_rrp_british_company_port }
				ENG = { country_event = { days = 7 id = afr_rrp.7 } }
			}
			if = {
				limit = { has_country_flag = afr_rrp_french_company_port }
				FRA = { country_event = { days = 7 id = afr_rrp.7 } }
			}
			if = {
				limit = { has_country_flag = afr_rrp_portugal_company_port }
				POR = { country_event = { days = 7 id = afr_rrp.7 } }
			}
			if = {
				limit = { has_country_flag = afr_rrp_german_company_port }
				PRS = { country_event = { days = 7 id = afr_rrp.7 } }
			}
			if = {
				limit = { has_country_flag = afr_rrp_bremen_company_port }
				BRE = { country_event = { days = 7 id = afr_rrp.7 } }
			}
			if = {
				limit = { has_country_flag = afr_rrp_hamburg_company_port }
				HAM = { country_event = { days = 7 id = afr_rrp.7 } }
			}
			if = {
				limit = { has_country_flag = afr_rrp_sweden_company_port }
				SWE = { country_event = { days = 7 id = afr_rrp.7 } }
			}
			if = {
				limit = { has_country_flag = afr_rrp_orange_company_port }
				OFS = { country_event = { days = 7 id = afr_rrp.7 } }
			}
			if = {
				limit = { has_country_flag = afr_rrp_usa_investments }
				if = {
					limit = { country_exists = USA }
					USA = { country_event = { days = 7 id = afr_rrp.7 } }
				}
			}
			if = {
				limit = {
					any_owned_state = {
						OR = {
							has_state_flag = afr_rrp_british_company_headquarters
							has_state_flag = afr_rrp_french_company_headquarters
							has_state_flag = afr_rrp_portugal_company_headquarters
							has_state_flag = afr_rrp_german_company_headquarters
							has_state_flag = afr_rrp_bremen_company_headquarters
							has_state_flag = afr_rrp_hamburg_company_headquarters
							has_state_flag = afr_rrp_sweden_company_headquarters
							has_state_flag = afr_rrp_orange_company_headquarters
						}
					}
				}
				random_owned_state = {
					limit = {
						OR = {
							has_state_flag = afr_rrp_british_company_headquarters
							has_state_flag = afr_rrp_french_company_headquarters
							has_state_flag = afr_rrp_portugal_company_headquarters
							has_state_flag = afr_rrp_german_company_headquarters
							has_state_flag = afr_rrp_bremen_company_headquarters
							has_state_flag = afr_rrp_hamburg_company_headquarters
							has_state_flag = afr_rrp_sweden_company_headquarters
							has_state_flag = afr_rrp_orange_company_headquarters
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_manpower = 250
				}
			}
			if = {
				limit = {
					all_owned_state = {
						NOT = {
							has_state_flag = afr_rrp_british_company_headquarters
							has_state_flag = afr_rrp_french_company_headquarters
							has_state_flag = afr_rrp_portugal_company_headquarters
							has_state_flag = afr_rrp_german_company_headquarters
							has_state_flag = afr_rrp_bremen_company_headquarters
							has_state_flag = afr_rrp_hamburg_company_headquarters
							has_state_flag = afr_rrp_sweden_company_headquarters
							has_state_flag = afr_rrp_orange_company_headquarters
						}
					}
				}
				capital_scope = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_manpower = 250
				}
			}
		}
	}

	afr_rrp_main_railway_route_construction = {

		ai_will_do = { factor = 1 }
		available = {
			if = {
				limit = { afr_is_tribal = yes }
				custom_trigger_tooltip = {
					tooltip = afr_rrp_is_reforming_regional_power_tooltip
					OR = {
						has_country_flag = afr_rrp_orange_rhodesia_company_partnership_flag
						has_country_flag = afr_rrp_special_company_partnership_flag
						has_idea = afr_reforming_kingdom
					}
				}
				afr_has_company_port_trigger = yes
			}
			AND = {
				has_tech = iron_railways
				has_tech = steam_engine
				has_tech = steam_locomotive
			}
			NOT = { has_country_flag = afr_rrp_colonial_project_active }
		}
		allowed = { afr_is_tribal_allowed = yes }

		visible = {
			NOT = {
				tag = ETH
			}
			has_country_flag = afr_rrp_railway_infrastructure_construction
		}

		fire_only_once = yes

		days_remove = 360

		cancel_trigger = {
			if = {
				limit = { afr_is_tribal = yes }
				NOT = { afr_has_company_port_trigger = yes }
			}
			else = {
				hidden_trigger = { always = no }
			}
		}

		cost = 0

		modifier = {
			political_power_gain = -1
			MONTHLY_POPULATION = 1
		}

		complete_effect = {
			set_country_flag = afr_rrp_colonial_project_active
		}

		remove_effect = {
			country_event = { id = afr_rrp.29 }
			clr_country_flag = afr_rrp_colonial_project_active
			custom_effect_tooltip = EDC_afr_20ip
			hidden_effect = {
				country_event = { id = EDC_afr.6 hours = 1 }
				country_event = { id = EDC_afr.6 hours = 1 }
			}
			set_country_flag = afr_rrp_main_railway_route
		}
	}

	afr_rrp_adopt_american_way = {

		ai_will_do = { factor = 1 }
		available = {
			has_country_flag = ACS_affiliate
			#NOT = {
			#	has_idea = no_constitution
			#}
			OR = {
				country_exists = CSA
				country_exists = USA
				any_country = {
					AND = {
						exists = yes
						has_country_flag = ACS_colony
					}
				}
			}
		}
		allowed = { afr_is_tribal_allowed = yes }

		visible = {
			AND = {
				has_country_flag = ACS_affiliate
				NOT = {
					has_country_flag = ACS_colony
				}
			}
		}

		fire_only_once = yes


		cost = 0

		complete_effect = {
			ROOT = {
				set_party_name = {
					ideology = centrism
					long_name = AFR_party_republican
					name = AFR_party_republican
				}
				set_party_name = {
					ideology = traditional_conservatism
					long_name = AFR_party_democratic
					name = AFR_party_democratic
				}
				set_party_name = {
					ideology = autocracy
					long_name = AFR_party_monarch
					name = AFR_party_monarch
				}
			}
			hidden_effect = {
				set_politics = {
					ruling_party = centrism
				}
				set_popularities = {
					centrism = 34
					traditional_conservatism = 33
					social_egalitarianism = 0
					ideology_radical_socialism = 0
					autocracy = 33
					radical_democracy = 0
					chauvinist_populism = 0
					anarchism = 0
					fundamentalism = 0
				}
			}
			country_event = {id = afr_rrp.20}
			swap_ideas = {
				remove_idea = no_elections
				add_idea = limited_elections
			}
			#swap_ideas = {
			#	remove_idea = absolute_monarchy
			#	add_idea = presidential_republic
			#}
			hidden_effect = {
				swap_ideas = {
					remove_idea = state_religion
					add_idea = secular_state
				}
				#swap_ideas = {
					#remove_idea = nonfamily_heir
					#add_idea = non_monarchical_system
				#}
			}
		}
	}

	afr_rrp_american_colonial_confederation = {

		ai_will_do = { factor = 1 }
		available = {
			has_country_flag = ACS_affiliate
			LIB = {
				exists = yes
				num_of_civilian_factories > 2
				has_completed_focus = LIB_gem_of_africa
			}
			#NOT = {
			#	has_idea = no_constitution
			#}
			NOT = {
				has_idea = no_elections
			}
			has_idea = afr_reforming_kingdom

		}
		allowed = { afr_is_tribal_allowed = yes }

		visible = {
			AND = {
				has_country_flag = ACS_affiliate
				#has_idea = presidential_republic
				NOT = {
					has_country_flag = ACS_colony
				}
			}
		}

		fire_only_once = yes

		cost = 0

		complete_effect = {
			if = {
				limit = {
					LIB = {
						NOT = {
							has_country_flag = american_colonial_confederation
						}
					}
				}
				LIB = { country_event={id = afr_rrp.22} }
			}
			if = {
				limit = {
					LIB = {
						has_country_flag = american_colonial_confederation
					}
				}
				LIB = { country_event={id = afr_rrp.23} }
			}

		}
	}

}

afr_rrp_growing_regional_industry = {

	#An African Inspired Industrialization
	afr_rrp_an_african_inspired_industrialization_partner_decision = {

		ai_will_do = { factor = 1 }
		available = {
			if = {
				limit = { has_idea = afr_large_kingdom }
				has_idea = afr_large_kingdom
			}
			if = {
				limit = { has_idea = afr_reforming_kingdom }
				has_idea = afr_reforming_kingdom
			}
			if = {
				limit = { has_country_flag = afr_rrp_an_african_inspired_industrialization_partner_response_flag }
				custom_trigger_tooltip = {
					tooltip = afr_rrp_an_african_inspired_industrialization_partner_response_flag
					NOT = { has_country_flag = afr_rrp_an_african_inspired_industrialization_partner_response_flag }
				}
			}
			FROM = {
				has_country_flag = afr_rrp_non_colonial_industrialization
				has_opinion = {
					target = ROOT
					value > 74
				}
				custom_trigger_tooltip = {
					tooltip = afr_inward_not_subject_of_western_power

					NOT = {	is_subject_of = FRA }
					NOT = {	is_subject_of = ENG }
					NOT = {	is_subject_of = POR }
					NOT = {	is_subject_of = SPR }
					NOT = {	is_subject_of = HOL }
					NOT = {	is_subject_of = PRS }
					NOT = {	is_subject_of = GER }
					NOT = {	is_subject_of = HAM }
					NOT = {	is_subject_of = BRE }
					NOT = {	is_subject_of = SWE }
					NOT = {	is_subject_of = LIB }
					if={
						limit={
							is_subject = yes
						}
						NOT = { OVERLORD = { has_cosmetic_tag = PIE_focus_ITA } }
					}
					NOT = {	is_subject_of = BEL }
					NOT = {	is_subject_of = TRV }
					NOT = {	is_subject_of = OFS }
					if = {
						limit = { is_subject_of = ALG }
						ALG = { NOT = { is_subject_of = FRA } }
					}
					if = {
						limit = { is_subject_of = SAF }
						SAF = { NOT = { is_subject_of = ENG } }
					}
					if = {
						limit = { is_subject_of = NAT }
						NAT = { NOT = { is_subject_of = ENG } }
					}
					if = {
						limit = { is_subject_of = ETH }
						ETH = { NOT = { is_subject_of = ENG } }
						ETH = { NOT = { is_subject_of = FRA } }
						ETH = { NOT = { is_subject_of = POR } }
						ETH = { NOT = { is_subject_of = GER } }
						ETH = { NOT = { is_subject_of = PRS } }
					}
				}
			}
			ROOT = {
				custom_trigger_tooltip = {
					tooltip = afr_inward_not_subject_of_western_power

					NOT = {	is_subject_of = FRA }
					NOT = {	is_subject_of = ENG }
					NOT = {	is_subject_of = POR }
					NOT = {	is_subject_of = SPR }
					NOT = {	is_subject_of = HOL }
					NOT = {	is_subject_of = PRS }
					NOT = {	is_subject_of = GER }
					NOT = {	is_subject_of = HAM }
					NOT = {	is_subject_of = BRE }
					NOT = {	is_subject_of = SWE }
					NOT = {	is_subject_of = LIB }
					if={
						limit={
							is_subject = yes
						}
						NOT = { OVERLORD = { has_cosmetic_tag = PIE_focus_ITA } }
					}
					NOT = {	is_subject_of = BEL }
					NOT = {	is_subject_of = TRV }
					NOT = {	is_subject_of = OFS }
					if = {
						limit = { is_subject_of = ALG }
						ALG = { NOT = { is_subject_of = FRA } }
					}
					if = {
						limit = { is_subject_of = SAF }
						SAF = { NOT = { is_subject_of = ENG } }
					}
					if = {
						limit = { is_subject_of = NAT }
						NAT = { NOT = { is_subject_of = ENG } }
					}
					if = {
						limit = { is_subject_of = ETH }
						ETH = { NOT = { is_subject_of = ENG } }
						ETH = { NOT = { is_subject_of = FRA } }
						ETH = { NOT = { is_subject_of = POR } }
						ETH = { NOT = { is_subject_of = GER } }
						ETH = { NOT = { is_subject_of = PRS } }
					}
				}
			}
			has_stability > 0.6
			NOT = {
				has_country_flag = afr_rrp_company_port
			}
			custom_trigger_tooltip = {
				tooltip = afr_inspired_industrialization_in_close_proximity
				OR = {
					ROOT = { is_neighbor_of = FROM }
					ROOT = { is_in_faction_with = FROM }
					any_country = {
						AND = {
							is_neighbor_of = FROM
							is_in_faction_with = ROOT
						}
					}
					any_country = {
						AND = {
							is_neighbor_of = FROM
							is_subject_of = ROOT
						}
					}
					any_country = {
						AND = {
							is_neighbor_of = ROOT
							is_in_faction_with = FROM
						}
					}
					any_country = {
						AND = {
							is_neighbor_of = ROOT
							is_subject_of = FROM
						}
					}
				}
			}
		}
		allowed = {
			TAG = ETH
		}

		visible = {
			NOT = {
				TAG = ETH
				TAG = EGY
				TAG = ZUL
			}
			NOT = {
				has_country_flag = afr_rrp_company_port
			}
			NOT = { has_country_flag = afr_an_african_industrializing }
		}

		target_trigger = {
			FROM = {
				has_country_flag = afr_rrp_non_colonial_industrialization
				is_puppet = no
				custom_trigger_tooltip = {
					tooltip = afr_inward_not_subject_of_western_power

					NOT = {	is_subject_of = FRA }
					NOT = {	is_subject_of = ENG }
					NOT = {	is_subject_of = POR }
					NOT = {	is_subject_of = SPR }
					NOT = {	is_subject_of = HOL }
					NOT = {	is_subject_of = PRS }
					NOT = {	is_subject_of = GER }
					NOT = {	is_subject_of = HAM }
					NOT = {	is_subject_of = BRE }
					NOT = {	is_subject_of = SWE }
					NOT = {	is_subject_of = LIB }
					if={
						limit={
							is_subject = yes
						}
						NOT = { OVERLORD = { has_cosmetic_tag = PIE_focus_ITA } }
					}
					NOT = {	is_subject_of = BEL }
					NOT = {	is_subject_of = TRV }
					NOT = {	is_subject_of = OFS }
					if = {
						limit = { is_subject_of = ALG }
						ALG = { NOT = { is_subject_of = FRA } }
					}
					if = {
						limit = { is_subject_of = SAF }
						SAF = { NOT = { is_subject_of = ENG } }
					}
					if = {
						limit = { is_subject_of = NAT }
						NAT = { NOT = { is_subject_of = ENG } }
					}
					if = {
						limit = { is_subject_of = ETH }
						ETH = { NOT = { is_subject_of = ENG } }
						ETH = { NOT = { is_subject_of = FRA } }
						ETH = { NOT = { is_subject_of = POR } }
						ETH = { NOT = { is_subject_of = GER } }
						ETH = { NOT = { is_subject_of = PRS } }
					}
				}
			}
		}

		fire_only_once = yes

		cost = 250

		complete_effect = {
			FROM = { country_event = { id = afr_rrp.26 days = 5 } }
			set_country_flag = afr_rrp_an_african_inspired_industrialization_partner_response_flag
		}
	}

	afr_rrp_railway_infrastructure_construction_independant_decision = {

		ai_will_do = { factor = 1 }
		available = {
			has_stability > 0.65
			custom_trigger_tooltip = {
				tooltip = Oceania_industrisation_progress_greater_than_45
				check_variable = {ROOT.industrisation_progress > 44}
			}
			has_tech = iron_railways
			NOT = {
				has_country_flag = afr_rrp_company_port
			}
		}
		allowed = { afr_is_tribal_allowed = yes }

		visible = {
			has_country_flag = afr_an_african_industrializing
			NOT = {
				has_country_flag = afr_rrp_company_port
			}
			always = no
		}

		fire_only_once = yes

		days_remove = 720

		cost = 0

		complete_effect = {
			set_country_flag = afr_rrp_colonial_project_active
			if = {
				limit = {
					NOT = {
						has_idea = AF_T_idea_trading_nation_2
					}
				}
				add_ideas =  AF_T_idea_trading_nation_2
			}
			set_country_flag = afr_an_african_industrializing
		}


		remove_effect = {
			clr_country_flag = afr_rrp_colonial_project_active
			clr_country_flag = afr_rrp_colonial_project_active
			ROOT = { country_event = { days = 1 id = afr_rrp.6 } }
			set_country_flag = afr_rrp_railway_infrastructure_construction_independant
			custom_effect_tooltip = EDC_afr.6.t
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = infrastructure
										size > 0
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}

	afr_rrp_main_railway_route_construction_independant = {

		ai_will_do = { factor = 1 }
		available = {
			has_idea = afr_reforming_kingdom
			has_stability > 0.60
			NOT = {
				tag = ETH
			}
			AND = {
				has_tech = iron_railways
				has_tech = steam_engine
				has_tech = steam_locomotive
			}
		}
		allowed = { afr_is_tribal_allowed = yes }

		visible = {
			NOT = {
				tag = ETH
			}
			has_country_flag = afr_rrp_railway_infrastructure_construction_independant
		}

		fire_only_once = yes

		days_remove = 720

		cost = 0

		complete_effect = {
			set_country_flag = afr_rrp_colonial_project_active
		}

		remove_effect = {
			clr_country_flag = afr_rrp_colonial_project_active
			clr_country_flag = afr_rrp_colonial_project_active
			custom_effect_tooltip = EDC_afr_20ip
			hidden_effect = {
				country_event = { id = EDC_afr.6 hours = 1 }
				country_event = { id = EDC_afr.6 hours = 1 }
			}
			add_ideas = { AF_T_small_scale_railways }
			set_country_flag = afr_rrp_main_railway_route
		}
	}

	afr_rrp_factory_construction = {

		ai_will_do = { factor = 1 }
		available = {
			Root = {
				OR = {
					has_idea = AF_T_small_kingdom
					has_idea = afr_reforming_kingdom
				}
			}
			has_stability > 0.65
			has_idea = AF_T_small_scale_railways
			NOT = {
				tag = ETH
			}
			OR = {
				ROOT = {
					any_owned_state = { is_coastal = yes }
				}
				any_neighbor_country = {
					NOT = {
						has_idea = pre_industrial_era
					}
				}
				AND = {
					if={
						limit={
							is_subject = yes
						}
						OVERLORD = {
							NOT = {
								has_idea = pre_industrial_era
							}
						}
					}
				}
			}
		}
		allowed = { afr_is_tribal_allowed = yes }

		visible = {
			NOT = {
				tag = ETH
			}
			has_idea = afr_reforming_kingdom
		}

		fire_only_once = yes

		days_remove = 180

		cost = 0

		modifier = {
			political_power_gain = -1
			research_speed_factor = 0.4
		}

		complete_effect = {
			set_country_flag = afr_rrp_colonial_project_active
		}

		remove_effect = {
			clr_country_flag = afr_rrp_colonial_project_active
			set_country_flag = afr_rrp_factory_construction
			custom_effect_tooltip = EDC_afr.5.t
			hidden_effect = {
				country_event = { id = EDC_afr.5 hours = 1 }
			}
		}
	}

}

afr_reforming_regional_power_foreign_investments_decisions = {
	# ----------------------------------
	#Modern Resource Production Decisions
	# ----------------------------------
	afr_reforming_regional_power_regional_resources_completed = {
		icon = generic_form_nation
		ai_will_do = { factor = 1 }
		available = {
			has_country_flag = afr_reforming_regional_power_has_fabric_industry
			has_country_flag = afr_reforming_regional_power_has_logging_industry
		}
		allowed = {
			OR = {
				afr_is_tribal_allowed = yes
				oceania_is_tribal_allowed = yes
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
		}

		visible = {
			has_country_flag = afr_reforming_regional_power_regional_resources_focus
		}

		fire_only_once = yes

		cost = 0

		complete_effect = {
			set_country_flag = afr_reforming_regional_power_regional_resources_completed
		}
	}

	afr_reforming_regional_power_regional_resources_decision = {
		ai_will_do = { factor = 1 }
		available = {
			hidden_trigger = {
				has_country_flag = finish_afr_reforming_regional_power_regional_resources_decision_mission
			}
		}

		allowed = {
			OR = {
				afr_is_tribal_allowed = yes
				oceania_is_tribal_allowed = yes
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
		}
		activation = {
			has_country_flag = afr_reforming_regional_power_regional_resources_decision_mission
		}
		selectable_mission = no
		is_good = no
		cancel_trigger = {
			hidden_trigger = {
				always = no
			}
		}

		visible = {
			has_country_flag = afr_reforming_regional_power_regional_resources_decision_mission
		}

		fire_only_once = no

		#cost = 1

		days_mission_timeout = 720

		#modifier = {
		#	political_power_cost = 0.1
		#}

		complete_effect = {
			clr_country_flag = afr_reforming_regional_power_regional_resources_decision_mission
			random_owned_controlled_state ={
				limit = { is_core_of = ROOT }
				add_resource = {
					type = coal
					amount = 3
				}
			}
			random_owned_controlled_state ={
				limit = { is_core_of = ROOT }
				add_resource = {
					type = iron
					amount = 5
				}
			}
			set_country_flag = afr_reforming_regional_power_regional_resources_decision_flag
		}
		timeout_effect = {
			clr_country_flag = afr_reforming_regional_power_regional_resources_decision_mission
			random_owned_controlled_state ={
				limit = { is_core_of = ROOT }
				add_resource = {
					type = coal
					amount = 3
				}
			}
			random_owned_controlled_state ={
				limit = { is_core_of = ROOT }
				add_resource = {
					type = iron
					amount = 5
				}
			}
			set_country_flag = afr_reforming_regional_power_regional_resources_decision_flag
		}
	}

	afr_reforming_regional_power_construct_fabric_industry = {
		ai_will_do = { factor = 1 }
		available = {
			has_country_flag = afr_reforming_regional_power_regional_resources_decision_flag
			has_country_flag = afr_reforming_regional_power_regional_industry_decision_flag
			custom_trigger_tooltip = {
				tooltip = afr_prosperity_mechanic_construction
				check_variable = { afr_reforming_regional_power_construction_in_progress < 1 }
			}
			custom_trigger_tooltip = {
				tooltip = Ocenaia_has_infrastructure_to_support_new_buildings
				any_owned_state = {
					Oceania_infrastructure_for_extra_building_slots_trigger = yes
					is_core_of = ROOT
				}
			}
			if = {
				limit = {
					has_country_flag = afr_rrp_company_port
					has_variable = has_afr_empire_mechanic_system
				}
				custom_trigger_tooltip = {
					tooltip = afr_prosperity_mechanic_greater_than_40_has_company
					has_country_flag = afr_rrp_company_port
				}
			}
			if = {
				limit = {
					if = {
						limit = { TAG = MOM }
						OMA = { has_country_flag = oma_vic_MOM_industrialisation_flag }
						has_variable = has_afr_empire_mechanic_system
					}
					else_if = {
						limit = { TAG = ZAN }
						OMA = { has_country_flag = oma_vic_ZAN_industrialisation_flag }
						has_variable = has_afr_empire_mechanic_system
					}
					else = { always = no }
				}
				custom_trigger_tooltip = {
					tooltip = afr_prosperity_mechanic_greater_than_40_has_oman
					if = {
						limit = { TAG = MOM }
						OMA = { has_country_flag = oma_vic_MOM_industrialisation_flag }
					}
					else_if = {
						limit = { TAG = ZAN }
						OMA = { has_country_flag = oma_vic_ZAN_industrialisation_flag }
					}
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = afr_rrp_company_port }
					has_variable = has_afr_empire_mechanic_system
					if = {
						limit = { TAG = MOM }
						OMA = { NOT = { has_country_flag = oma_vic_MOM_industrialisation_flag } }
					}
					else_if = {
						limit = { TAG = ZAN }
						OMA = { NOT = { has_country_flag = oma_vic_ZAN_industrialisation_flag } }
					}
				}
				custom_trigger_tooltip = {
					tooltip = afr_prosperity_mechanic_greater_than_40_no_company
					check_variable = {
						afr_prosperity_mechanic_value > 39
					}
				}
			}
		}
		allowed = {
			OR = {
				afr_is_tribal_allowed = yes
				oceania_is_tribal_allowed = yes
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
		}

		visible = {
			has_country_flag = afr_reforming_regional_power_regional_resources_focus
		}

		fire_only_once = yes

		#cost = 0
		custom_cost_trigger = {
			check_variable = { afr_prosperity_mechanic_value > 39 }
		}
		custom_cost_text = afr_prosperity_mechanic_custom_cost_40
		days_remove = 460

		modifier = {
			political_power_cost = 0.1
		}

		complete_effect = {
			add_to_variable = { var = afr_reforming_regional_power_construction_in_progress value = 1 }
			if = {
				limit = { NOT = { has_variable = has_afr_empire_mechanic_system } }
				set_temp_variable = { money_to_gain = -0.5 }
				add_money_with_tooltip_effect = yes
			}
			if = {
				limit = {
					has_variable = has_afr_empire_mechanic_system
					OR = {
						check_variable = { afr_prosperity_mechanic_value > 39 }
						NOT = { has_country_flag = afr_rrp_company_port }
					}
				}
				custom_effect_tooltip = afr_prosperity_mechanic_minus_40_investment_tooltip
				add_to_variable = {
					var = afr_prosperity_mechanic_value
					value = -40
				}
			}
			if = {
				limit = {
					has_variable = has_afr_empire_mechanic_system
					check_variable = { afr_prosperity_mechanic_value < 40 }
					if = {
						limit = { TAG = MOM }
						OMA = { has_country_flag = oma_vic_MOM_industrialisation_flag }
					}
					else_if = {
						limit = { TAG = ZAN }
						OMA = { has_country_flag = oma_vic_ZAN_industrialisation_flag }
					}
					else = { has_country_flag = afr_rrp_company_port }
				}
				custom_effect_tooltip = afr_prosperity_mechanic_minus_40_investment_debt_tooltip
				add_to_variable = {
					var = afr_prosperity_mechanic_value
					value = -40
				}
			}
		}

		remove_effect = {
			random_owned_controlled_state ={
				limit = {
					is_core_of = ROOT
					Oceania_infrastructure_for_extra_building_slots_trigger = yes
				}
				hidden_effect = {
					add_to_variable = { Oceania_extra_state_shared_building_slots = 1 }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = fabric_weavery
					level = 1
					instant_build = yes
				}
				if = {
					limit = { OWNER = { has_variable = has_afr_empire_mechanic_system } }
					hidden_effect = {
						state_event = { id = RCE_afr_regional_power.57 days = 120 trigger_for = controller }
						set_state_flag = afr_empire_politics_has_regional_development_boom_flag
						afr_empire_politics_state_gain_immigration = yes
						afr_empire_politics_state_gain_boom = yes
					}
					custom_effect_tooltip = afr_empire_politics_state_economy_status_boom_effect
				}
			}
			set_country_flag = afr_reforming_regional_power_has_fabric_industry
			add_to_variable = { var = afr_reforming_regional_power_construction_in_progress value = -1 }
		}
	}

	afr_reforming_regional_power_establish_logging_industry = {
		ai_will_do = { factor = 1 }
		available = {
			has_country_flag = afr_reforming_regional_power_regional_resources_decision_flag
			custom_trigger_tooltip = {
				tooltip = afr_prosperity_mechanic_construction
				check_variable = { afr_reforming_regional_power_construction_in_progress < 1 }
			}
			custom_trigger_tooltip = {
				tooltip = Ocenaia_has_infrastructure_to_support_new_buildings
				any_owned_state = {
					Oceania_infrastructure_for_extra_building_slots_trigger = yes
					is_core_of = ROOT
				}
			}
			if = {
				limit = {
					has_country_flag = afr_rrp_company_port
					has_variable = has_afr_empire_mechanic_system
				}
				custom_trigger_tooltip = {
					tooltip = afr_prosperity_mechanic_greater_than_40_has_company
					has_country_flag = afr_rrp_company_port
				}
			}
			if = {
				limit = {
					if = {
						limit = { TAG = MOM }
						OMA = { has_country_flag = oma_vic_MOM_industrialisation_flag }
						has_variable = has_afr_empire_mechanic_system
					}
					else_if = {
						limit = { TAG = ZAN }
						OMA = { has_country_flag = oma_vic_ZAN_industrialisation_flag }
						has_variable = has_afr_empire_mechanic_system
					}
					else = { always = no }
				}
				custom_trigger_tooltip = {
					tooltip = afr_prosperity_mechanic_greater_than_40_has_oman
					if = {
						limit = { TAG = MOM }
						OMA = { has_country_flag = oma_vic_MOM_industrialisation_flag }
					}
					else_if = {
						limit = { TAG = ZAN }
						OMA = { has_country_flag = oma_vic_ZAN_industrialisation_flag }
					}
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = afr_rrp_company_port }
					has_variable = has_afr_empire_mechanic_system
					if = {
						limit = { TAG = MOM }
						OMA = { NOT = { has_country_flag = oma_vic_MOM_industrialisation_flag } }
					}
					else_if = {
						limit = { TAG = ZAN }
						OMA = { NOT = { has_country_flag = oma_vic_ZAN_industrialisation_flag } }
					}
				}
				custom_trigger_tooltip = {
					tooltip = afr_prosperity_mechanic_greater_than_40_no_company
					check_variable = {
						afr_prosperity_mechanic_value > 39
					}
				}
			}
		}
		allowed = {
			OR = {
				afr_is_tribal_allowed = yes
				oceania_is_tribal_allowed = yes
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
		}

		visible = {
			OR = {
				has_country_flag = afr_reforming_regional_power_regional_resources_focus
				has_country_flag = afr_reforming_regional_power_regional_industry_focus
			}
		}

		fire_only_once = yes

		#cost = 0
		custom_cost_trigger = {
			check_variable = { afr_prosperity_mechanic_value > 39 }
		}
		custom_cost_text = afr_prosperity_mechanic_custom_cost_40

		days_remove = 360

		modifier = {
			political_power_cost = 0.1
		}

		complete_effect = {
			add_to_variable = { var = afr_reforming_regional_power_construction_in_progress value = 1 }
			if = {
				limit = { NOT = { has_variable = has_afr_empire_mechanic_system } }
				set_temp_variable = { money_to_gain = -0.5 }
				add_money_with_tooltip_effect = yes 
			}
			if = {
				limit = {
					has_variable = has_afr_empire_mechanic_system
					OR = {
						check_variable = { afr_prosperity_mechanic_value > 39 }
						NOT = { has_country_flag = afr_rrp_company_port }
					}
				}
				custom_effect_tooltip = afr_prosperity_mechanic_minus_40_investment_tooltip
				add_to_variable = {
					var = afr_prosperity_mechanic_value
					value = -40
				}
			}
			if = {
				limit = {
					has_variable = has_afr_empire_mechanic_system
					check_variable = { afr_prosperity_mechanic_value < 40 }
					if = {
						limit = { TAG = MOM }
						OMA = { has_country_flag = oma_vic_MOM_industrialisation_flag }
					}
					else_if = {
						limit = { TAG = ZAN }
						OMA = { has_country_flag = oma_vic_ZAN_industrialisation_flag }
					}
					else = { has_country_flag = afr_rrp_company_port }
				}
				custom_effect_tooltip = afr_prosperity_mechanic_minus_40_investment_debt_tooltip
				add_to_variable = {
					var = afr_prosperity_mechanic_value
					value = -40
				}
			}
		}

		remove_effect = {
			random_owned_controlled_state ={
				limit = {
					is_core_of = ROOT
					Oceania_infrastructure_for_extra_building_slots_trigger = yes
				}
				hidden_effect = {
					add_to_variable = { Oceania_extra_state_shared_building_slots = 1 }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = logging_camp
					level = 1
					instant_build = yes
				}
				if = {
					limit = { OWNER = { has_variable = has_afr_empire_mechanic_system } }
					hidden_effect = {
						state_event = { id = RCE_afr_regional_power.57 days = 120 trigger_for = controller }
						set_state_flag = afr_empire_politics_has_regional_development_boom_flag
						afr_empire_politics_state_gain_immigration = yes
						afr_empire_politics_state_gain_boom = yes
					}
					custom_effect_tooltip = afr_empire_politics_state_economy_status_boom_effect
				}
			}
			set_country_flag = afr_reforming_regional_power_has_logging_industry
			add_to_variable = { var = afr_reforming_regional_power_construction_in_progress value = -1 }
		}
	}

	# ----------------------------------
	# Modern Factories Decisions
	# ----------------------------------
	afr_reforming_regional_power_regional_industry_decision = {
		ai_will_do = { factor = 1 }
		available = {
			hidden_trigger = {
				has_country_flag = finish_afr_reforming_regional_power_regional_industry_decision_mission
				exists = yes
			}
		}

		#allowed = {
		#	has_country_flag = afr_reforming_regional_power_regional_industry_decision_mission
		#}
		activation = {
			has_country_flag = afr_reforming_regional_power_regional_industry_decision_mission
		}
		selectable_mission = no
		is_good = no
		cancel_trigger = {
			hidden_trigger = {
				always = no
			}
		}

		visible = {
			has_country_flag = afr_reforming_regional_power_regional_industry_decision_mission
		}
		allowed = {
			OR = {
				afr_is_tribal_allowed = yes
				oceania_is_tribal_allowed = yes
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
		}

		#fire_only_once = no

		#cost = 1

		days_mission_timeout = 720

		#modifier = {
		#	political_power_cost = 0.1
		#}

		complete_effect = {
			hidden_effect = {
				clr_country_flag = afr_reforming_regional_power_regional_industry_decision_mission
				set_country_flag = afr_reforming_regional_power_regional_industry_decision_flag
			}
		}
		timeout_effect = {
			clr_country_flag = afr_reforming_regional_power_regional_industry_decision_mission
			set_country_flag = afr_reforming_regional_power_regional_industry_decision_flag
		}
	}

	afr_reforming_regional_power_regional_industry_completed = {
		icon = generic_form_nation
		ai_will_do = { factor = 1 }
		available = {
			has_country_flag = afr_reforming_regional_power_has_civilian_industry
			has_country_flag = afr_reforming_regional_power_has_military_industry
		}
		allowed = {
			OR = {
				afr_is_tribal_allowed = yes
				oceania_is_tribal_allowed = yes
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
		}

		visible = {
			has_country_flag = afr_reforming_regional_power_regional_industry_focus
		}

		fire_only_once = yes

		cost = 0

		complete_effect = {
			set_country_flag = afr_reforming_regional_power_regional_industry_completed
		}
	}

	afr_reforming_regional_power_construct_civ_factory = {
		ai_will_do = { factor = 1 }
		available = {
			has_country_flag = afr_reforming_regional_power_has_fabric_industry
			has_country_flag = afr_reforming_regional_power_has_logging_industry
			custom_trigger_tooltip = {
				tooltip = afr_prosperity_mechanic_construction
				check_variable = { afr_reforming_regional_power_construction_in_progress < 1 }
			}
			custom_trigger_tooltip = {
				tooltip = Ocenaia_has_infrastructure_to_support_new_buildings
				any_owned_state = {
					Oceania_infrastructure_for_extra_building_slots_trigger = yes
					is_core_of = ROOT
				}
			}
			if = {
				limit = {
					has_country_flag = afr_rrp_company_port
					has_variable = has_afr_empire_mechanic_system
				}
				custom_trigger_tooltip = {
					tooltip = afr_prosperity_mechanic_greater_than_40_has_company
					has_country_flag = afr_rrp_company_port
				}
			}
			if = {
				limit = {
					if = {
						limit = { TAG = MOM }
						OMA = { has_country_flag = oma_vic_MOM_industrialisation_flag }
						has_variable = has_afr_empire_mechanic_system
					}
					else_if = {
						limit = { TAG = ZAN }
						OMA = { has_country_flag = oma_vic_ZAN_industrialisation_flag }
						has_variable = has_afr_empire_mechanic_system
					}
					else = { always = no }
				}
				custom_trigger_tooltip = {
					tooltip = afr_prosperity_mechanic_greater_than_40_has_oman
					if = {
						limit = { TAG = MOM }
						OMA = { has_country_flag = oma_vic_MOM_industrialisation_flag }
					}
					else_if = {
						limit = { TAG = ZAN }
						OMA = { has_country_flag = oma_vic_ZAN_industrialisation_flag }
					}
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = afr_rrp_company_port }
					has_variable = has_afr_empire_mechanic_system
					if = {
						limit = { TAG = MOM }
						OMA = { NOT = { has_country_flag = oma_vic_MOM_industrialisation_flag } }
					}
					else_if = {
						limit = { TAG = ZAN }
						OMA = { NOT = { has_country_flag = oma_vic_ZAN_industrialisation_flag } }
					}
				}
				custom_trigger_tooltip = {
					tooltip = afr_prosperity_mechanic_greater_than_40_no_company
					check_variable = {
						afr_prosperity_mechanic_value > 39
					}
				}
			}
		}
		allowed = {
			OR = {
				afr_is_tribal_allowed = yes
				oceania_is_tribal_allowed = yes
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
		}

		visible = {
			has_country_flag = afr_reforming_regional_power_regional_industry_focus
		}

		fire_only_once = yes

		#cost = 0
		custom_cost_trigger = {
			check_variable = { afr_prosperity_mechanic_value > 39 }
		}
		custom_cost_text = afr_prosperity_mechanic_custom_cost_40

		days_remove = 720

		modifier = {
			political_power_cost = 0.1
		}

		complete_effect = {
			add_to_variable = { var = afr_reforming_regional_power_construction_in_progress value = 1 }
			if = {
				limit = { NOT = { has_variable = has_afr_empire_mechanic_system } }
				set_temp_variable = { money_to_gain = -0.5 }
				add_money_with_tooltip_effect = yes 
			}
			if = {
				limit = {
					has_variable = has_afr_empire_mechanic_system
					OR = {
						check_variable = { afr_prosperity_mechanic_value > 39 }
						NOT = { has_country_flag = afr_rrp_company_port }
					}
				}
				custom_effect_tooltip = afr_prosperity_mechanic_minus_40_investment_tooltip
				add_to_variable = {
					var = afr_prosperity_mechanic_value
					value = -40
				}
			}
			if = {
				limit = {
					has_variable = has_afr_empire_mechanic_system
					check_variable = { afr_prosperity_mechanic_value < 40 }
					if = {
						limit = { TAG = MOM }
						OMA = { has_country_flag = oma_vic_MOM_industrialisation_flag }
					}
					else_if = {
						limit = { TAG = ZAN }
						OMA = { has_country_flag = oma_vic_ZAN_industrialisation_flag }
					}
					else = { has_country_flag = afr_rrp_company_port }
				}
				custom_effect_tooltip = afr_prosperity_mechanic_minus_40_investment_debt_tooltip
				add_to_variable = {
					var = afr_prosperity_mechanic_value
					value = -40
				}
			}
		}

		remove_effect = {
			random_owned_controlled_state ={
				limit = {
					is_core_of = ROOT
					Oceania_infrastructure_for_extra_building_slots_trigger = yes
				}
				hidden_effect = {
					add_to_variable = { Oceania_extra_state_shared_building_slots = 1 }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				if = {
					limit = { OWNER = { has_variable = has_afr_empire_mechanic_system } }
					hidden_effect = {
						state_event = { id = RCE_afr_regional_power.57 days = 120 trigger_for = controller }
						set_state_flag = afr_empire_politics_has_regional_development_boom_flag
						afr_empire_politics_state_gain_immigration = yes
						afr_empire_politics_state_gain_boom = yes
					}
					custom_effect_tooltip = afr_empire_politics_state_economy_status_boom_effect
					afr_empire_state_industrisation_progress_set_to_100 = yes
				}
			}
			set_country_flag = afr_reforming_regional_power_has_civilian_industry
			add_to_variable = { var = afr_reforming_regional_power_construction_in_progress value = -1 }
		}
	}

	afr_reforming_regional_power_construct_mil_factory = {
		ai_will_do = { factor = 1 }
		available = {
			has_country_flag = afr_reforming_regional_power_has_fabric_industry
			has_country_flag = afr_reforming_regional_power_has_logging_industry
			custom_trigger_tooltip = {
				tooltip = afr_prosperity_mechanic_construction
				check_variable = { afr_reforming_regional_power_construction_in_progress < 1 }
			}
			custom_trigger_tooltip = {
				tooltip = Ocenaia_has_infrastructure_to_support_new_buildings
				any_owned_state = {
					Oceania_infrastructure_for_extra_building_slots_trigger = yes
					is_core_of = ROOT
				}
			}
			if = {
				limit = {
					has_country_flag = afr_rrp_company_port
					has_variable = has_afr_empire_mechanic_system
				}
				custom_trigger_tooltip = {
					tooltip = afr_prosperity_mechanic_greater_than_40_has_company
					has_country_flag = afr_rrp_company_port
				}
			}
			if = {
				limit = {
					if = {
						limit = { TAG = MOM }
						OMA = { has_country_flag = oma_vic_MOM_industrialisation_flag }
						has_variable = has_afr_empire_mechanic_system
					}
					else_if = {
						limit = { TAG = ZAN }
						OMA = { has_country_flag = oma_vic_ZAN_industrialisation_flag }
						has_variable = has_afr_empire_mechanic_system
					}
					else = { always = no }
				}
				custom_trigger_tooltip = {
					tooltip = afr_prosperity_mechanic_greater_than_40_has_oman
					if = {
						limit = { TAG = MOM }
						OMA = { has_country_flag = oma_vic_MOM_industrialisation_flag }
					}
					else_if = {
						limit = { TAG = ZAN }
						OMA = { has_country_flag = oma_vic_ZAN_industrialisation_flag }
					}
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = afr_rrp_company_port }
					has_variable = has_afr_empire_mechanic_system
					if = {
						limit = { TAG = MOM }
						OMA = { NOT = { has_country_flag = oma_vic_MOM_industrialisation_flag } }
					}
					else_if = {
						limit = { TAG = ZAN }
						OMA = { NOT = { has_country_flag = oma_vic_ZAN_industrialisation_flag } }
					}
				}
				custom_trigger_tooltip = {
					tooltip = afr_prosperity_mechanic_greater_than_40_no_company
					check_variable = {
						afr_prosperity_mechanic_value > 39
					}
				}
			}
		}
		allowed = {
			OR = {
				afr_is_tribal_allowed = yes
				oceania_is_tribal_allowed = yes
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
		}

		visible = {
			has_country_flag = afr_reforming_regional_power_regional_industry_focus
		}

		fire_only_once = yes

		#cost = 0
		custom_cost_trigger = {
			check_variable = { afr_prosperity_mechanic_value > 39 }
		}
		custom_cost_text = afr_prosperity_mechanic_custom_cost_40

		days_remove = 720

		modifier = {
			political_power_cost = 0.1
		}

		complete_effect = {
			add_to_variable = { var = afr_reforming_regional_power_construction_in_progress value = 1 }
			if = {
				limit = { NOT = { has_variable = has_afr_empire_mechanic_system } }
				set_temp_variable = { money_to_gain = -0.5 }
				add_money_with_tooltip_effect = yes 
			}
			if = {
				limit = {
					has_variable = has_afr_empire_mechanic_system
					OR = {
						check_variable = { afr_prosperity_mechanic_value > 39 }
						NOT = { has_country_flag = afr_rrp_company_port }
					}
				}
				custom_effect_tooltip = afr_prosperity_mechanic_minus_40_investment_tooltip
				add_to_variable = {
					var = afr_prosperity_mechanic_value
					value = -40
				}
			}
			if = {
				limit = {
					has_variable = has_afr_empire_mechanic_system
					check_variable = { afr_prosperity_mechanic_value < 40 }
					if = {
						limit = { TAG = MOM }
						OMA = { has_country_flag = oma_vic_MOM_industrialisation_flag }
					}
					else_if = {
						limit = { TAG = ZAN }
						OMA = { has_country_flag = oma_vic_ZAN_industrialisation_flag }
					}
					else = { has_country_flag = afr_rrp_company_port }
				}
				custom_effect_tooltip = afr_prosperity_mechanic_minus_40_investment_debt_tooltip
				add_to_variable = {
					var = afr_prosperity_mechanic_value
					value = -40
				}
			}
		}

		remove_effect = {
			random_owned_controlled_state ={
				limit = {
					is_core_of = ROOT
					Oceania_infrastructure_for_extra_building_slots_trigger = yes
				}
				hidden_effect = {
					add_to_variable = { Oceania_extra_state_shared_building_slots = 1 }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				if = {
					limit = { OWNER = { has_variable = has_afr_empire_mechanic_system } }
					hidden_effect = {
						state_event = { id = RCE_afr_regional_power.57 days = 120 trigger_for = controller }
						set_state_flag = afr_empire_politics_has_regional_development_boom_flag
						afr_empire_politics_state_gain_immigration = yes
						afr_empire_politics_state_gain_boom = yes
					}
					custom_effect_tooltip = afr_empire_politics_state_economy_status_boom_effect
					afr_empire_state_industrisation_progress_set_to_100 = yes
				}
			}
			set_country_flag = afr_reforming_regional_power_has_military_industry
			add_to_variable = { var = afr_reforming_regional_power_construction_in_progress value = -1 }
		}
	}

	# ----------------------------------
	# Modern Cities Decisions
	# ----------------------------------
	afr_reforming_regional_power_regional_infrastructure = {
		icon = generic_form_nation
		ai_will_do = { factor = 1 }
		available = {
			has_country_flag = afr_reforming_regional_power_regional_infrastructure_decision_flag
			exists = yes
		}
		allowed = {
			OR = {
				afr_is_tribal_allowed = yes
				oceania_is_tribal_allowed = yes
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
		}

		visible = {
			has_country_flag = afr_reforming_regional_power_regional_infrastructure_focus
		}

		fire_only_once = yes

		cost = 0

		complete_effect = {
			set_country_flag = afr_reforming_regional_power_regional_infrastructure_completed

		}
	}

	afr_reforming_regional_power_regional_infrastructure_decision = {
		ai_will_do = { factor = 1 }
		available = {
			hidden_trigger = {
				has_country_flag = finish_afr_reforming_regional_power_regional_infrastructure_decision_mission
			}
		}

		#allowed = {
		#	has_country_flag = afr_reforming_regional_power_regional_infrastructure_decision_mission
		#}
		activation = {
			has_country_flag = afr_reforming_regional_power_regional_infrastructure_decision_mission
		}
		selectable_mission = no
		is_good = no
		cancel_trigger = {
			hidden_trigger = {
				always = no
			}
		}
		allowed = {
			OR = {
				afr_is_tribal_allowed = yes
				oceania_is_tribal_allowed = yes
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
		}

		visible = {
			has_country_flag = afr_reforming_regional_power_regional_infrastructure_decision_mission
		}

		#fire_only_once = no

		#cost = 1

		days_mission_timeout = 900

		#modifier = {
		#	political_power_cost = 0.1
		#}

		complete_effect = {
			clr_country_flag = afr_reforming_regional_power_regional_infrastructure_decision_mission
			if = {
				limit = {
					capital_scope = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
				}
				capital_scope = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					capital_scope = {
						free_building_slots = {
							building = infrastructure
							size < 1
						}
					}
				}
				random_owned_controlled_state ={
					limit = {
						is_capital = no
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = { TAG = ETH }
				custom_effect_tooltip = ETH_connect_the_villages_tooltip
				swap_ideas = {
					remove_idea=ETH_idea_isolated_villages
					add_idea = ETH_idea_isolated_villages_2
				}
			}
			set_country_flag = afr_reforming_regional_power_regional_infrastructure_decision_flag
		}
		timeout_effect = {
			clr_country_flag = afr_reforming_regional_power_regional_infrastructure_decision_mission
			if = {
				limit = {
					capital_scope = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
				}
				capital_scope = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					capital_scope = {
						free_building_slots = {
							building = infrastructure
							size < 1
						}
					}
				}
				random_owned_controlled_state ={
					limit = {
						is_capital = no
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = { TAG = ETH }
				custom_effect_tooltip = ETH_connect_the_villages_tooltip
				swap_ideas = {
					remove_idea=ETH_idea_isolated_villages
					add_idea = ETH_idea_isolated_villages_2
				}
			}
			set_country_flag = afr_reforming_regional_power_regional_infrastructure_decision_flag
		}
	}

	afr_reforming_regional_power_clear_development_decision = {

		available = {
			#custom_trigger_tooltip = {
			#	tooltip = afr_prosperity_mechanic_greater_than_10
			#		check_variable = {
			#		afr_prosperity_mechanic_value > 9
			#	}
			#}
			custom_trigger_tooltip = {
				tooltip = Ocenaia_has_insufficient_infrastructure_to_support_new_buildings
				all_owned_state = {
					if = {
						limit = {
							is_core_of = ROOT
						}
						is_core_of = ROOT
						Oceania_infrastructure_for_extra_building_slots_trigger = no
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = Ocenaia_has_infrastructure_to_support_clearing_land
				any_owned_state = {
					Oceania_infrastructure_for_clearing_building_slots_trigger = yes
					is_core_of = ROOT
				}
			}
			custom_trigger_tooltip = {
				tooltip = afr_prosperity_mechanic_construction
				check_variable = { afr_reforming_regional_power_construction_in_progress < 1 }
			}
		}
		allowed = {
			OR = {
				afr_is_tribal_allowed = yes
				oceania_is_tribal_allowed = yes
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
		}

		visible = {
			all_owned_state = {
				if = {
					limit = {
						is_core_of = ROOT
					}
					is_core_of = ROOT
					Oceania_infrastructure_for_extra_building_slots_trigger = no
				}
			}
		}

		complete_effect = {
			add_political_power = -15
			#custom_effect_tooltip = afr_prosperity_mechanic_minus_10
			#add_to_variable = {
			#	var = afr_prosperity_mechanic_value
			#	value = -10
			#}
			set_country_flag = afr_prosperity_mechanic_construction_flag
		}

		days_remove = 30

		modifier = {
			political_power_cost = 0.1
		}


		remove_effect = {
			hidden_effect = {
				random_owned_controlled_state = {
					limit = {
						is_core_of = ROOT
						Oceania_infrastructure_for_clearing_building_slots_trigger = yes
					}
					add_to_variable = { Oceania_extra_state_shared_building_slots = -1 }
					add_extra_state_shared_building_slots = -1
				}
			}
			custom_effect_tooltip = Oceania_infrastructure_for_clearing_building_slots_tooltip
			clr_country_flag = afr_prosperity_mechanic_construction_flag
		}

		ai_will_do = {
			factor = 10
		}
	}

}