add_namespace = montenegro
add_namespace = MNT_herzegovina
add_namespace = OTO_battleofgrahovac
add_namespace = MNT_guide_gui
add_namespace = MNTclans
######## guide #########
country_event = {
	#border move outer montenegro mnt
	id = MNTclans.1
	title = MNTclans.1.t
	desc = MNTclans.1.d
	picture = GFX_event_test
	is_triggered_only = yes
	trigger = {
		tag = MNT
		controls_state = 1204
		has_country_flag = no_controll_of_outer_montenegro_mnt
		NOT = {	has_country_flag = controll_of_outer_montenegro_mnt }
	}
	hidden = yes
		option = {#
		name =  MNTclans.1.a
		
		}
	}
	
country_event = {
	#chose your complexity
	id = MNT_guide_gui.1
	title = MNT_guide_gui.1.t
	desc = MNT_guide_gui.1.d
	picture = GFX_event_test
	is_triggered_only = yes
	fire_only_once = yes

	option = {#keep easy mechanics
		name =  MNT_guide_gui.1.a
		ai_chance = { base = 0 }
		trigger = {
			has_game_rule = { rule = MNT_mechanic_complexity  option = DEFAULT }
		}
		set_global_flag = MNT_easy_mechanic_complexity
		mark_focus_tree_layout_dirty = yes
	}
	
	option = {#keep hard mechanics
		name =  MNT_guide_gui.1.b
		ai_chance = { base = 100 }
		trigger = {
			has_game_rule = { rule = MNT_mechanic_complexity  option = MNT_complex_mechanic }
		}
		set_global_flag = MNT_hard_mechanic_complexity
		mark_focus_tree_layout_dirty = yes
	}
}

country_event = {
	#border move outer montenegro mnt
	id = MNT_guide_gui.2
	title = MNT_guide_gui.2.t
	desc = MNT_guide_gui.2.d
	picture = GFX_event_test
	is_triggered_only = yes
	trigger = {
		tag = MNT
		controls_state = 1204
		has_country_flag = no_controll_of_outer_montenegro_mnt
		NOT = {	has_country_flag = controll_of_outer_montenegro_mnt }
	}
	hidden = yes
	option = {#
		name =  MNT_guide_gui.2.a
		clr_country_flag = no_controll_of_outer_montenegro_mnt
		set_country_flag = controll_of_outer_montenegro_mnt
		set_variable = {
			var = guide_gui_outer_mnt
			value = 1
		}
	}
}
	country_event = {
		#border move outer montenegro mnt
		id = MNT_guide_gui.3
		title = MNT_guide_gui.3.t
		desc = MNT_guide_gui.3.d
		picture = GFX_event_test
		is_triggered_only = yes

		trigger = {
			tag = MNT
			NOT = {controls_state = 1204}
			has_country_flag = controll_of_outer_montenegro_mnt
			NOT = {has_country_flag = no_controll_of_outer_montenegro_mnt }
		}

		hidden = yes
		option = {#
			name =  MNT_guide_gui.3.a
			clr_country_flag = controll_of_outer_montenegro_mnt
			set_country_flag = no_controll_of_outer_montenegro_mnt
			set_variable = {
				var = guide_gui_outer_mnt
				value = 2
			}
		}
	}
###################################
######## before grahovac ##########
###################################
country_event = {
	#escalation on borders
	id = OTO_battleofgrahovac.1
	title = OTO_battleofgrahovac.1.t
	desc = OTO_battleofgrahovac.1.d
	picture = GFX_event_test
	fire_only_once = yes
	trigger = {
		tag = MNT
		check_variable = {
		var = montenegro_tension
		value = 10
		compare = greater_than_or_equals
			}
	}
		option = {#calm the situation
		name =  OTO_battleofgrahovac.1.a
		custom_effect_tooltip = MNT_lose_1_point
		custom_effect_tooltip = decrease_tension_by_5_t 
		add_to_variable = {
		var = MNT_neogotions
		value = -1
			}
		decrease_tension_by_5 = yes
		if = {
			limit = {
				tag = OTO
				}
				MNT = {
				country_event = OTO_battleofgrahovac.2
				}
			}
		if = {
			limit = {
				tag = MNT
				}
				OTO = {
				country_event = OTO_battleofgrahovac.2
				}
			}
		}
		
	option = {#to amrs
		name =  OTO_battleofgrahovac.1.b
		decrease_tension_by_2 = yes
		custom_effect_tooltip = start_border_war_t
			if = {
				limit = {
					tag = OTO
					}
				country_event = OTO_battleofgrahovac.12			
				}
		if = {
			limit = {
				tag = MNT
				}
				country_event = OTO_battleofgrahovac.13
			}
		}
	}
	
	country_event = {
	#MNT response
	id = OTO_battleofgrahovac.2
	title = OTO_battleofgrahovac.2.t
	desc = OTO_battleofgrahovac.2.d
	picture = GFX_event_test
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {#calm the situation
		name =  OTO_battleofgrahovac.2.a
		custom_effect_tooltip = MNT_lose_1_point
		custom_effect_tooltip = decrease_tension_by_5_t
		add_to_variable = {
		var = MNT_neogotions
		value = -1
			}
		decrease_tension_by_5 = yes
		}
		
	option = {#to arms
		name =  OTO_battleofgrahovac.2.b
		decrease_tension_by_2 = yes
			if = {
				limit = {
					tag = OTO
					}
				country_event = OTO_battleofgrahovac.12			
				}
		if = {
			limit = {
				tag = MNT
				}
				country_event = OTO_battleofgrahovac.13
			}
		}
	}
country_event = {
	#Vasojevíci revolt
	id = OTO_battleofgrahovac.3
	title = OTO_battleofgrahovac.3.t
	desc = OTO_battleofgrahovac.3.d
	picture = GFX_event_test
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = OTO_battleofgrahovac.3.a
		set_global_flag = MNT_vasojevici_clan_rebels
		can_add_clans_rebels_division_templates = yes
		set_variable = {
		var = vasojevici_angry
		value = 4		
		}
		MNT = {
		set_province_controller = 13779
		}
		add_to_variable = {
		var = herzegovina_rebels
		value = 200
		tooltip = add_200_rebels
        }
					1204 = {
					create_unit = {
					division = "name = \"Vasojevivi clan rebels\" division_template = \"clan rebels\" start_experience_factor = 1.0"
					owner = MNT
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 13779
				}
			}
		OTO = {
		set_province_controller = 13779
			}
		}
	}
	
	country_event = {
	#Kuči revolt
	id = OTO_battleofgrahovac.4
	title = OTO_battleofgrahovac.4.t
	desc = OTO_battleofgrahovac.4.d
	picture = GFX_event_test
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = OTO_battleofgrahovac.4.a
		set_global_flag = MNT_kuci_clan_rebels
		can_add_clans_rebels_division_templates = yes
		set_variable = {
		var = kuci_angry
		value = 4		
		}
		MNT = {
		set_province_controller = 11858
		}
		add_to_variable = {
		var = herzegovina_rebels
		value = 200
		tooltip = add_200_rebels
        }
					1204 = {
					create_unit = {
					division = "name = \"Kuči clan rebels\" division_template = \"clan rebels\" start_experience_factor = 1.0"
					owner = MNT
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 11858
				}
			}
		OTO = {
		set_province_controller = 11858
			}
		}
	}
	
	country_event = {
	#Grahovo revolt ( fire only from decision not in KDE ) 
	id = OTO_battleofgrahovac.5
	title = OTO_battleofgrahovac.5.t
	desc = OTO_battleofgrahovac.5.d
	picture = GFX_event_test
	fire_only_once = yes
	is_triggered_only = yes
	
		option = {
			name = OTO_battleofgrahovac.5.a
			set_global_flag = MNT_grahovo_clan_rebels
			can_add_clans_rebels_division_templates = yes
			MNT = {
				set_province_controller = 13779
			}
			add_to_variable = {
				var = herzegovina_rebels
				value = 200
				tooltip = add_200_rebels
			}
						1204 = {
							create_unit = {
								division = "name = \"Grahovo clan rebels\" division_template = \"clan rebels\" start_experience_factor = 0.75"
								owner = MNT
								allow_spawning_on_enemy_provs = yes
								prioritize_location = 13779
							}
						}
			OTO = {
				set_province_controller = 13779
			}
		}	
	}
	
	country_event = {
	#montenegro withold taxes
	id = OTO_battleofgrahovac.6
	title = OTO_battleofgrahovac.6.t
	desc = OTO_battleofgrahovac.6.desc
	picture = GFX_event_test
	is_triggered_only = yes
	
	option = {#send army
		name = OTO_battleofgrahovac.6.a
		custom_effect_tooltip = start_border_war_t
		OTO = { country_event = OTO_battleofgrahovac.12 }
	}
		
	option = {#we can't afford it.
		name = OTO_battleofgrahovac.6.b
		custom_effect_tooltip = MNT_increase_points_by_2
		MNT = {
			add_ideas = MNT_idea_withheld_taxes
			add_to_variable = {
				var = MNT.MNT_neogotions
				value = 2
				}
			}
		}
	}
	
country_event = {
	#Vukabro enters the stage
	id = OTO_battleofgrahovac.7
	title = OTO_battleofgrahovac.7.t
	desc = OTO_battleofgrahovac.7.desc
	picture = GFX_event_test
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = OTO_battleofgrahovac.7.a
		release = HRZ
		HRZ = {
			load_oob = "HRZ_1857"
			diplomatic_relation = {
				country = MNT
				relation = non_aggression_pact
				active = yes
			}
			diplomatic_relation = {
				country = SER
				relation = non_aggression_pact
				active = yes
			}
			add_manpower = 40000
			add_ideas = HRZ_uprising
		}
		declare_war_on = {
			target = HRZ
			type = annex_everything
		}
		activate_mission = BOS_HRZ_Bosnian_Uprising_Peace
		HRZ = {
			activate_mission = BOS_HRZ_Bosnian_Uprising_Peace
		}
			MNT = {
				country_event = {
					id = montenegro.50
				}
			}
		}
	}
country_event = {
	#Vukabro takes Sarajevo, more Serbs join him
	id = OTO_battleofgrahovac.8
	title = OTO_battleofgrahovac.8.t
	desc = OTO_battleofgrahovac.8.d
	picture = GFX_report_event_generic_read_write	#place holder for now
	fire_only_once = yes
	trigger = {
		tag = HRZ
		HRZ = {
			controls_province = 13876
		}
	}
	option = {
		#do it
		name = OTO_battleofgrahovac.7.a
		load_oob = "HRZ_1857"
	}
}
country_event = {
	#uprising in herzegovina 1857
	id = OTO_battleofgrahovac.9
	title = OTO_battleofgrahovac.9.t
	desc = OTO_battleofgrahovac.9.d
	picture = GFX_event_test
	fire_only_once = yes
	is_triggered_only = yes


	option = {
		name = OTO_battleofgrahovac.9.a
		if = {	
		 	limit = {
				has_global_flag = MNT_easy_mechanic_complexity
			}
			#
		}
		else_if = {
			limit = {
		 		has_global_flag = MNT_hard_mechanic_complexity
		 	}
			set_global_flag  = OTO_herzegovina_uprising_1857
			unlock_decision_category_tooltip = MNT_decision_category_Herzegovinian_uprising_1857
		 	activate_mission = OTO_mission_development_of_herzegovina_uprising_1857
		 	activate_mission = OTO_mission_herzegovina_uprising_1857_final	
		}
	}
}


	
	country_event = {
		#mision result herzegovina 1857 
		id = OTO_battleofgrahovac.10
		title = OTO_battleofgrahovac.10.t
		desc = OTO_battleofgrahovac.10.d
		picture = GFX_event_test
		is_triggered_only = yes
	
		#immediate = {
		#	hidden_effect = { add_manpower = MNT.herzegovina_losses }
		#}
	
		option = {
			name = OTO_battleofgrahovac.10.a
			add_manpower = MNT.herzegovina_losses
			activate_mission = OTO_mission_development_of_herzegovina_uprising_1857
			#effect_tooltip = { add_manpower = MNT.herzegovina_losses }	
			clear_variable = MNT.herzegovina_losses
		}
	}

	country_event = { #negotiate or continue
	#mision result herzegovina 1857 
	id = OTO_battleofgrahovac.11
	title = OTO_battleofgrahovac.11.t
	desc = OTO_battleofgrahovac.11.d
	picture = GFX_event_test
	is_triggered_only = yes
	
	option = { #No negotiation, no compromise, we can handle it.
		name = OTO_battleofgrahovac.11.a
		ai_chance = {
		base = 100
		modifier = {
			check_variable = {
			var = MNT.herzegovina_intesity
			value = 18
			compare = greater_than_or_equals
				}
		add = 50
		}
		modifier = {
			check_variable = {
			var = MNT.herzegovina_intesity
			value = 8
			compare = less_than_or_equals
					}
		add = -40
		}
	}
		activate_mission = OTO_mission_herzegovina_uprising_1857_final
		add_days_mission_timeout = {
		mission = OTO_mission_herzegovina_uprising_1857_final
		days = -120
			}
		clr_country_flag = OTO_total_loss
		clr_country_flag = OTO_loss
		clr_country_flag = OTO_disadvantage
		clr_country_flag = OTO_equilibrium
		clr_country_flag = OTO_adventage
		}
		
	option = { #neogotiation is neascerry 
		name = OTO_battleofgrahovac.11.b
		ai_chance = { 
		base = 50 
		 modifier = {
        set_temp_variable = { t = OTO.casualites }
        divide_temp_variable = { t = 100 }
        round_temp_variable = t
        add = t
    }
		}
		hidden_effect = {
			remove_mission = OTO_mission_development_of_herzegovina_uprising_1857
		}
		set_global_flag = montenegro_ottomans_neogotiations
			activate_mission = OTO_mission_mostar_conference
		MNT = {
			complete_national_focus = MNT_focus_negotiations_with_the_ottomans_n
			activate_mission = OTO_mission_mostar_conference
		}
		if = {
			limit = { 
				has_border_war = yes
				}
			cancel_border_war = {
			dont_fire_events = yes
			defender = 942
			attacker = 1204
				}
			cancel_border_war = {
			dont_fire_events = yes
			defender = 1204
			attacker = 942
				}
			}
		if = { 
			limit = { 
			has_country_flag = OTO_total_loss
			}
			custom_effect_tooltip = MNT_get_5_OTO_1
			add_to_variable = {
			var = OTO.MNT_neogotions
			value = 1
				}
			MNT = {
			add_to_variable = {
			var = MNT.MNT_neogotions
			value = 5
					}
				}
			}
			else_if = { 
				limit = { 
					has_country_flag = OTO_loss
				}
				custom_effect_tooltip = MNT_get_4_OTO_2
				add_to_variable = {
					var = OTO.MNT_neogotions
					value = 2
				}
				MNT = {
					add_to_variable = {
						var = MNT.MNT_neogotions
						value = 4
					}
				}
			}
			
			else_if = { 
				limit = { 
					has_country_flag = OTO_disadvantage
				}
				custom_effect_tooltip = MNT_get_3_OTO_3
				add_to_variable = {
					var = OTO.MNT_neogotions
					value = 3
				}
				MNT = {
					add_to_variable = {
						var = MNT.MNT_neogotions
						value = 3
					}
				} 			
			}
			else_if = { 
				limit = { 
					has_country_flag = OTO_equilibrium
				}
				custom_effect_tooltip = MNT_get_2_OTO_4
				add_to_variable = {
					var = OTO.MNT_neogotions
					value = 4
				}
				MNT = {
					add_to_variable = {
						var = MNT.MNT_neogotions
						value = 2
					}
				} 			
			}
			else_if = { 
				limit = { 
					has_country_flag = OTO_adventage
				}
				custom_effect_tooltip = MNT_get_1_OTO_5
				add_to_variable = {
					var = OTO.MNT_neogotions
					value = 5
				}
				MNT = {
					add_to_variable = {
						var = MNT.MNT_neogotions
						value = 1
					}
				} 			
			}
		clear_variable = MNT.herzegovina_intesity
		clear_variable = MNT.herzegovina_growth
		}
	}
	
	country_event = {
	#before border war OTO atacker
	id = OTO_battleofgrahovac.12
	title = OTO_battleofgrahovac.12.t
	desc = OTO_battleofgrahovac.12.d
	picture = GFX_event_test
	is_triggered_only = yes
	
	option = { #play honestly 
		name = OTO_battleofgrahovac.12.a
		ai_chance = { factor = 150 }
		MNT = {
			country_event = OTO_battleofgrahovac.14
		}
		custom_effect_tooltip = play_honestly
		set_country_flag = play_honestly_1
				start_border_war = {
				change_state_after_war = no
				attacker = {
					state = 1204
					num_provinces = 1
					on_win = OTO_battleofgrahovac.20
					on_cancel = OTO_battleofgrahovac.21
					on_lose = OTO_battleofgrahovac.22
					modifier = 0.1
					}	
			defender = {
					state = 942
					num_provinces = 1
					on_win = OTO_battleofgrahovac.20
					on_cancel =	OTO_battleofgrahovac.21	
					on_lose = OTO_battleofgrahovac.22		
					}
				}
			}
		
	option = { #play dishonestly 
		name = OTO_battleofgrahovac.12.b
		ai_chance = { factor = 150 }
		MNT = {
			country_event = OTO_battleofgrahovac.14
		}
		custom_effect_tooltip = play_dishonestly
		set_country_flag = play_dishonestly_1
				start_border_war = {
					change_state_after_war = no
				attacker = {
					state = 1204
					num_provinces = 1
					on_win = OTO_battleofgrahovac.20
					on_cancel = OTO_battleofgrahovac.21
					on_lose = OTO_battleofgrahovac.22
					modifier = 0.2
					}	
			defender = {
					state = 942
					num_provinces = 1
					on_win = OTO_battleofgrahovac.20
					on_cancel = OTO_battleofgrahovac.21
					on_lose = OTO_battleofgrahovac.22			
					}
				}
			}
		}
	
	country_event = {
	#before border war MNT atacker
	id = OTO_battleofgrahovac.13
	title = OTO_battleofgrahovac.13.t
	desc = OTO_battleofgrahovac.12.d
	picture = GFX_event_test
	is_triggered_only = yes
	
	option = { #play honestly 
		name = OTO_battleofgrahovac.13.a
		ai_chance = { factor = 150 }
		MNT_attack_border_war_honestly = yes
		custom_effect_tooltip = play_honestly
		}
		
	option = { #play dishonestly 
		name = OTO_battleofgrahovac.13.b
		ai_chance = { factor = 150 }
		MNT_attack_border_war_dishonestly = yes	
		custom_effect_tooltip = play_dishonestly
		}
	}
	
	country_event = {
	#before border war defender side
	id = OTO_battleofgrahovac.14
	title = OTO_battleofgrahovac.14.t
	desc = OTO_battleofgrahovac.14.d
	picture = GFX_event_test
	is_triggered_only = yes
	
	option = { #play honestly 
		name = OTO_battleofgrahovac.14.a
		ai_chance = { factor = 150 }
		custom_effect_tooltip = play_honestly
		if = {
			limit = { tag = MNT }
			MNT_defend_border_war_honestly = yes
			}
		if = { 
			limit = { tag = OTO }
			set_country_flag = play_honestly_1
				set_border_war_data = {
				attacker = 942
				defender = 1204
				defender_modifier = 0.1
				combat_width = 100
				}
			}
		}
		
	option = { #play dishonestly 
		name = OTO_battleofgrahovac.14.b
		ai_chance = { factor = 150 }
		custom_effect_tooltip = play_dishonestly
			if = {
			limit = { tag = MNT }
			MNT_defend_border_war_dis_honestly = yes
			}
			if = { 
			limit = { tag = OTO }
			set_country_flag = play_dishonestly_1
				set_border_war_data = {
				attacker = 942
				defender = 1204
				defender_modifier = 0.2
				combat_width = 100
				}
			}
		}
	}
	country_event = {
	#other state declared war 
	id = OTO_battleofgrahovac.15
	title = OTO_battleofgrahovac.15.t
	desc = OTO_battleofgrahovac.15.d
	picture = GFX_event_test
	is_triggered_only = yes
	
	option = { 
		name = OTO_battleofgrahovac.15.a
		ai_chance = { factor = 150 }
			effect_tooltip = {
				FRA = {	country_event = OTO_battleofgrahovac.39 }
				RUS = {	country_event = OTO_battleofgrahovac.39 }
				AUS = {	country_event = OTO_battleofgrahovac.39 }
			}
		}
	}
	
	country_event = {
	#other state agreed
	id = OTO_battleofgrahovac.16
	title = OTO_battleofgrahovac.16.t
	desc = OTO_battleofgrahovac.16.d
	picture = GFX_event_test
	is_triggered_only = yes
	hidden = yes
	
	option = { 
		name = OTO_battleofgrahovac.16.a
		ai_chance = { factor = 150 }
		
			if = { 
				limit = { 
					has_global_flag = MNT_agreed  
					has_global_flag = OTO_agreed
				}
				OTO = {
					country_event = OTO_battleofgrahovac.33 #real effect have only MNT, OTO show only tooltip
				}
				MNT = {
					country_event = OTO_battleofgrahovac.33
				}
			}	
			else_if = {
				limit = {
					OR = {
						NOT = { has_global_flag = MNT_agreed }
						NOT = { has_global_flag = OTO_agreed }
					}
				}
				set_global_flag = MNT_war_1858
				OTO = {
					activate_mission = MNT_OTO_mission_war_1858
				}
				MNT = {
					activate_mission = MNT_OTO_mission_war_1858
				}
				set_variable = {
					var = OTO.available_lives
					value = 4
				}
				set_variable = {
					var = MNT.available_lives
					value = 4
				}
				add_to_variable = {
					var = OTO.OTO_max_limit
					value = 1
				}
				FRA = {	country_event = OTO_battleofgrahovac.39 }
				RUS = {	country_event = OTO_battleofgrahovac.39 }
				AUS = {	country_event = OTO_battleofgrahovac.39 }
					if = {
						limit = {
							has_global_flag = OTO_agreed
						}
						OTO = {
							country_event = OTO_battleofgrahovac.15 #only inform about the facts , other state declare war
						}
					}
					else_if = {
						limit = {
							NOT = { has_global_flag = OTO_agreed }
						}
						OTO = {
							country_event = OTO_battleofgrahovac.32 #real effect have only MNT, OTO show only tooltip
						}
					}
					
					
					if = {
						limit = {
							has_global_flag = MNT_agreed
						}
						MNT = {
							country_event = OTO_battleofgrahovac.15 #only inform about the facts , other state declare war
						}
					}
					else_if = {
						limit = {
							NOT = { has_global_flag = MNT_agreed }
						}
						MNT = {
							country_event = OTO_battleofgrahovac.32 #real effect have only MNT, OTO show only tooltip
						}
					}
				}		
			}
		}
	
	country_event = {
		#ottomans_absolutely_lost
		id = OTO_battleofgrahovac.17
		title = OTO_battleofgrahovac.17.t
		desc = OTO_battleofgrahovac.17.d
		picture = GFX_event_test
		is_triggered_only = yes
		
		option = { 
			name = OTO_battleofgrahovac.17.a
			ai_chance = { base = 100 }
			MNT = {
				complete_national_focus =  MNT_the_ottomans_obsolutely_lost
			}
		}
	}

	country_event = {
		#failure of the uprising
		id = OTO_battleofgrahovac.18
		title = OTO_battleofgrahovac.18.t
		desc = OTO_battleofgrahovac.18.d
		picture = GFX_event_test
		is_triggered_only = yes
		
		option = { 
			name = OTO_battleofgrahovac.18.a
			ai_chance = { base = 100 }
			MNT = {
				complete_national_focus = MNT_focus_failure_of_the_revolt
			}
		}
	}
	
	country_event = {
	#Vukalovic moves
	id = OTO_battleofgrahovac.19
	title = OTO_battleofgrahovac.19.t
	desc = OTO_battleofgrahovac.19.d
	picture = GFX_event_test
	is_triggered_only = yes
	
	option = { 
		name = OTO_battleofgrahovac.19.a
		ai_chance = { factor = 150 }
		}
		option = { 
		name = OTO_battleofgrahovac.19.b
		ai_chance = { factor = 150 }
		}
	}
	#############################
	####### border wars #########
	#############################
	
	country_event = {
	#win border war
	id = OTO_battleofgrahovac.20
	title = OTO_battleofgrahovac.20.t
	desc = OTO_battleofgrahovac.20.d
	picture = GFX_event_test
	is_triggered_only = yes
	
	option = { #play you honestly yes or no ?
		name = OTO_battleofgrahovac.20.a
		ai_chance = { factor = 150 }
		if = {
			limit = {
				has_country_flag = play_honestly_1
			}
			custom_effect_tooltip = MNT_add_2_point_honestly
			add_to_variable = {
			var = MNT_neogotions
			value = 2
				}
				clr_country_flag = play_honestly_1
		}
		else_if = {
			limit = {
				has_country_flag = play_dishonestly_1
				}
			custom_effect_tooltip = MNT_add_1_point
			add_to_variable = {
			var = MNT_neogotions
			value = 1
				}
				clr_country_flag = play_dishonestly_1
			}
		}
	}
	
	country_event = {
	#cancel border war
	id = OTO_battleofgrahovac.21
	title = OTO_battleofgrahovac.21.t
	desc = OTO_battleofgrahovac.21.d
	picture = GFX_event_test
	is_triggered_only = yes
	
	option = { #play you honestly yes or no ?
		name = OTO_battleofgrahovac.21.a
		ai_chance = { factor = 150 }
			if = {
				limit = {
					has_country_flag = MNT_easy_mechanic_complexity
				}
				if = {
					limit = {
						OR = {
							NOT = { has_completed_focus = MNT_focus_recognize_our_status_under_the_ottomans_easy_mechanic }
							NOT = { has_completed_focus = MNT_focus_strike_a_deal_with_the_ottomans_easy_mechanic }
							NOT = { has_completed_focus = MNT_focus_the_mostar_convention_easy_mechanic }
						}
					}
				}
				complete_national_focus = MNT_focus_strike_a_deal_with_the_ottomans_easy_mechanic
			}
		clr_country_flag = play_honestly_1
		clr_country_flag = play_dishonestly_1
		}
	}
	
	country_event = {
	#defeat border war
	id = OTO_battleofgrahovac.22
	title = OTO_battleofgrahovac.22.t
	desc = OTO_battleofgrahovac.22.d
	picture = GFX_event_test
	is_triggered_only = yes
	
	option = { #play you honestly yes or no ?
		name = OTO_battleofgrahovac.22.a
		ai_chance = { factor = 150 }
		if = {
			limit = {
				has_country_flag = play_honestly_1
			}
			custom_effect_tooltip = MNT_lose_1_point
			add_to_variable = {
			var = MNT_neogotions
			value = -1
				}
				clr_country_flag = play_honestly_1
		}
		else_if = {
			limit = {
				has_country_flag = play_dishonestly_1
				}
			custom_effect_tooltip = MNT_lose_2_point_disohonestly
			add_to_variable = {
			var = MNT_neogotions
			value = -2
				}
				clr_country_flag = play_dishonestly_1
			}
		}
	}
###################
### MNT OTO war ###
###################
	country_event = {#Negotiations failed
	id = OTO_battleofgrahovac.23
	title = OTO_battleofgrahovac.23.t
	desc = OTO_battleofgrahovac.23.d
	picture = GFX_event_test
	is_triggered_only = yes
	
	option = {#to arms
		name = OTO_battleofgrahovac.23.a
		ai_chance = { factor = 150 }
		if = {
			limit = {
				tag = OTO
				}
		declare_war_on = {
			target = MNT
			type = annex_everything
		}
		FRA = {	country_event = OTO_battleofgrahovac.39 }
		RUS = {	country_event = OTO_battleofgrahovac.39 }
		AUS = {	country_event = OTO_battleofgrahovac.39 }
		set_variable = {
			var = OTO.OTO_max_limit
			value = 1
			}
		}
		set_global_flag = MNT_war_1858
		activate_mission = MNT_OTO_mission_war_1858
		set_variable = {
		var = OTO.available_lives
		value = 4
			}
		set_variable = {
		var = MNT.available_lives
		value = 4
			}
		}
	}
	
	country_event = {#conditions from mostar
	id = OTO_battleofgrahovac.24
	title = OTO_battleofgrahovac.24.t
	desc = OTO_battleofgrahovac.24.d
	picture = GFX_event_test
	is_triggered_only = yes
	
	option = { #we agree
		name = OTO_battleofgrahovac.24.a
		ai_chance = { factor = 150 }
		if = { 
			limit = {
				tag = MNT
				}
			set_global_flag = MNT_agreed
		}
		if = { 
			limit = {
				tag = OTO
				}
			set_global_flag = OTO_agreed
		}
	}
		option = { #to arms
		name = OTO_battleofgrahovac.24.b
		ai_chance = { factor = 150 }
		}
	}
	
	country_event = {#foregin power make diplomatic pressure on us
		id = OTO_battleofgrahovac.25
		title = OTO_battleofgrahovac.25.t
		desc = OTO_battleofgrahovac.25.d
		picture = GFX_event_test
		is_triggered_only = yes
	
		option = { #
			name = OTO_battleofgrahovac.25.a
			ai_chance = { factor = 150 }
			custom_effect_tooltip = MNT_decrease_lives
		}
	}
	
	country_event = {#montenegro didnť want indenpendence 
	id = OTO_battleofgrahovac.26
	title = OTO_battleofgrahovac.26.t
	desc = OTO_battleofgrahovac.26.d
	picture = GFX_event_test
	is_triggered_only = yes
	
	option = {#ok
		name = OTO_battleofgrahovac.26.a
		ai_chance = { factor = 150 }
		MNT = { country_event = OTO_battleofgrahovac.28 }
		custom_effect_tooltip = MNT_gain_2_if_we_agree
			}
		
		option = {#make them better offer
			name = OTO_battleofgrahovac.26.b
			ai_chance = { factor = 100 }
			MNT = {country_event = OTO_battleofgrahovac.27}
			custom_effect_tooltip = MNT_get_better_offer
		}
	}
	
	country_event = {#better offer from ottoman side
		id = OTO_battleofgrahovac.27
		title = OTO_battleofgrahovac.27.t
		desc = OTO_battleofgrahovac.27.d
		
		picture = GFX_event_test
		is_triggered_only = yes		
		fire_only_once = yes
		
		immediate = {
		add_to_variable = { 
			var = MNT.MNT_neogotions_indenpendence_price 
			value = -2
			}
		}
	
	option = { #we agree
		name = OTO_battleofgrahovac.27.a
		ai_chance = { factor = 150 }
		trigger = {
			check_variable = {
				var = MNT.MNT_neogotions
				value = MNT.MNT_neogotions_indenpendence_price
				compare = greater_than_or_equals
			}
		}
		MNT = {
			set_country_flag = { 
				flag = have_indenpendence_montengro	
				value = 3
			}
		}
		clr_country_flag = has_negotiations
		subtract_from_variable = {
		var = MNT.MNT_neogotions
		value = MNT.MNT_neogotions_indenpendence_price
		tooltip = purchase_independence
			}
		}
		option = { #we cant 
		name = OTO_battleofgrahovac.27.b
		ai_chance = { factor = 150 }
		MNT = {
			set_country_flag = { 
				flag = not_gained_independence	
				value = 1
			}
		}
		clr_country_flag = has_negotiations
		add_to_variable = {
			var = MNT.MNT_neogotions
			value = 2
			tooltip = MNT_gain_2
			}
		}
	} 
	
	country_event = {#MNT side
		id = OTO_battleofgrahovac.28
		title = OTO_battleofgrahovac.28.t
		desc = OTO_battleofgrahovac.28.d
		picture = GFX_event_test
		is_triggered_only = yes
	
		option = {#ok
			name = OTO_battleofgrahovac.28.a
			ai_chance = { factor = 150 }
			add_to_variable = {
				var = MNT.MNT_neogotions
				value = 2
			} 
			MNT = {
				set_country_flag = {
					flag = not_gained_independence	
					value = 1
				}
			clr_country_flag = has_negotiations
			}
		}
	}	
	
	
	country_event = {#montenegro didnť want new territory #OTO side
	id = OTO_battleofgrahovac.29
	title = OTO_battleofgrahovac.29.t
	desc = OTO_battleofgrahovac.29.d
	picture = GFX_event_test
	is_triggered_only = yes
	
	option = {#ok
		name = OTO_battleofgrahovac.29.a
		ai_chance = { factor = 150 }
		MNT = { country_event = OTO_battleofgrahovac.31 }
		custom_effect_tooltip = MNT_gain_3
			}
		
		option = {#make them better offer
		name = OTO_battleofgrahovac.29.b
		ai_chance = { factor = 100 }
		MNT = {country_event = OTO_battleofgrahovac.30}
		custom_effect_tooltip = MNT_get_better_offer
		}
	}
	
	country_event = {#better offer from ottoman side #MNT side
		id = OTO_battleofgrahovac.30
		title = OTO_battleofgrahovac.30.t
		desc = OTO_battleofgrahovac.30.d
		picture = GFX_event_test
		is_triggered_only = yes

		immediate = {
			add_to_variable = { 
				var = MNT.MNT_neogotions_new_territoy_price 
				value = 2
			}
		}
	
		option = { #we agree
			name = OTO_battleofgrahovac.30.a
			ai_chance = { factor = 150 }

			trigger = {
				check_variable = {
					var = MNT.MNT_neogotions
					value = MNT.MNT_neogotions_new_territoy_price
					compare = greater_than_or_equals
				}
			}
			MNT = {
				set_country_flag = { 
					flag = have_outer_montenegro	
					value = 1
				}
			}
			clr_country_flag = has_negotiations
			subtract_from_variable = {
			var = MNT.MNT_neogotions
			value = MNT.MNT_neogotions_new_territoy_price
			tooltip = purchase_new_territory
				}
		}

		option = { #we cant 
			name = OTO_battleofgrahovac.30.b
			ai_chance = { factor = 150 }

			set_country_flag = { 
				flag = not_gained_outer_montenegro	
				value = 1
			}
			clr_country_flag = has_negotiations
			add_to_variable = {
			var = MNT.MNT_neogotions
			value = 3
				}
		}
	} 
	
	country_event = {#MNT side
	id = OTO_battleofgrahovac.31
	title = OTO_battleofgrahovac.31.t
	desc = OTO_battleofgrahovac.31.d
	picture = GFX_event_test
	is_triggered_only = yes
	
	option = {#ok
		name = OTO_battleofgrahovac.31.a
		ai_chance = { factor = 150 }
		MNT = {
			set_country_flag = { 
				flag = not_gained_outer_montenegro	
				value = 1
			}
		}
		clr_country_flag = has_negotiations
		add_to_variable = {
		var = MNT.MNT_neogotions
		value = 3
		tooltip = MNT_gain_3
			}
		}
	}
	country_event = {#war is hear
	id = OTO_battleofgrahovac.32
	title = OTO_battleofgrahovac.32.t
	desc = OTO_battleofgrahovac.32.d
	picture = GFX_event_test
	is_triggered_only = yes
	
		option = {#ok
			name = OTO_battleofgrahovac.32.a
			ai_chance = { factor = 150 }
		
			effect_tooltip = {
				FRA = {	country_event = OTO_battleofgrahovac.39 }
				RUS = {	country_event = OTO_battleofgrahovac.39 }
				AUS = {	country_event = OTO_battleofgrahovac.39 }
			}
			if = {
				limit = {
					NOT = {has_global_flag = MNT_agreed}
					NOT = {has_global_flag = OTO_agreed}
				}
				OTO = {
					declare_war_on = {
						target = MNT
						type = annex_everything
					}
				}
			}
			else_if = {
				limit = {
					tag = MNT
				}
				declare_war_on = {
					target = OTO
					type = annex_everything
				}
			}
			else_if = {
				limit = {
					tag = OTO
				}
				declare_war_on = {
					target = MNT
					type = annex_everything
				}
			}
		}
	}
	
	country_event = {#succes of neogotiations
	id = OTO_battleofgrahovac.33
	title = OTO_battleofgrahovac.33.t
	desc = OTO_battleofgrahovac.33.d
	picture = GFX_event_test
	is_triggered_only = yes
	
	option = {#ok
		name = OTO_battleofgrahovac.33.a
		ai_chance = { factor = 150 }
		MNT = { complete_national_focus = MNT_focus_recognize_our_status_under_the_ottomans_n }
		if = { 
			limit = {
				tag = MNT
				}
				MNT_mostar_conditions = yes
			}
		if = { 
			limit = {
				tag = OTO
				}
				effect_tooltip = { MNT_mostar_conditions = yes }
			}
		}
	}
	
	country_event = {#MNT win war
	id = OTO_battleofgrahovac.34
	title = OTO_battleofgrahovac.34.t
	desc = OTO_battleofgrahovac.34.d
	picture = GFX_event_test
	is_triggered_only = yes
	
	option = {
		name = OTO_battleofgrahovac.34.a
		ai_chance = { factor = 150 }
		}
	}
	country_event = {#OTO win war
	id = OTO_battleofgrahovac.35
	title = OTO_battleofgrahovac.35.t
	desc = OTO_battleofgrahovac.35.d
	picture = GFX_event_test
	is_triggered_only = yes
	
	option = {
		name = OTO_battleofgrahovac.35.a
		ai_chance = { factor = 150 }
		}
	}
	
	country_event = {#OTO have too much division in montenegro region
		id = OTO_battleofgrahovac.36
		title = OTO_battleofgrahovac.36.t
		desc = OTO_battleofgrahovac.36.d
		picture = GFX_event_test
		fire_only_once = yes
		
	trigger = {
		has_active_mission = MNT_OTO_mission_war_1858
		division_limit_WAR_1858 = yes #must have variable OTO.OTO_max_limit from event OTO_battleofgrahovac.23 or 32
		}
		
	immediate = {
		activate_mission = MNT_OTO_war_1858_time_to_withdraw_units
		set_country_flag = first_Alert
		set_country_flag = {
			flag = spam_coldown
			days = 22
			}	
	}
	
	option = {
		name = OTO_battleofgrahovac.36.a
		ai_chance = { factor = 150 }
		effect_tooltip = { activate_mission = MNT_OTO_war_1858_time_to_withdraw_units }
		}
	}
	
	country_event = {#OTO have too much division in montenegro region
		id = OTO_battleofgrahovac.37
		title = OTO_battleofgrahovac.37.t
		desc = OTO_battleofgrahovac.37.d
		picture = GFX_event_test
		fire_only_once = yes	
		
	trigger = {
		has_country_flag = first_Alert
		NOT = { has_country_flag = spam_coldown }
		division_limit_WAR_1858 = yes
		has_active_mission = MNT_OTO_mission_war_1858
		}
		
		immediate = {
			activate_mission = MNT_OTO_war_1858_time_to_withdraw_units
			set_country_flag = second_Alert
			set_country_flag = {
			flag = spam_coldown
			days = 22
			}
		}
		
		option = {
			name = OTO_battleofgrahovac.37.a
			ai_chance = { factor = 150 }
			effect_tooltip = { activate_mission = MNT_OTO_war_1858_time_to_withdraw_units }
		}
	}
	
	country_event = {#OTO have too much division in montenegro region
		id = OTO_battleofgrahovac.38
		title = OTO_battleofgrahovac.38.t
		desc = OTO_battleofgrahovac.38.d
		picture = GFX_event_test
		fire_only_once = yes		
		
	trigger = {
		has_country_flag = second_Alert
		NOT = { has_country_flag = spam_coldown }
		division_limit_WAR_1858 = yes
		has_active_mission = MNT_OTO_mission_war_1858
	}
	
		immediate = {
			activate_mission = MNT_OTO_war_1858_time_to_withdraw_units
			set_country_flag = last_Alert
			set_country_flag = {
			flag = spam_coldown
			days = 22
			}
		}
		option = {
			name = OTO_battleofgrahovac.38.a
			ai_chance = { factor = 150 }
			effect_tooltip = { activate_mission = MNT_OTO_war_1858_time_to_withdraw_units }
		}
	}
	
	country_event = {#inform about war between MNT and OTO
		id = OTO_battleofgrahovac.39
		title = OTO_battleofgrahovac.39.t
		desc = OTO_battleofgrahovac.39.d
		picture = GFX_event_test
		fire_only_once = no
		is_triggered_only = yes
		

		option = {#you are neutral , only inform
			name = OTO_battleofgrahovac.39.a
			ai_chance = { factor = 150 }
			
			trigger = {
				OR = {
					check_variable = {
						france_support_to_MNT = 2
					}
					check_variable = {
						russia_support_to_MNT = 2
					}
					check_variable = {
						austria_support_to_MNT = 2
					}
				}
			}
			# do nothing
		}
		option = {#you are neutral , change support to MNT
			name = OTO_battleofgrahovac.39.b
			ai_chance = { factor = 150 }
			
			trigger = {
				OR = {
					check_variable = {
						france_support_to_MNT = 2
					}
					check_variable = {
						russia_support_to_MNT = 2
					}
					check_variable = {
						austria_support_to_MNT = 2
					}
				}
			}
			support_montengro = yes
			if = {
				limit = {
					tag = FRA
			}
				set_variable = {
					var = france_support_to_MNT 
					value = 1 
				}
			}
			if = {
				limit = {
					tag = RUS
			}
				set_variable = {
					var = russia_support_to_MNT 
					value = 1 
				}
			}
			if = {
				limit = {
					tag = AUS
			}
				set_variable = {
					var = austria_support_to_MNT 
					value = 1 
				}
			}
		}
		
		option = {#you are neutral , change support to OTO
			name = OTO_battleofgrahovac.39.c
			ai_chance = { factor = 150 }
			
			trigger = {
				OR = {
					check_variable = {
						france_support_to_MNT = 2
					}
					check_variable = {
						russia_support_to_MNT = 2
					}
					check_variable = {
						austria_support_to_MNT = 2
					}
				}
			}
			support_ottoman_empire = yes
			if = {
				limit = {
					tag = FRA
			}
				set_variable = {
					var = france_support_to_MNT 
					value = 3
				}
			}
			if = {
				limit = {
					tag = RUS
			}
				set_variable = {
					var = russia_support_to_MNT 
					value = 3
				}
			}
			if = {
				limit = {
					tag = AUS
			}
				set_variable = {
					var = austria_support_to_MNT 
					value = 3
				}
			}
		}
		option = {#you are OTO suporter , change status to neutral
			name = OTO_battleofgrahovac.39.e
			ai_chance = { factor = 150 }
			
			trigger = {
				OR = {
					check_variable = {
						france_support_to_MNT = 3
					}
					check_variable = {
						russia_support_to_MNT = 3
					}
					check_variable = {
						austria_support_to_MNT = 3
					}
				}
			}
			stop_support_ottoman_empire = yes
			if = {
				limit = {
					tag = FRA
			}
				set_variable = {
					var = france_support_to_MNT 
					value = 2
				}
			}
			if = {
				limit = {
					tag = RUS
			}
				set_variable = {
					var = russia_support_to_MNT 
					value = 2
				}
			}
			if = {
				limit = {
					tag = AUS
			}
				set_variable = {
					var = austria_support_to_MNT 
					value = 2
				}
			}
		}
		option = {#you are MNT suporter , change status to neutral
			name = OTO_battleofgrahovac.39.f
			ai_chance = { factor = 150 }
			
			trigger = {
				OR = {
					check_variable = {
						france_support_to_MNT = 1
					}
					check_variable = {
						russia_support_to_MNT = 1
					}
					check_variable = {
						austria_support_to_MNT = 1
					}
				}
			}
			stop_support_montengro = yes
			if = {
				limit = {
					tag = FRA
			}
				set_variable = {
					var = france_support_to_MNT 
					value = 2
				}
			}
			if = {
				limit = {
					tag = RUS
			}
				set_variable = {
					var = russia_support_to_MNT 
					value = 2
				}
			}
			if = {
				limit = {
					tag = AUS
			}
				set_variable = {
					var = austria_support_to_MNT 
					value = 2
				}
			}
		}
		option = {#suporter MNT , can decrease OTO limit
			name = OTO_battleofgrahovac.39.g
			ai_chance = { factor = 150 }
			
			trigger = {
				OR = {
					check_variable = {
						france_support_to_MNT = 1
					}
					check_variable = {
						russia_support_to_MNT = 1
					}
					check_variable = {
						austria_support_to_MNT = 1
					}
				}
			}
			if = {
				limit = {
					tag = FRA
				}
				set_global_flag = FRA_make_diplomatic_pressure_OTO
			}
			if = {
				limit = {
					tag = RUS
				}
				set_global_flag = RUS_make_diplomatic_pressure_OTO
			}
			if = {
				limit = {
					tag = AUS
				}
				set_global_flag = AUS_make_diplomatic_pressure_OTO
			}
			add_political_power = -30
			add_named_threat = {
				threat = 0.5
				name = diplomatic_pressure_OTO_MNT
			}
			MNT = {
				country_event = OTO_battleofgrahovac.25
				add_opinion_modifier = {
					target = FROM
					modifier = MNT_foregin_power_made_diplomatic_pressure
				}
			OTO = {
					add_opinion_modifier = {
					target = FROM
					modifier = 	OTO_foregin_power_made_diplomatic_pressure_on_us
				}
			}
			add_to_variable = {
				var = OTO.OTO_max_limit
				value = -1
				tooltip = OTO_decrease_max_limit
			}
		}
	}
		option = {#suporter OTO , can decrease MNT lives
			name = OTO_battleofgrahovac.39.h
			ai_chance = { factor = 150 }
			
			trigger = {
				OR = {
					check_variable = {
						france_support_to_MNT = 3
					}
					check_variable = {
						russia_support_to_MNT = 3
					}
					check_variable = {
						austria_support_to_MNT = 3
					}
				}
			}
			if = {
				limit = {
					tag = FRA
				}
				set_global_flag = FRA_make_diplomatic_pressure_MNT
			}
			if = {
				limit = {
					tag = RUS
				}
				set_global_flag = RUS_make_diplomatic_pressure_MNT
			}
			if = {
				limit = {
					tag = AUS
				}
				set_global_flag = AUS_make_diplomatic_pressure_MNT
			}
			add_political_power = -30
			add_named_threat = {
				threat = 0.5
				name = diplomatic_pressure_MNT_OTO
			}
			set_variable = { global.country_tag = FROM }
			MNT = {
				country_event = OTO_battleofgrahovac.25
				add_opinion_modifier = {
					target = FROM
					modifier = OTO_foregin_power_made_diplomatic_pressure_on_us
				}
			}
			OTO = {
					add_opinion_modifier = {
					target = FROM
					modifier = MNT_foregin_power_made_diplomatic_pressure
				}
			}
			add_to_variable = {
				var = MNT.available_lives
				value = -1
				tooltip = MNT_decrease_lives
			}
		}
	}
	
	
	country_event = {#OTO have too much division in montenegro region , other side
		id = OTO_battleofgrahovac.40
		title = OTO_battleofgrahovac.40.t
		desc = OTO_battleofgrahovac.40.d
		picture = GFX_event_tests
		fire_only_once = no
		is_triggered_only = yes
	
	option = {#if you are non-supporter of montenegro you can becoma as MNT funboy
		name = OTO_battleofgrahovac.40.a
		ai_chance = { factor = 150 }
		trigger = {
			OR = {
				check_variable = {
					france_support_to_MNT = 2
				}
				check_variable = {
					russia_support_to_MNT = 2
				}
				check_variable = {
					austria_support_to_MNT = 2
				}
			}
		}
		add_political_power = -30
		if = {
			limit = {
				tag = FRA
		}
			set_variable = {
				var = france_support_to_MNT 
				value = 1
			}
		}
		if = {
			limit = {
				tag = RUS
		}
			set_variable = {
				var = russia_support_to_MNT 
				value = 1
			}
		}
		if = {
			limit = {
				tag = AUS
			}
			set_variable = {
				var = austria_support_to_MNT 
				value = 1
			}
		}
	}
		
	option = {#do nothing
		name = OTO_battleofgrahovac.40.b
		ai_chance = { factor = 150 }
		
		}
	option = {#you are montenegro supporter send_diplomatic_protest - gain casus beli to send army
		name = OTO_battleofgrahovac.40.c
		ai_chance = { factor = 150 }
		trigger = {
			OR = {
				check_variable = {
					france_support_to_MNT = 1
				}
				check_variable = {
					russia_support_to_MNT = 1
				}
				check_variable = {
					austria_support_to_MNT = 1
				}
			}
		}
			add_political_power = -50
			add_to_variable = {
				var = casus_beli_on_OTO
				value = 1
				tooltip = casus_beli_on_OTO
			} 
			add_named_threat = {
				threat = 0.2
				name = make_casus_beli_on_OTO_threat	
			}
		}
	}
	
	country_event = {#borders_wars MNT suporter win OTO lose
	id = OTO_battleofgrahovac.41
	title = OTO_battleofgrahovac.41.t
	desc = OTO_battleofgrahovac.41.d
	picture = GFX_event_test
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = OTO_battleofgrahovac.41.a
		ai_chance = { factor = 150 }
		end_MNT_OTO_war_1858 = yes
		if = { 
			limit = {
				tag = RUS 
			}
				set_global_flag = RUS_win_grahovac
		}
		if = { 
			limit = {
				tag = FRA
			}
				set_global_flag = FRA_win_grahovac
		}
			if = {
				limit = {
					OR = {
						tag = RUS
						tag = FRA
					}
				}
				add_opinion_modifier = {
					target = MNT
					modifier = MNT_ready_to_fight_for_Montenegro
				}
			}
		MNT = { complete_national_focus = MNT_focus_strike_a_deal_with_the_ottomans_n }
			if = {
				limit = {
					tag = OTO
				}
				add_stability = -0.05
			}
		}
	}
	country_event = {#borders_wars MNT suporter lose OTO win
	id = OTO_battleofgrahovac.42
	title = OTO_battleofgrahovac.42.t
	desc = OTO_battleofgrahovac.42.d
	picture = GFX_event_test
	fire_only_once = yes
	is_triggered_only = no
	
	option = {
		name = OTO_battleofgrahovac.42.a
		ai_chance = { factor = 150 }
		end_MNT_OTO_war_1858 = yes
			if = {
				limit = {
					OR = {
						tag = RUS
						tag = FRA
					}
				}
				MNT = { complete_national_focus = MNT_focus_the_mostar_convention_n }
			}
			if = {
				limit = {
					tag = OTO
				}
			add_stability = 0.05
			}
		}
	}
	
	news_event = {#OTO lose by france 
		id = OTO_battleofgrahovac.43
		title = OTO_battleofgrahovac.43.t
		desc = OTO_battleofgrahovac.43.d
		picture = GFX_news_event_FRA_win_grahovac
		fire_only_once = yes
		is_triggered_only = no
	
		option = {
			name = OTO_battleofgrahovac.43.a
			ai_chance = { factor = 150 }
			clr_global_flag = MNT_war_1858
			hidden_effect = {
				if = {
					limit = {
						FRA = { owns_state = 44 }
					}
				FRA = {
					44 = {
						teleport_armies = {
						to_state = 21
					}
				}
			}
					OTO = { transfer_state = 44 }
				}
			}
		}
	}
	
	country_event = {#negotiations bonus ( sucesful negotiations ) and information
		id = OTO_battleofgrahovac.44
		title = OTO_battleofgrahovac.44.t
		desc = OTO_battleofgrahovac.44.d
		picture = GFX_event_test
		fire_only_once = yes
		is_triggered_only = no
	
		option = {
			name = OTO_battleofgrahovac.44.a
			ai_chance = { factor = 150 }
			if = {
				limit = {
					tag = FRA 
					FRA = {check_variable = { FRA.france_support_to_MNT = 1 }}
				}
				add_prestige_battle_of_grahovac	= yes
			}
			if = {
				limit = {
					tag = RUS
					RUS = {check_variable = { RUS.russia_support_to_MNT = 1 }}
				}
				add_prestige_battle_of_grahovac	= yes
			}
			if = {
				limit = {
					tag = AUS
					AUS = {check_variable = { AUS.austria_support_to_MNT = 1 }}
				}
				add_prestige_battle_of_grahovac	= yes
			}
			if = { 
				limit = { 
					tag = OTO 
				}
					set_temp_variable = {
						var = add_negotiations_bonus_OTO
						value = 0
					}
					add_to_temp_variable = { add_negotiations_bonus_OTO = deport_mirko_petrovic_njegos  }
					add_to_temp_variable = { add_negotiations_bonus_OTO = protect_muslim_landlords  }
					add_to_temp_variable = { add_negotiations_bonus_OTO = demanded_debt_repayment  }
					add_stability = add_negotiations_bonus_OTO
				}
			else_if = {
				limit = {
					NOT = { tag = OTO }
				}
				OTO_add_prestige_battle_of_grahovac_tooltip = yes
			}
		}
	}
	
	news_event = {#OTO win war against foregin power
		id = OTO_battleofgrahovac.45
		title = OTO_battleofgrahovac.45.t
		desc = OTO_battleofgrahovac.45.d
		picture = GFX_news_event_OTO_win_grahovac
		fire_only_once = no
		is_triggered_only = yes
	
		option = {
			name = OTO_battleofgrahovac.45.a
			ai_chance = { factor = 150 }
		}
	}
	
	news_event = {#russia win against ottomans empire
		id = OTO_battleofgrahovac.46
		title = OTO_battleofgrahovac.46.t
		desc = OTO_battleofgrahovac.46.d
		picture = GFX_news_event_RUS_win_grahovac
		fire_only_once = no
		is_triggered_only = yes
	
		option = {
			name = OTO_battleofgrahovac.46.a
			ai_chance = { factor = 150 }
		}
	}
	
	news_event = {#motenegro crisis end - MNT win in war against Ottoman empire
		id = OTO_battleofgrahovac.47
		title = OTO_battleofgrahovac.47.t
		desc = OTO_battleofgrahovac.47.d
		picture = GFX_news_event_MNT_win_grahovac
		fire_only_once = no
		is_triggered_only = yes
	
		option = {
			name = OTO_battleofgrahovac.47.a
			ai_chance = { factor = 150 }
		}
	}
	news_event = {#motenegro crisis end - OTO win in war against MNT
		id = OTO_battleofgrahovac.48
		title = OTO_battleofgrahovac.48.t
		desc = OTO_battleofgrahovac.48.d
		picture = GFX_news_event_OTO_win_grahovac
		fire_only_once = no
		is_triggered_only = yes
	
		option = {
			name = OTO_battleofgrahovac.48.a
			ai_chance = { factor = 150 }
		}
	}
	
		country_event = {#inform about planing invasion of france
		id = OTO_battleofgrahovac.49
		title = OTO_battleofgrahovac.49.t
		desc = OTO_battleofgrahovac.49.d
		picture = GFX_event_test
		fire_only_once = no
		is_triggered_only = yes
	
		option = {#make a concession
			name = OTO_battleofgrahovac.49.a
			ai_chance = { factor = 150 }
				add_to_variable = {
					var = OTO.available_lives
					value = -1
					tooltip = OTO_decrease_lives
				}
				add_political_power = -30
				add_war_support = -0.01
				FRA = {
					clear_variable = FRA.casus_beli_on_OTO
					country_event = OTO_battleofgrahovac.51
				}
		}
		option = {#do nothnig
			name = OTO_battleofgrahovac.49.b
			ai_chance = { factor = 150 }

		}
		option = {#prepare defense for invasion
			name = OTO_battleofgrahovac.49.c
			ai_chance = { factor = 150 }
			
		}
	}
		country_event = {#inform about planing invasion of russia
		id = OTO_battleofgrahovac.50
		title = OTO_battleofgrahovac.50.t
		desc = OTO_battleofgrahovac.50.d
		picture = GFX_event_test
		fire_only_once = no
		is_triggered_only = yes
	
		option = {#make a concession
			name = OTO_battleofgrahovac.50.a
			ai_chance = { factor = 150 }
				add_to_variable = {
					var = OTO.available_lives
					value = -1
					tooltip = OTO_decrease_lives
				}
				add_political_power = -30
				add_war_support = -0.01
				RUS = {
					clear_variable = RUS.casus_beli_on_OTO
					country_event = OTO_battleofgrahovac.51
				}
		}
		option = {#do nothnig
			name = OTO_battleofgrahovac.50.b
			ai_chance = { factor = 150 }

		}
		option = {#prepare for invasion
			name = OTO_battleofgrahovac.50.c
			ai_chance = { factor = 150 }

		}
	}
	
	country_event = {#inform about ottomans make concesion
		id = OTO_battleofgrahovac.51
		title = OTO_battleofgrahovac.51.t
		desc = OTO_battleofgrahovac.51.d
		picture = GFX_event_test
		fire_only_once = no
		is_triggered_only = yes
	
		option = {#it is good
			name = OTO_battleofgrahovac.51.a
			ai_chance = { factor = 150 }
			custom_effect_tooltip = OTO_make_concesion
		}
	}
	
		news_event = {#inform about succesfull neogotiations in mostar
		id = OTO_battleofgrahovac.52
		title = OTO_battleofgrahovac.52.t
		desc = OTO_battleofgrahovac.52.d
		picture = GFX_event_test
		fire_only_once = no
		is_triggered_only = yes
	
		option = {#
			name = OTO_battleofgrahovac.52.a
			ai_chance = { factor = 150 }
		}
	}
	
	country_event = {#ottomans have last alert ( OTO_battleofgrahovac.38)
		id = OTO_battleofgrahovac.53
		title = OTO_battleofgrahovac.53.t
		desc = OTO_battleofgrahovac.53.d
		picture = GFX_event_test
		fire_only_once = no
		is_triggered_only = yes
	
		option = {#you are non-supporter or suporter of montenegro you are become as MNT funboy and gain free casus beli again OTO
			name = OTO_battleofgrahovac.53.a
			ai_chance = { factor = 150 }
			trigger = {
				OR = {
					OR = {
						check_variable = {
							france_support_to_MNT = 1
						}
						check_variable = {
							france_support_to_MNT = 2
						}
					}
					OR = {
						check_variable = {
							russia_support_to_MNT = 1
						}
						check_variable = {
							russia_support_to_MNT = 2
						}
					}
					OR = {
						check_variable = {
							austria_support_to_MNT = 1
						}
						check_variable = {
							austria_support_to_MNT = 2
						}
					}
				}
			}
			if = {
				limit = {
					tag = FRA
				}
				set_variable = {
					var = france_support_to_MNT 
					value = 1
				}
				add_to_variable = {
					var = casus_beli_on_OTO
					value = 1
					tooltip = casus_beli_on_OTO
				}
				
			}
			if = {
				limit = {
					tag = RUS
				}
				set_variable = {
					var = russia_support_to_MNT 
					value = 1
				}
				add_to_variable = {
					var = casus_beli_on_OTO
					value = 1
					tooltip = casus_beli_on_OTO
				}
			}
			if = {
				limit = {
					tag = AUS
				}
				set_variable = {
					var = austria_support_to_MNT 
					value = 1
				}
				add_to_variable = {
					var = casus_beli_on_OTO
					value = 1
					tooltip = casus_beli_on_OTO
				}	
			}
		}
			
			option = {#you suporter of ottoman empire
			name = OTO_battleofgrahovac.53.b
			ai_chance = { factor = 150 }
			trigger = {
				OR = {
					check_variable = {
						france_support_to_MNT = 3
					}
					check_variable = {
						russia_support_to_MNT = 3
					}
					check_variable = {
						austria_support_to_MNT = 3
					}
				}
			}
				set_temp_variable = { eoanb_prestige_change = -3  }
				eoanb_change_prestige_score = yes
		}
		
		option = {
		name = OTO_battleofgrahovac.53.c
		ai_chance = { factor = 100 }
			trigger = {
				OR = {
					check_variable = {
						france_support_to_MNT = 3
					}
					check_variable = {
						russia_support_to_MNT = 3
					}
					check_variable = {
						austria_support_to_MNT = 3
					}
				}
			}
			if = {
				limit = {
					tag = FRA
				}
				set_variable = {
					var = france_support_to_MNT 
					value = 2
				}
			}
			if = {
				limit = {
					tag = RUS
				}
				set_variable = {
					var = russia_support_to_MNT 
					value = 2
				}
			}
			if = {
				limit = {
					tag = AUS
				}
				set_variable = {
					var = austria_support_to_MNT 
					value = 2
				}	
			}
		}
	}

	# MNT ask for some weapons #foregin side side
	country_event = {
		id = OTO_battleofgrahovac.54	
		title = OTO_battleofgrahovac.54.t
		desc = OTO_battleofgrahovac.54.d
		picture = GFX_report_event_generic_read_write
		
		is_triggered_only = yes
		fire_only_once = yes
		
		option = {#aprove
			name = OTO_battleofgrahovac.54.a
			ai_chance = { factor = 100 }
			if = {
				limit = {
					tag = FRA
				}
				MNT = { set_country_flag = FRA_increase_bop }
			}
			if = {
				limit = {
					tag = RUS
				}
				MNT = { set_country_flag = RUS_increase_bop }
			}

			send_equipment = {
				equipment = infantry_equipment
				amount = 100
				target = MNT
			}
			reverse_add_opinion_modifier = {
				target = MNT
				modifier = supported_montenegro_cause
			}
			reverse_add_opinion_modifier = {
				target = OTO
				modifier = interfering_in_Ottoman_affairs
			}
			add_to_variable = {
				var = MNT.montenegro_tension 
				value = 1
			}
			
			if = {
				limit = {
					tag = AUS
				}
				set_temp_variable = {
					var = temp_cost
					value = 5
				}
			}
			else = {
				set_temp_variable = {
					var = temp_cost
					value = 7
				}
			}

			set_temp_variable = { money_to_gain = temp_cost }
			add_money_with_inflation_included_with_tooltip_effect = yes

			hidden_effect = {
				multiply_temp_variable = {
					var = temp_cost
					value = -1
				}
				MNT = {
					set_temp_variable = { money_to_gain = temp_cost }
					add_money_with_inflation_included_with_tooltip_effect = yes
				}
			}
			MNT = { country_event = OTO_battleofgrahovac.55 }
		}

		option = {#disaprove
		name = OTO_battleofgrahovac.54.a
		ai_chance = { factor = 100 }
			reverse_add_opinion_modifier = {
				target = MNT
				modifier = refused_to_support_montenegro_cause
			}
			if = {
				limit = {
					tag = FRA
				}
				MNT = { set_country_flag = RUS_increase_bop }
			}
			if = {
				limit = {
					tag = RUS
				}
				MNT = { set_country_flag = FRA_increase_bop }
			}
		}
	}

	
	country_event = {#foregin side aprroved
		id = OTO_battleofgrahovac.55	
		title = OTO_battleofgrahovac.55.t
		desc = OTO_battleofgrahovac.55.d
		picture = GFX_report_event_generic_read_write
		
		is_triggered_only = yes
		fire_only_once = yes
		
		option = {#super
			name = OTO_battleofgrahovac.55.a
			ai_chance = { factor = 100 }
			effect_tooltip = {
				add_opinion_modifier = {
					target = MNT
					modifier = supported_montenegro_cause
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 100
					producer = FROM
				}
			}
			if = {
				limit = {
					has_country_flag = FRA_increase_bop
				}
				add_power_balance_value = {
					id = MNT_Balance_of_Power_foregin_interest
					value = -0.05
					tooltip_side = get_5_towards_FRA
				}
			}
			else_if = {
				limit = {
					has_country_flag = RUS_increase_bop
				}
				add_power_balance_value = {
					id = MNT_Balance_of_Power_foregin_interest
					value = 0.05
					tooltip_side = get_5_towards_RUS
				}
			}
		}
	}

	country_event = {#foregin side disaprroved
		id = OTO_battleofgrahovac.56	
		title = OTO_battleofgrahovac.56.t
		desc = OTO_battleofgrahovac.56.d
		picture = GFX_report_event_generic_read_write
		
		is_triggered_only = yes
		fire_only_once = yes
		
		option = {#super
			name = OTO_battleofgrahovac.56.a
			ai_chance = { factor = 100 }
			effect_tooltip = {
				add_opinion_modifier = {
					target = MNT
					modifier = refused_to_support_montenegro_cause
				}
			}
			if = {
				limit = {
					has_country_flag = FRA_increase_bop
				}
				add_power_balance_value = {
					id = MNT_Balance_of_Power_foregin_interest
					value = -0.05
					tooltip_side = lose_5_towards_RUS
				}
			}
			else_if = {
				limit = {
					has_country_flag = RUS_increase_bop
				}
				add_power_balance_value = {
					id = MNT_Balance_of_Power_foregin_interest
					value = 0.05
					tooltip_side = lose_5_towards_FRA
				}
			}
		}
	}

	
	#FRA AUS RUS OTO - montenegro revolt
	country_event = {
	id = montenegro.52
	title = montenegro.52.t
	desc = montenegro.52.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes

	option = { #support montenegro
		name = montenegro.52.a
		ai_chance = { factor = 150 }
		trigger = {
			OR = {
				tag = FRA
				tag = RUS
			}
		}
		
		support_montengro = yes

		if = {
			limit =  { tag = FRA }
		FRA = {
			add_political_power = -5
			set_variable = {
				var = FRA.france_support_to_MNT
				value = 1
				tooltip = support_montenegro
			}
		}
	}
		if = {
			limit =  { tag = RUS }
		RUS = {
			add_political_power = -10
			set_variable = {
				var = RUS.russia_support_to_MNT
				value = 1
				tooltip = support_montenegro
			}
		}
	}
}
		option = { #neutrality
		name = montenegro.52.b
		ai_chance = { factor = 150 }
		if = {
			limit =  { tag = FRA }
			FRA  = {
				set_variable = {
					var = FRA.france_support_to_MNT
					value = 2
					tooltip = MNT_neutrality
				}
			}
		}
		if = {
			limit =  { tag = RUS }
		RUS ={
			set_variable = {
				var = RUS.russia_support_to_MNT
				value = 2
				tooltip = MNT_neutrality
				}
			}
		}
		if = {
			limit =  { tag = AUS }
			AUS ={
				set_variable = {
					var = AUS.austria_support_to_MNT
					value = 2
					tooltip = MNT_neutrality
					}
				}
			}
		}
		option = { #support ottoman empire
		name = montenegro.52.c
		ai_chance = { factor = 150 }
		
			trigger = {
				OR = {
					tag = AUS
					tag = ENG
				}
			}
			support_ottoman_empire = yes
			if = {
				limit =  { tag = AUS }
				AUS = {
					add_political_power = -10
					set_variable = {
						var = AUS.austria_support_to_MNT
						value = 3
						tooltip = AUS_support_ottoman_empire
					}
				}
			}
		}
	}

##############################
######### needs sorting ######
##############################
	
country_event = {
	id = montenegro.1	#Clans event
	title = montenegro.1.t
	desc = montenegro.1.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = montenegro.1.a
		ai_chance = { factor = 100 }
	}
}

country_event = {
	id = montenegro.2	#Assassination event
	title = montenegro.2.t
	desc = montenegro.2.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = montenegro.2.a
		ai_chance = { factor = 100 }
		kill_country_leader = yes
		create_country_leader = {
			name = "Nikola I"
			desc = "POLITICS_NIKOLA_I_PETROVIC_DESC"
			picture = "gfx/leaders/MNT/Portrait_MNT_Nikola_I.png"
			expire = "1980.1.1"
			ideology = despotism
			traits = {
			}
		}
		#complete_national_focus = MNT_Assassination_Of_Knez_Danilo
		country_event = {
			id = montenegro.3
		}
	}
}

country_event = {
	id = montenegro.3	#Nikola I
	title = montenegro.3.t
	desc = montenegro.3.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = montenegro.3.a
		ai_chance = { factor = 100 }
	}
}

country_event = {
	id = montenegro.5	#War of 1862
	title = montenegro.5.t
	desc = montenegro.5.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = montenegro.5.a
		ai_chance = { factor = 100 }
		division_template = {
			name = "Clans Army njegoš"
			is_locked = yes
			division_cap = 0
			priority = 0
			template_counter = 0
			regiments = {
				irregular_infantry = {
					x = 0
					y = 0
				}
				irregular_infantry = {
					x = 0
					y = 1
				}
				irregular_infantry = {
					x = 0
					y = 2
				}
			}
		}
		942 = {
			create_unit = {
				division = "name = \"Njegoš Batalions\" division_template = \"Clans Army njegoš\" start_experience_factor = 0.7"
				owner = MNT
			}
		}
	}
}

country_event = {
	id = montenegro.6	#Visit Russia
	title = montenegro.6.t
	desc = montenegro.6.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = montenegro.6.a
		ai_chance = { factor = 100 }
	}
}

country_event = {
	id = montenegro.8	#Krivosije uprising
	title = montenegro.8.t
	desc = montenegro.8.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	fire_only_once = yes
	
	trigger = {
		tag = MNT
	}
	
	option = {
		name = montenegro.8.a
		ai_chance = { factor = 100 }
	}
}

country_event = {
	id = montenegro.9	#Danilovgrad
	title = montenegro.9.t
	desc = montenegro.9.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = montenegro.9.a
		ai_chance = { factor = 100 }
		942 = {
			add_extra_state_shared_building_slots = 1
		}
		942 = {
			add_manpower = 300
		}
		add_victory_points = {
			province = 9821
			value = 3
		}
		set_temp_variable = {
			eoanb_prestige_change = 3
		}
		eoanb_change_prestige_score = yes
	}
}

country_event = {
	#Kotor Bay Trade - Question
	id = montenegro.10
	title = montenegro.10.t
	desc = montenegro.10.d
	picture = GFX_report_event_second_vienna_award_pact
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = montenegro.10.a
		ai_chance = { factor = 80 }
		MNT = {
			country_event = {
				id = montenegro.11
				days = 10
			}
		}
	}
	option = {
		name = montenegro.10.b
		ai_chance = { factor = 20 }
		MNT = {
			country_event = {
				id = montenegro.12
				days = 10
			}
		}
	}
}

country_event = {
	#Kotor Bay Trade - Austria Accepted
	id = montenegro.11
	title = montenegro.11.t
	desc = montenegro.11.d
	picture = GFX_report_event_second_vienna_award_pact
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = montenegro.11.a
		ai_chance = { factor = 100 }
		add_ideas = MNT_Kotor_Bay_Trade
		add_opinion_modifier = {
			target = AUS
			modifier = small_increase
		}
		reverse_add_opinion_modifier = {
			target = AUS
			modifier = small_increase
		}
	}
}

country_event = {
	#Kotor Bay Trade - Austria Declined
	id = montenegro.12
	title = montenegro.12.t
	desc = montenegro.12.d
	picture = GFX_report_event_second_vienna_award_pact
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = montenegro.12.a
		ai_chance = { factor = 100 }
		add_political_power = -25
		add_stability = -0.03
		add_opinion_modifier = {
			target = AUS
			modifier = small_decrease
		}
		reverse_add_opinion_modifier = {
			target = AUS
			modifier = small_decrease
		}
	}
}

country_event = {
	#People's Census
	id = montenegro.13
	title = montenegro.13.t
	desc = montenegro.13.d
	picture = GFX_report_event_second_vienna_award_pact
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = montenegro.13.a
		ai_chance = { factor = 100 }
	}
}

country_event = {
	#Alaj-Barjak
	id = montenegro.14
	title = montenegro.14.t
	desc = montenegro.14.d
	picture = GFX_report_event_second_vienna_award_pact
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = montenegro.14.a
		ai_chance = { factor = 100 }
	}
}

country_event = {
	#State of Montenegrin Army
	id = montenegro.15
	title = montenegro.15.t
	desc = montenegro.15.d
	picture = GFX_report_event_second_vienna_award_pact
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = montenegro.15.a
		ai_chance = { factor = 100 }
	}
}

country_event = {
	#Army Band
	id = montenegro.16
	title = montenegro.16.t
	desc = montenegro.16.d
	picture = GFX_report_event_second_vienna_award_pact
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = montenegro.16.a
		ai_chance = { factor = 100 }
	}
}

country_event = {
	#Danilo Code's
	id = montenegro.17
	title = montenegro.17.t
	desc = montenegro.17.d
	picture = GFX_report_event_second_vienna_award_pact
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = montenegro.17.a
		ai_chance = { factor = 100 }
	}
}

country_event = {
	#Foreign Situation
	id = montenegro.18
	title = montenegro.18.t
	desc = montenegro.18.d
	picture = GFX_report_event_second_vienna_award_pact
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = montenegro.18.a
		ai_chance = { factor = 100 }
	}
}

country_event = {
	#Visit in France
	id = montenegro.19
	title = montenegro.19.t
	desc = montenegro.19.d
	picture = GFX_report_event_second_vienna_award_pact
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = montenegro.19.a
		ai_chance = { factor = 100 }
		FRA = {
			country_event = {
				days = 70
				id = montenegro.20
			}
		}
	}
}

country_event = {
	#Visit in France - French Protection
	id = montenegro.20
	title = montenegro.20.t
	desc = montenegro.20.d
	picture = GFX_report_event_second_vienna_award_pact
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		#We should do that!
		name = montenegro.20.a
		ai_chance = { factor = 70 }
		hidden_effect = {
			RUS = {
				country_event = {
					days = 20
					id = montenegro.21
				}
			}
		}
	}
	option = {
		#Leave it!
		name = montenegro.20.b
		ai_chance = { factor = 30 }
		add_opinion_modifier = {
			target = MNT
			modifier = large_decrease
		}
		reverse_add_opinion_modifier = {
			target = MNT
			modifier = large_decrease
		}
		MNT = {
			decrease_ps_by_one = yes
			add_political_power = -20
			add_stability = -0.1
		}
	}
}

country_event = {
	#Visit in France - Russia Informed
	id = montenegro.21
	title = montenegro.21.t
	desc = montenegro.21.d
	picture = GFX_report_event_second_vienna_award_pact
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		#Protest
		name = montenegro.21.a
		ai_chance = { factor = 90 }
		hidden_effect = {
			FRA = {
				country_event = {
					days = 20
					id = montenegro.22
				}
			}
			MNT = {
				country_event = {
					days = 20
					id = montenegro.22
				}
			}
		}
	}
	
	option = {
		#Leave them
		name = montenegro.21.b
		ai_chance = { factor = 10 }
	}
}

country_event = {
	#Visit in France - Respond to Russian Protest - Negative
	id = montenegro.22
	title = montenegro.22.t
	desc = montenegro.22.d
	picture = GFX_report_event_second_vienna_award_pact
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = montenegro.22.a
		ai_chance = { factor = 70 }
		if = {
			limit = {
				tag = FRA
			}
			add_opinion_modifier = {
				target = RUS
				modifier = large_decrease
			}
			reverse_add_opinion_modifier = {
				target = RUS
				modifier = large_decrease
			}
		}
		else_if = {
			limit = {
				tag = MNT
			}
			add_opinion_modifier = {
				target = RUS
				modifier = large_decrease
			}
			reverse_add_opinion_modifier = {
				target = RUS
				modifier = large_decrease
			}
		}
	}
}

country_event = {
	#Visit in France - Economy Help
	id = montenegro.23
	title = montenegro.23.t
	desc = montenegro.23.d
	picture = GFX_report_event_second_vienna_award_pact
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		#We should do that!
		name = montenegro.23.a
		ai_chance = { factor = 100 }
		unlock_decision_tooltip = MNT_decision_french_economy_help
	}
}

country_event = {
	#la_souverainete du montenegro
	id = montenegro.24
	title = montenegro.24.t
	desc = montenegro.24.d
	picture = GFX_report_event_second_vienna_award_pact
	
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		#
		name = montenegro.24.a
		ai_chance = { factor = 100 }
		custom_effect_tooltip = MNT_add_1_point
		MNT = {
		add_to_variable = {
		var = MNT.MNT_neogotions
		value = 1
				}
			}
		add_political_power = 15
		add_timed_idea = {
			idea = MNT_idea_la_souverainete_du_montenegro
			days = 180
		}
	}
}

country_event = {
	#book publiseh by henri delarue
	id = montenegro.25
	title = montenegro.25.t
	desc = montenegro.25.d
	picture = GFX_report_event_second_vienna_award_pact
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		#date = 1862.05.10
		name = montenegro.25.a
		ai_chance = { factor = 100 }
		add_political_power = 30
	}
}

country_event = {
	#Vukalović Uprising - Montenegro Support
	id = montenegro.26
	title = montenegro.26.t
	desc = montenegro.26.d
	picture = GFX_report_event_second_vienna_award_pact
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = montenegro.26.a
		ai_chance = { factor = 100 }
		add_opinion_modifier = {
			target = MNT
			modifier = MNT_Supported_Vukalovic
		}
		reverse_add_opinion_modifier = {
			target = MNT
			modifier = MNT_Supported_Vukalovic
		}
		add_war_support = -0.02
	}
}


country_event = {
	#ost deutsche post
	id = montenegro.27
	title = montenegro.27.t
	desc = montenegro.27.d
	picture = GFX_report_event_second_vienna_award_pact
	
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = montenegro.27.a
		ai_chance = { factor = 100 }
		custom_effect_tooltip = MNT_lose_1_point
		MNT = {
		add_to_variable = {
		var = MNT.MNT_neogotions
		value = -1
				}
			}
		add_political_power = -15
	}
}
country_event = {
	id = montenegro.28
	title = montenegro.28.t
	desc = montenegro.28.d
	picture = GFX_report_event_second_vienna_award_pact
	
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = montenegro.28.a
		ai_chance = { factor = 100 }
		
	}
}


country_event = {
	id = montenegro.33
	title = montenegro.33.t
	desc = montenegro.33.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = montenegro.33.a
		ai_chance = { factor = 100 }
		HRZ = {
			division_template = {
				name = "Jaroši Batalions"
				is_locked = yes
				regiments = {
					irregular_infantry = {
						x = 0
						y = 0
					}
					irregular_infantry = {
						x = 0
						y = 1
					}
				}
			}
			1205 = {
				create_unit = {
					division = "name = \"Jaroši Batalions\" division_template = \"Jaroši Batalions\"  start_experience_factor = 0.1"
					owner = HRZ
				}
				create_unit = {
					division = "name = \"Jaroši Batalions\" division_template = \"Jaroši Batalions\"  start_experience_factor = 0.1"
					owner = HRZ
				}
			}
		}
	}
}

country_event = {
	id = montenegro.34	# Danilo No Guaranteed Survival Option
	title = montenegro.34.t
	desc = montenegro.34.d
	picture = GFX_report_event_second_vienna_award_pact
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		NOT = {
			# has_country_flag = inset_same_country_flag
		}
	}
	
	option = {
		name = montenegro.34.a		# Dies
		ai_chance = { factor = 75 }
	}
	
	option = {
		name = montenegro.34.b		# 50/50
		ai_chance = { factor = 25 }
	}
}

country_event = {
	id = montenegro.35	# Danilo With Guaranteed Survival Option
	title = montenegro.35.t
	desc = montenegro.35.d
	picture = GFX_report_event_second_vienna_award_pact
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		# has_country_flag = inset_same_country_flag
	}
	
	option = {
		name = montenegro.35.a		# Dies
		ai_chance = { factor = 75 }
	}
	
	option = {
		name = montenegro.35.b		# 50/50
		ai_chance = { factor = 25 }
	}
	
	option = {
		name = montenegro.35.c		# Survives
		ai_chance = { factor = 50 }
	}
}

country_event = {
	#Bogišić Code
	id = montenegro.36
	title = montenegro.36.t
	desc = montenegro.36.d
	picture = GFX_report_event_second_vienna_award_pact
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = montenegro.36.a
		ai_chance = { factor = 100 }
	}
}

country_event = { #MNT lose OTO win
	id = montenegro.37
	title = montenegro.37.t
	desc = montenegro.37.d
		is_triggered_only  = yes
		fire_only_once = no
		
		option = { 
		name = montenegro.37.a
		ai_chance = { factor = 100 }
			if = { 
				limit = {
					tag = MNT
				}
				complete_national_focus = MNT_focus_the_mostar_convention_easy_mechanic
			}
			if = {
				limit = {
					tag = OTO
				}
			add_stability = 0.03
			number_of_OTO_supportest = yes
			add_to_temp_variable = { eoanb_prestige_change = 2 }
			eoanb_change_prestige_score = yes
		}
	}
}

country_event = {#foregin power can support MNT or OTO (event for foregin powers triggered by MNT_focus_guerrilla_war_easy_mechanic )
    id = montenegro.38
    title = montenegro.38.t
    desc = montenegro.38.d
    
    fire_only_once = no
    is_triggered_only = yes 
    
    option = { #support MNT
    name = montenegro.38.a
		ai_chance = { 
			base = 100
			modifier = { 
				OR = {
					tag = FRA
					tag = RUS
				}
			}
			factor = 2
		}
    	add_political_power = -30
    	set_variable = {
        	var = support_side
    		value = 1
            tooltip = support_MNT_side
    	}
    }
    
    option = { #do nothing
    name = montenegro.38.b
		ai_chance = { factor = 100 }
    }
    
    option = { #support OTO
    name = montenegro.38.c
		ai_chance = { 
			base = 100
			modifier = { 
					tag = AUS
			}
			factor = 2
		}
    	 add_political_power = -30
    	set_variable = {
        	var = support_side
    		value = 2
            tooltip = support_OTO_side
    	}
    }
}

    country_event = {#foregin power  get prestige 
    id = montenegro.39
    title = montenegro.39.t
    desc = montenegro.39.d
    
    fire_only_once = no
    is_triggered_only = yes 
    
    option = { #supporter of MNT
    name = montenegro.39.a
	ai_chance = { factor = 100 }
    	if = { 
    		limit = { 
    			MNT = { has_completed_focus = MNT_focus_strike_a_deal_with_the_ottomans_easy_mechanic }
    		}
    		if = {
    			limit = { 
					check_variable = { support_side = 1 }
				}			
    			set_temp_variable = { eoanb_prestige_change = 2 }
				eoanb_change_prestige_score = yes
    		}
    	if = {
    		limit = { 
					check_variable = { support_side = 2 }
    		}
    			set_temp_variable = { eoanb_prestige_change = -2 }
				eoanb_change_prestige_score = yes
			}
    	}
    	else_if = {
    		limit = {
    			MNT = { has_completed_focus = MNT_focus_the_mostar_convention_easy_mechanic }}
   	 if = { 
    		limit = { 
					check_variable = { support_side = 1 }
 			}
    			set_temp_variable = { eoanb_prestige_change = -2 }
				eoanb_change_prestige_score = yes
    	}
      if = { 
    	limit = { 
					check_variable = { support_side = 2 }
   	}
    			set_temp_variable = { eoanb_prestige_change = 2 }
				eoanb_change_prestige_score = yes
    	}
    	clear_variable = support_side
		}
	}
}

 
country_event = {#noegotions side of MNT ( triggered by MNT_focus_negotiations_with_the_ottomans_n_easy_mechanic ) to OTO it is ultimatum who MNT send
    id = montenegro.40
    title = montenegro.40.t
    desc = montenegro.40.d
    
    fire_only_once = yes
    is_triggered_only = yes 
    
    option = { #accept demands
    name = montenegro.40.a
		ai_chance = { factor = 100 }
		MNT = { complete_national_focus =  MNT_focus_path_of_peace_easy_mechanic }
		custom_effect_tooltip =  MNT_accept_demands
		add_stability = -0.02

		}
	option = { #need compromis
    name = montenegro.40.b
		ai_chance = { factor = 100 }
		MNT = { country_event =  montenegro.41 }
		custom_effect_tooltip = MNT_press_on_compromis

		}
	option = { #send army
    name = montenegro.40.c
		ai_chance = { factor = 100 }
		MNT = { country_event = montenegro.42 }
		custom_effect_tooltip = MNT_send_army
		add_stability = 0.02
		effect_tooltip = {#only to MNT see
			start_border_war = {
				change_state_after_war = no
				attacker = {
					state = 1204
					num_provinces = 1
					on_win = montenegro.37
					on_lose = montenegro.44
					on_cancel = montenegro.127 #Placeholder
					modifier = 0.1
				}
				defender = {
					state = 942
					num_provinces = 1
					on_win = montenegro.44
					on_lose = montenegro.37
					on_cancel = montenegro.127 #Placeholder
					modifier = 0.5
				}
			}
		}
	}
}
	
    country_event = {#noegotions side of MNT reaction on montenegro.40.b
		id = montenegro.41
		title = montenegro.41.t
		desc = montenegro.41.d
		
		fire_only_once = no
		is_triggered_only = yes 
		
		option = { #accept demands
		name = montenegro.41.a
			ai_chance = { factor = 100 }
			MNT = {
				set_country_flag = protect_muslim_landlords
			}
			MNT = { complete_national_focus = MNT_focus_recognize_our_status_under_the_ottomans_easy_mechanic }
			}
			
		option = { #reject compromis
		name = montenegro.41.b
			ai_chance = { factor = 100 }
			OTO = { country_event = montenegro.43 }
				effect_tooltip = {#only to MNT see
					start_border_war = {
					change_state_after_war = no
					attacker = {
						state = 942
						num_provinces = 1
						on_win = montenegro.44
						on_lose = montenegro.37
						on_cancel = montenegro.127 #Placeholder
						modifier = 0.1
					}
					defender = {
						state = 1204
						num_provinces = 1
						on_win = montenegro.37
						on_lose = montenegro.44
						on_cancel = montenegro.127 #Placeholder
						modifier = 0.1
					}
				}
			}
		}
	}
	
    country_event = { #ottomans send army MNT inform
    id = montenegro.42
    title = montenegro.42.t
    desc = montenegro.42.d
    
    fire_only_once = no
    is_triggered_only = yes 
    
    option = { #to arms
    name = montenegro.42.a
		ai_chance = { factor = 100 }
		hidden_effect = {
			start_border_war = {
				change_state_after_war = no
				attacker = {
					state = 1204
					num_provinces = 1
					on_win = montenegro.37
					on_lose = montenegro.44
					on_cancel = montenegro.127 #Placeholder
					modifier = 0.1
				}
				defender = {
					state = 942
					num_provinces = 1
					on_win = montenegro.44
					on_lose = montenegro.37
					on_cancel = montenegro.127 #Placeholder
					modifier = 0.5
				}
			}
		}
	}
}

    country_event = {#MNT reject OTO inform
    id = montenegro.43
    title = montenegro.43.t
    desc = montenegro.43.d
    
    fire_only_once = no
    is_triggered_only = yes 
    
    option = { #to arms
    name = montenegro.43.a
		ai_chance = { factor = 100 }
		hidden_effect = {
			start_border_war = {
				change_state_after_war = no
				attacker = {
					state = 1204
					num_provinces = 1
					on_win = montenegro.37
					on_lose = montenegro.44
					on_cancel = montenegro.127 #Placeholder
					modifier = 0.1
				}
				defender = {
					state = 942
					num_provinces = 1
					on_win = montenegro.44
					on_lose = montenegro.37
					on_cancel = montenegro.127
					modifier = 0.5
				}
			}
		}
	}
}

country_event = { #MNT win OTO lose
	id = montenegro.44
	title = montenegro.44.t
	desc = montenegro.44.d
	
		is_triggered_only  = yes
		fire_only_once = no
		
		option = { 
		name = montenegro.44.a
		ai_chance = { factor = 100 }
			if = { 
				limit = {
					tag = MNT
				}
				complete_national_focus = MNT_focus_strike_a_deal_with_the_ottomans_easy_mechanic
				number_of_MNT_supportest = yes
				add_to_temp_variable = { eoanb_prestige_change = 2 }
				eoanb_change_prestige_score = yes
			}
			if = {
				limit = {
					tag = OTO
				}
			add_stability = -0.03
		}
	}
}
				
#an event where the OTO decides the fate of the herzegovina
country_event = {
	id = montenegro.45
	title = montenegro.45.t
	desc = montenegro.45.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = montenegro.45.a
		ai_chance = { factor = 100 }
		OTO = {
			annex_country = {
				target = HRZ
			}
		}
		1205 = {
			add_resistance = 80
		}
	}
	option = {
		name = montenegro.45.b
		ai_chance = {
			factor = 101
			}
		release_puppet = HRZ
		HRZ = {
			complete_national_focus = HRZ_focus_Scutari_convention
		}
	}
}

#an event reporting that Montenegro had surrendered
country_event = {
	id = montenegro.46
	title = montenegro.46.t
	desc = montenegro.46.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = montenegro.46.a
		ai_chance = { factor = 100 }
		add_stability = 0.02
	}
}


#battle of grahovac OTO side
country_event = {
	id = montenegro.48
	title = montenegro.48.t
	desc = montenegro.48.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = montenegro.48.a
		ai_chance = { factor = 100 }
		add_stability = -0.02
		add_equipment_to_stockpile = {
			type = cannon_equipment
			amount = -20
			producer = OTO
		}
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = -250
			producer = OTO
		}
	}
}

#migration to montenegro
country_event = {
	id = montenegro.49
	title = montenegro.49.t
	desc = montenegro.49.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = montenegro.49.a
		ai_chance = { factor = 100 }
		add_stability = -0.02
		if = {
			limit = {
				controls_state = 1204
			}
			1204 = {
				add_manpower = 2375
			}
			942 = {
				add_manpower = 987
			}
		}
		else_if = {
			limit = {
				controls_state = 942
			}
			942 = {
				add_manpower = 1585
			}
		}
	}
}

#uprising in herzegovina
country_event = {
	id = montenegro.50
	title = montenegro.50.t
	desc = montenegro.50.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	fire_only_once = yes
	
	#help the uprising
	option = {
		name = montenegro.50.a
		ai_chance = { factor = 150 }
		add_ideas = MNT_WAR
	    OTO = { country_event = { id = montenegro.51 } }
		if = { 
			limit = {
				MNT = { is_puppet_of = OTO }
		}
		OTO = { end_puppet = MNT }
		}	
	}
	
	#play as HRZ ( montenegro will help the uprising ) 
	option = {
		name = montenegro.50.b
		ai_chance = { factor = 0  }
		trigger = { NOT = { is_ai = yes } }
		MNT = { add_ideas = MNT_WAR }
		OTO = { country_event = { id = montenegro.51 } }
		HRZ = { change_tag_from = MNT }
	}
	
	#leave HRZ
	option = {
		name = montenegro.50.c
		ai_chance = { factor = 50 }
		trigger = { MNT = { is_puppet_of = OTO } }
		add_stability = -0.30
		add_political_power = -200
	}
}

#OTO montenegro support the uprising
country_event = {
	id = montenegro.51
	title = montenegro.51.t
	desc = montenegro.51.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = montenegro.51.a
		ai_chance = { factor = 150 }
		add_stability = -0.02
		if = {
			limit = {
				has_war = yes
				}
			unlock_decision_category_tooltip = OTO_decision_category_Herzegovinian_uprising
		}
		else_if = { 
			limit = { 
				has_active_mission = OTO_mission_development_of_herzegovina_uprising_1857
			}
			#probably nothing
		}
	}
}



	
#deport of mirko petrovic njegoš
country_event = {
	id = montenegro.59
	title = montenegro.59.t
	desc = montenegro.59.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	fire_only_once = yes
	
	immediate = {
		remove_unit_leader = 123456
	}
	
	option = {
		name = montenegro.59.a
		ai_chance = { factor = 150 }	
	}
}
	
#montenegro demands lose podgorica or sandjak
country_event = {
	id = montenegro.60
	title = montenegro.60.t
	desc = montenegro.60.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = montenegro.60.a
		ai_chance = { factor = 150 }
		OTO = { transfer_state = 1202 }
		country_event = { id = montenegro.61 }
	}
			
	option = {
		name = montenegro.60.b
		ai_chance = { factor = 150 }
		OTO = { transfer_state = 225 }
		country_event = montenegro.61
	}
}
	
#montenegro demands - reparations
country_event = {
	id = montenegro.61
	title = montenegro.61.t
	desc = montenegro.61.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = montenegro.61.a
		ai_chance = { factor = 150 }
		#
	}
	
	option = {
		name = montenegro.61.b
		ai_chance = { factor = 150 }
		#
	}
}
	
#end of negotiations start of war 1
country_event = {
	id = montenegro.108
	title = montenegro.108.t
	desc = montenegro.108.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = montenegro.108.a
		ai_chance = { factor = 101 }
		hidden_effect = {
			MNT = {
				country_event = {
					id = 47
					days = 16
				}
			}
		}
		start_border_war = {
			change_state_after_war = no
			attacker = {
				state = 1204
				num_provinces = 1
				on_win = montenegro.128 #Placeholder
				on_lose = montenegro.126
				on_cancel = montenegro.127 #Placeholder
				modifier = 0.1
			}
			defender = {
				state = 942
				num_provinces = 1
				on_win = montenegro.128
				on_lose = montenegro.126
				on_cancel = montenegro.127 #Placeholder
				modifier = 0.5
			}
		}
	}
}

#end of negotiations start of war 2 ( historical )
country_event = {
	id = montenegro.109
	title = montenegro.109.t
	desc = montenegro.109.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = montenegro.109.a
		ai_chance = { factor = 101 }
		hidden_effect = {
			MNT = {
				country_event = {
					id = montenegro.47
					days = 18
				}
			}
		}
		start_border_war = {
			change_state_after_war = no
			attacker = {
				state = 1204
				num_provinces = 1
				on_win = montenegro.128 #Placeholder
				on_lose = montenegro.126
				on_cancel = montenegro.127 #Placeholder
				modifier = 0.1
			}
			defender = {
				state = 942
				num_provinces = 1
				on_win = montenegro.128
				on_lose = montenegro.126
				on_cancel = montenegro.127 #Placeholder
				modifier = 0.4
			}
		}
	}
}

#end of negotiations start of war 2 ( historical )
country_event = {
	id = montenegro.110
	title = montenegro.110.t
	desc = montenegro.110.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = montenegro.110.a
		ai_chance = { factor = 101 }
		hidden_effect = {
			MNT = {
				country_event = {
					id = montenegro.47
					days = 18
				}
			}
		}
		start_border_war = {
			change_state_after_war = no
			attacker = {
				state = 1204
				num_provinces = 1
				on_win = montenegro.128 #Placeholder
				on_lose = montenegro.126
				on_cancel = montenegro.127 #Placeholder
				modifier = 0.1
			}
			defender = {
				state = 942
				num_provinces = 1
				on_win = montenegro.128
				on_lose = montenegro.126
				on_cancel = montenegro.127 #Placeholder
				modifier = 0.3
			}
		}
	}
	option = {
		name = montenegro.110.b
		ai_chance = {
			factor = 101
		}
		complete_national_focus = MNT_focus_recognize_our_status_under_the_ottomans
	}
}




#send jaroši batalions
country_event = {
    id = montenegro.117
    title = montenegro.117.t
    desc = montenegro.117.d
    picture = GFX_report_event_generic_read_write
    
    is_triggered_only = yes
    fire_only_once = yes
    
    option = {
        name = montenegro.117.a
        ai_chance = { factor = 100 }
        HRZ = {
            division_template = {
                name = "Jaroši Batalions"
                is_locked = yes
                division_cap = 0
                priority = 0
                template_counter = 0
                regiments = {
                    irregular_infantry = { x = 0 y = 0 }
                    light_infantry = { x = 0 y = 1 }
                }
            }
            1205 = {
                create_unit = {
                    division = "name = \"Jaroši Batalions\" division_template = \"Jaroši Batalions\" start_experience_factor = 0.5"
                    owner = HRZ
                }
                create_unit = {
                    division = "name = \"Jaroši Batalions\" division_template = \"Jaroši Batalions\" start_experience_factor = 0.5"
                    owner = HRZ
                }
            }
        }
    }
}
#fall of cetinje  - OTO side
country_event = {
	id = montenegro.121
	title = montenegro.121.t
	desc = montenegro.121.d
	picture = GFX_report_event_second_vienna_award_pact
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = montenegro.121.a
		ai_chance = { factor = 100 }
		add_stability = 0.02
		MNT = { complete_national_focus = MNT_focus_negotiate_a_ceasefire }
	}
}

#fall of cetinje  - MNT side
country_event = {
	id = montenegro.122
	title = montenegro.122.t
	desc = montenegro.122.d
	picture = GFX_report_event_second_vienna_award_pact
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = montenegro.122.a
		ai_chance = { factor = 100 }
		add_stability = -0.02
	}
}

#capture outer Montenegro  - WIN atacker
country_event = {
	id = montenegro.123
	title = montenegro.123.t
	desc = montenegro.123.d
	picture = GFX_report_event_second_vienna_award_pact
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = montenegro.123.a
		ai_chance = { factor = 100 }
		if = {
			limit = {
				tag = MNT
			}
			add_stability = 0.05
			add_war_support = 0.05
			1204 = {
			transfer_state_to = MNT
		}
		add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 100
				producer = OTO
			}
		}
		if = {
			limit = {
				tag = OTO
			}
			1204= {
			transfer_state_to = OTO
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 100
				producer = MNT
			}
		}
	}
}

#capture Montenegro Sandjak - WIN atacker
country_event = {
	id = montenegro.124
	title = montenegro.124.t
	desc = montenegro.124.d
	picture = GFX_report_event_second_vienna_award_pact
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = montenegro.125.a
		ai_chance = { factor = 100 }
		if = {
			limit = {
				tag = MNT
			}
			add_stability = 0.05
			add_war_support = 0.05
			1202 = {
			transfer_state_to = MNT
		}
		add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 100
				producer = OTO
			}
		}
		if = {
			limit = {
				tag = OTO
			}
			1202= {
			transfer_state_to = OTO
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 100
				producer = MNT
			}
		}
	}
}

#liberate Podgorica - WIN atacker
country_event = {
	id = montenegro.125
	title = montenegro.125.t
	desc = montenegro.125.d
	picture = GFX_report_event_second_vienna_award_pact
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = montenegro.125.a
		ai_chance = { factor = 100 }
		if = {
			limit = {
				tag = MNT
			}
			add_stability = 0.05
			add_war_support = 0.05
			225 = {
			transfer_state_to = MNT
		}
		add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 100
				producer = OTO
			}
		}
		if = {
			limit = {
				tag = OTO
			}
			225 = {
			transfer_state_to = OTO
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 100
				producer = MNT
			}
		}
	}
}

#Border War -  LOSE atacker/defender
country_event = {
	id = montenegro.126
	title = montenegro.126.t
	desc = montenegro.126.d
	picture = GFX_report_event_second_vienna_award_pact
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = montenegro.126.a
		ai_chance = { factor = 100 }
		if = {
			limit = {
				tag = MNT
			}
				add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -100
				producer = MNT
			}
		}
		if = {
			limit = {
				tag = OTO
			}
				add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -100
				producer = OTO
			}
		}
		add_war_support = -0.01
	}
}

#Border war - DRAW
country_event = {
	id = montenegro.127
	title = montenegro.127.t
	desc = montenegro.127.d
	picture = GFX_report_event_second_vienna_award_pact
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = montenegro.127.a
		ai_chance = { factor = 100 }
	}
}

#Border war defender - WIN
country_event = {
	id = montenegro.128
	title = montenegro.128.t
	desc = montenegro.128.d
	picture = GFX_report_event_second_vienna_award_pact
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = montenegro.125.a
		ai_chance = { factor = 100 }
		if = {
			limit = {
				tag = MNT
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 100
				producer = OTO
			}
		}
		if = {
			limit = {
				tag = OTO
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 100
				producer = MNT
			}
		}
	}
}

country_event = {
	# Departure of Henri Delarue for France #
	id = montenegro.165
	title = montenegro.165.t
	desc = montenegro.165.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	fire_only_once = yes
	
	trigger = {
		tag = MNT
		OR = {
			has_completed_focus = MNT_focus_recognize_our_status_under_the_ottomans_easy_mechanic
			has_completed_focus = MNT_focus_strike_a_deal_with_the_ottomans_easy_mechanic
			has_completed_focus = MNT_focus_the_mostar_convention_easy_mechanic
		}
	}
	
	option = {
		name = montenegro.165.a
		ai_chance = {
			factor = 100
		}
		add_ideas = MNT_the_question_of_the_new_chancellor
		remove_advisor_role = {
			character = "MNT_Henri_Delarue"
			slot = political_advisor
		}
	}
}

country_event = {
	# Jan Vaclík's Problems on the Border #
	id = montenegro.166
	title = montenegro.166.t
	desc = montenegro.166.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
	# leave him #
		name = montenegro.166.a
		ai_chance = { factor = 100 }
		random_list = {
			50 = {
				MNT = {
					country_event = {
						days = 30
						id = montenegro.167
					}
				}
			}
			50 = {
				MNT = {
					country_event = {
						days = 30
						id = montenegro.168
					}
				}
			}
		}
	}
	
	option = {
	# sort it #
		name = montenegro.166.b
		ai_chance = { factor = 100 }
		remove_ideas = MNT_the_question_of_the_new_chancellor
		add_political_power = -150
		MNT_jan_vaclik = {
			add_advisor_role = {
				advisor = {
					slot = political_advisor
					idea_token = MNT_advisor_Jan_Vaclik
					traits = {
						MNT_Montenegrin_sovereignty_and_international_law
					}
				}
			}
		}
	}
}

country_event = {
	# Jan Vaclík's Problems Continue #
	id = montenegro.167
	title = montenegro.167.t
	desc = montenegro.167.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = montenegro.167.a
		ai_chance = { factor = 100 }
		remove_ideas = MNT_the_question_of_the_new_chancellor
		add_political_power = -200
		add_advisor_role = {
			character = MNT_jan_vaclik
			advisor = {
				slot = political_advisor
				cost = 50
				idea_token = MNT_advisor_Jan_Vaclik
				traits = {
					MNT_Montenegrin_sovereignty_and_international_law
				}
			}
		}
	}
}

country_event = {
	# Jan Vaclík Successfully Arrived in Montenegro #
	id = montenegro.168
	title = montenegro.168.t
	desc = montenegro.168.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = montenegro.168.a
		ai_chance = { factor = 100 }
		remove_ideas = MNT_the_question_of_the_new_chancellor
		add_advisor_role = {
			character = MNT_jan_vaclik
			advisor = {
				slot = political_advisor
				cost = 50
				idea_token = MNT_advisor_Jan_Vaclik
				traits = {
					MNT_Montenegrin_sovereignty_and_international_law
				}
			}
		}
	}
}

country_event = {
	# Question of New Chancellor #
	id = montenegro.169
	title = montenegro.169.t
	desc = montenegro.169.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = montenegro.169.a
		ai_chance = { factor = 100 }
		MNT = {
			country_event = {
				days = 30
				id = montenegro.166
			}
		}
	}
}

country_event = {
	# Agricultural Reform Failed #
	id = montenegro.200
	title = montenegro.200.t
	desc = montenegro.200.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = montenegro.200.a
		ai_chance = { factor = 100 }
		if = {
			limit = {
				NOT = {
					has_tech = early_medicine
				}
			}
			set_technology = {
				early_medicine = 1
			}
			add_stability = -0.03
		}
		if = {
			limit = {
				NOT = {
					has_tech = food_canning
				}
			}
			set_technology = {
				food_canning = 1
			}
			add_stability = -0.03
		}
		if = {
			limit = {
				NOT = {
					has_tech = high_phosphate_fertilizer
				}
			}
			set_technology = {
				high_phosphate_fertilizer = 1
			}
			add_stability = -0.03
		}
		if = {
			limit = {
				NOT = {
					has_tech = mechanized_farming
				}
			}
			set_technology = {
				mechanized_farming = 1
			}
			add_stability = -0.03
		}
		if = {
			limit = {
				NOT = {
					has_tech = pre_industrial_farms
				}
			}
			set_technology = {
				pre_industrial_farms = 1
			}
			add_stability = -0.03
		}
	}
}

country_event = {
	# Agricultural Reform Succeeded #
	id = montenegro.201
	title = montenegro.201.t
	desc = montenegro.201.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = montenegro.201.a
		ai_chance = { factor = 100 }
		add_political_power = 50
	}
}

country_event = {
	# Official Recognition of Montenegro (FRA) #
	id = montenegro.202
	title = montenegro.202.t
	desc = montenegro.202.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	option = {
	# yes #
		name = montenegro.202.a
		ai_chance = { factor = 100 }
		MNT = {
			country_event = montenegro.203
		}
		OTO = {
			country_event = montenegro.204
		}
	}
	
	option = {
	# no #
		name = montenegro.202.b
		ai_chance = {
			factor = 100
		}
		MNT = {
			country_event = montenegro.205
		}
		OTO = {
			country_event = montenegro.206
		}
	}
}

country_event = {
	# France Officially Recognise Our Independence #
	id = montenegro.203
	title = montenegro.203.t
	desc = montenegro.203.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	option = {
		name = montenegro.203.a
		ai_chance = { factor = 100 }
		add_opinion_modifier = {
			target = FRA
			modifier = small_increase
		}
		reverse_add_opinion_modifier = {
			target = FRA
			modifier = small_increase
		}
		add_stability = 0.05
		add_war_support = 0.05
	}
}

country_event = {
	# France Officially Recognized Montenegrin Sovereignty (OTO) #
	id = montenegro.204
	title = montenegro.204.t
	desc = montenegro.204.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	option = {
		name = montenegro.204.a
		ai_chance = { factor = 100 }
		add_opinion_modifier = {
			target = FRA
			modifier = small_decrease
		}
		reverse_add_opinion_modifier = {
			target = FRA
			modifier = small_decrease
		}
		add_political_power = -25
		add_stability = -0.01
	}
}

country_event = {
	# France Refused to Officially Recognise Our Independence #
	id = montenegro.205
	title = montenegro.205.t
	desc = montenegro.205.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	option = {
		name = montenegro.205.a
		ai_chance = { factor = 100 }
		add_opinion_modifier = {
			target = FRA
			modifier = small_decrease
		}
		reverse_add_opinion_modifier = {
			target = FRA
			modifier = small_decrease
		}
		add_stability = -0.05
		add_war_support = -0.05
	}
}

country_event = {
	# France Refused to Officially Recognise Montenegrin Sovereignty (OTO) #
	id = montenegro.206
	title = montenegro.206.t
	desc = montenegro.206.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	option = {
		name = montenegro.206.a
		ai_chance = { factor = 100 }
		add_political_power = 25
		add_stability = 0.01
	}
}

country_event = {
	# Montenegro Asks for Military Assistance (PIE) #
	id = montenegro.217
	title = montenegro.217.t
	desc = montenegro.217.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes

	option = {
	# smal support #
		name = montenegro.217.a
		ai_chance = { factor = 60 }
		add_opinion_modifier = { target = MNT modifier = small_increase }
		reverse_add_opinion_modifier = { target = MNT modifier = small_increase }
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = -200
			producer = PIE
		}
		MNT = { country_event = montenegro.218}
	}
	
	option = {
	# send delegations #
		name = montenegro.217.b
		ai_chance = { factor = 40 }
		add_opinion_modifier = { target = MNT modifier = small_increase }
		reverse_add_opinion_modifier = { target = MNT modifier = small_increase }
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = -300
			producer = PIE
		}
		add_manpower = -100
		MNT = { country_event = montenegro.219 }
	}
}

country_event = {
	#  Italians Sends Weapons #
	id = montenegro.218
	title = montenegro.218.t
	desc = montenegro.218.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes

	option = {
		name = montenegro.218.a
		ai_chance = { factor = 100 }
		add_opinion_modifier = { target = PIE modifier = small_increase }
		reverse_add_opinion_modifier = { target = PIE modifier = small_increase }
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 200
			producer = PIE
		}
	}
}

country_event = {
	# Italian Delegation Arrives #
	id = montenegro.219
	title = montenegro.219.t
	desc = montenegro.219.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes

	option = {
		name = montenegro.219.a
		ai_chance = { factor = 100 }
		add_opinion_modifier = { target = PIE modifier = small_increase }
		reverse_add_opinion_modifier = { target = PIE modifier = small_increase }
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 300
			producer = PIE
		}
		add_manpower = 100
		add_timed_idea = {
			idea = MNT_Sardinia_Piedmont_support
			days = 180
		}
	}
}
country_event = {
	# Support for Montenegro (PIE) #
	id = montenegro.222
	title = montenegro.222.t
	desc = montenegro.222.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes

	option = {
		name = montenegro.222.a
		ai_chance = { factor = 100 }
		#TODO: Does nothing as of rn
	}
}

country_event = {
	# Montenegro Royal Visit (PIE) #
	id = montenegro.223
	title = montenegro.223.t
	desc = montenegro.223.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes

	option = {
		name = montenegro.223.a
		ai_chance = { factor = 100 }
		#TODO: Does nothing as of rn
	}
}

country_event = {
	# Rapprochement with Montenegro (RUS)#
	id = montenegro.226
	title = montenegro.226.t
	desc = montenegro.226.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = montenegro.226.a
		ai_chance = { factor = 100 }
		add_stability = 0.01
	}
}

country_event = {
	# Army Reform Failed #
	id = montenegro.227
	title = montenegro.227.t
	desc = montenegro.227.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = montenegro.227.a
		ai_chance = { factor = 100 }
		if = {
			limit = {
				NOT = {
					has_tech = yataghan_bayonet
				}
			}
			set_technology = {
				yataghan_bayonet = 1
			}
			army_experience = -15
		}
		else_if = {
			limit = {
				NOT = {
					has_tech = civil_army_cloth
				}
			}
			set_technology = {
				civil_army_cloth = 1
			}
			army_experience = -15
		}
		else_if = {
			limit = {
				NOT = {
					has_tech = rifle_equipment2
				}
			}
			set_technology = {
				rifle_equipment2 = 1
			}
			army_experience = -15
		}
	}
}

country_event = {
	# Army Reform Succeeded #
	id = montenegro.228
	title = montenegro.228.t
	desc = montenegro.228.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = montenegro.228.a
		ai_chance = { factor = 100 }
		add_stability = 0.025
	}
}

country_event = {
	# Reform of Industrial Sector Failed #
	id = montenegro.229
	title = montenegro.229.t
	desc = montenegro.229.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = montenegro.229.a
		ai_chance = { factor = 100 }
		if = {
			limit = {
				NOT = {
					has_tech = mechanical_production_1
				}
			}
			set_technology = {
				mechanical_production_1 = 1
			}
			add_stability = -0.02
		}
		if = {
			limit = {
				NOT = {
					has_tech = interchange_parts
				}
			}
			set_technology = {
				interchange_parts = 1
			}
			add_stability = -0.02
		}
		if = {
			limit = {
				NOT = {
					has_tech = factory_industry_1
				}
			}
			set_technology = {
				factory_industry_1 = 1
			}
			add_stability = -0.02
		}
		if = {
			limit = {
				NOT = {
					has_tech = industrial_era_tools_1
				}
			}
			set_technology = {
				industrial_era_tools_1 = 1
			}
			add_stability = -0.02
		}
		if = {
			limit = {
				NOT = {
					has_tech = refining
				}
			}
			set_technology = {
				refining = 1
			}
			add_stability = -0.02
		}
	}
}

country_event = {
	# Reform of Industrial Sector Succeeded #
	id = montenegro.230
	title = montenegro.230.t
	desc = montenegro.230.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = montenegro.230.a
		ai_chance = { factor = 100 }
		add_political_power = 50
		add_stability = 0.025
	}
}

country_event = {
	# Bishops of Centije - pick up #
	id = montenegro.231
	title = montenegro.231.t
	desc = montenegro.231.d
	picture = GFX_report_event_orthodox

	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = montenegro.231.a
		ai_chance = { factor = 100 }
		country_event = { id = montenegro.232 days = 30 }
		hidden_effect = {
			retire_character = MNT_nikanor_ivanovic
		}
	}
}

country_event = {
	# Bishops of Centije - ordination #
	id = montenegro.232
	title = montenegro.232.t
	desc = montenegro.232.d
	picture = GFX_report_event_orthodox
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = montenegro.232.a
		ai_chance = { factor = 100 }
		set_temp_variable = {
			eoanb_prestige_change = 3
		}
		eoanb_change_prestige_score = yes
		add_tech_bonus = {
			bonus = 0.25
			uses = 1
			category = humanities_tech
		}
		MNT_hilarion_ii = {
			add_advisor_role = {
				advisor = {
					slot = political_advisor
					idea_token = MNT_advisor_hilarion_ii
					traits = {
						MNT_trait_metropolitan_of_montenegro
					}
				}
				activate = yes
			}
		}
		country_event = { id = montenegro.233 days = 180 }
	}
}

country_event = {
	# Bishops of Centije - Consecration in St. Petersburg #
	id = montenegro.233
	title = montenegro.233.t
	desc = montenegro.233.d
	picture = GFX_report_event_orthodox
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = montenegro.233.a
		ai_chance = { factor = 100 }
	}
}

country_event = {
	# Roganović Church Reforms #
	id = montenegro.234
	title = montenegro.234.t
	desc = montenegro.234.d
	picture = GFX_report_event_orthodox
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = montenegro.234.a
		ai_chance = { factor = 100 }
	}
}

country_event = {
	# Girls Institute #
	id = montenegro.235
	title = montenegro.235.t
	desc = montenegro.235.d
	picture = GFX_report_event_orthodox
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = montenegro.235.a
		ai_chance = { factor = 100 }
	}
}

country_event = {
	# Crnogorac Newspaper #
	id = montenegro.236
	title = montenegro.236.t
	desc = montenegro.236.d
	picture = GFX_report_event_generic_read_write
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = montenegro.236.a
		ai_chance = { factor = 100 }
	}
}

country_event = {
	# Milan Kostić Work #
	id = montenegro.237
	title = montenegro.237.t
	desc = montenegro.237.d
	picture = GFX_report_event_generic_read_write
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = montenegro.237.a
		ai_chance = {
			factor = 100
		}
		set_temp_variable = {
			eoanb_prestige_change = 5
		}
		eoanb_change_prestige_score = yes
		EOANBSYS_institutions_nationalism_add_two = yes
		add_political_power = 50
	}
}

##########################################################################################################
############################ herezegovina ( independent since 1862 101% alt his ) ########################
##########################################################################################################
country_event = {
	id = MNT_herzegovina.1	
	title = MNT_herzegovina.1.t
	desc = MNT_herzegovina.1.d
	picture = GFX_report_event_generic_read_write
	
	fire_only_once = yes
    trigger = {
			has_active_mission = BOS_HRZ_Bosnian_Uprising_Peace
			controls_province = 13779
	}
	
	option = {
		name = MNT_herzegovina.1.a
		ai_chance = { factor = 100 }
		MNT = { transfer_state = 1204 }
	}
}
