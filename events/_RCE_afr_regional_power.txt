add_namespace = afr_empire_politics_test_event
add_namespace = afr_state_owner_change_setup_event
add_namespace = afr_caliphate_integration_tribe
add_namespace = afr_caliphate_integration_kingdom
add_namespace = afr_inward_integration_tribe
add_namespace = afr_inward_integration_kingdom
add_namespace = afr_integration_tribe_warning
add_namespace = afr_inward_integration_tribe_warning
add_namespace = afr_integration_tribe_raid_supply
add_namespace = afr_integration_tribe_poison_provisions
add_namespace = afr_war_exhaustion_exertion
add_namespace = afr_request_overlord_assistance
add_namespace = afr_empire_politics_subject_levy_mission_event
add_namespace = afr_empire_politics_subject_levy_mission_event_global
add_namespace = afr_empire_politics_subject_send_tribute_to_overlord_event
add_namespace = afr_empire_politics_state_manager_event
add_namespace = afr_empire_politics_state_manager_officials_event
add_namespace = afr_empire_politics_state_manager_local_rumors_event
add_namespace = afr_empire_politics_state_manager_local_politics_event
add_namespace = afr_empire_politics_state_manager_sent_loyalty_gift_event
add_namespace = afr_empire_politics_state_manager_market_event
add_namespace = afr_empire_politics_state_manager_market_luxury_event
add_namespace = afr_empire_politics_successful_raid_event
add_namespace = afr_empire_politics_regional_development_boom_event
add_namespace = afr_empire_politics_bountiful_harvest_boom_event
add_namespace = afr_empire_politics_minor_economic_boom_event
add_namespace = afr_peacetime_state_prosperity_growth_event
add_namespace = afr_empire_politics_successful_remove_war_torn_event
add_namespace = afr_empire_politics_subject_promotion_demand
add_namespace = afr_empire_politics_subject_demotion_demand
add_namespace = afr_state_setup_event
add_namespace = afr_empire_mechanic_weekly_pulse_check_event
add_namespace = afr_empire_mechanic_monthly_pulse_check_event
add_namespace = afr_empire_politics_state_manager_martial_law
add_namespace = afr_empire_politics_state_manager_garrison_event

add_namespace = afr_empire_state_autonomy_full_release_event

add_namespace = afr_empire_state_loyalty_full_core_event
add_namespace = afr_empire_state_loyalty_full_core_event_completed
add_namespace = afr_empire_state_loyalty_full_core_event_failed

add_namespace = afr_empire_state_loyalty_none_revolt_event
add_namespace = afr_mid_game_fix_event

add_namespace = afr_empire_politics_taxes_organized
add_namespace = afr_empire_politics_taxes_small_kingdom
add_namespace = afr_empire_politics_taxes_regional_power

add_namespace = afr_empire_politics_wiki_main_menu
add_namespace = afr_empire_politics_wiki_menu_public_opinion
add_namespace = afr_empire_politics_wiki_menu_loyalty
add_namespace = afr_empire_politics_wiki_menu_autonomy
add_namespace = afr_empire_politics_wiki_menu_economy

add_namespace = afr_empire_politics_foreign_diplomacy_event

add_namespace = afr_empire_on_start_event

add_namespace = afr_empire_scripted_diplomatic_events


country_event = {
	id = afr_empire_scripted_diplomatic_events.1
	is_triggered_only = yes
	hidden = yes
		
	immediate = {
		hidden_effect = { FROM = { country_event = { id = afr_empire_scripted_diplomatic_events.2 days = 30 } } }
	}
}

country_event = {
	id = afr_empire_scripted_diplomatic_events.2
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
		#NOT = {
		#	if = {
		#		limit = {
		#			check_variable = { var = ROOT.afr_has_unsanctioned_raid_against_colonial_neighbor@FROM value = 1 compare = greater_than_or_equals }
		#		}
		#		custom_trigger_tooltip = {
		#			tooltip = MOR_tribal_raid_colonial_neighbor_random_intertribe_raid_tooltip
		#			NOT = { check_variable = { var = ROOT.afr_has_unsanctioned_raid_against_colonial_neighbor@FROM value = 1 compare = greater_than_or_equals } }
		#		}
		#		custom_trigger_tooltip = {
		#			tooltip = edc_raid_decision_cancel_trigger
		#			NOT = {
		#				is_in_faction_with = FROM
		#				has_war_with = FROM
		#				has_border_war_with = FROM
		#			}
		#		}
		#	}
		#	else = {
		#		custom_trigger_tooltip = {
		#			tooltip = edc_raid_decision_cancel_trigger
		#			NOT = {
		#				is_in_faction_with = FROM
		#				has_war_with = FROM
		#				has_border_war_with = FROM
		#			}
		#		}
		#	}
		#}
		NOT = {
			is_in_faction_with = FROM
			has_war_with = FROM
			has_border_war_with = FROM
		}
	}
		
	immediate = { 
			hidden_effect = {
				set_country_flag = first_nations_tribe_recently_raided_flag
				set_variable = { var = ROOT.FNT_recently_raided@FROM value = 1 }
				FROM = { country_event = { id = first_nations_tribal_raid.1 days = 325 } }
			}
			hidden_effect = { ROOT = { set_country_flag = afr_tribal_raid_colonial_neighbor_flag } }
			hidden_effect = { FROM = { set_country_flag = afr_tribal_raid_colonial_neighbor_flag } }
			hidden_effect = {
				if = {
					limit = { FROM = { afr_is_tribal = yes } }
					FROM = { add_to_variable = { afr_border_war_defender_flag = 1 } }
				}
			}
			hidden_effect = {
				ROOT = { set_country_flag = afr_neighbor_state_colonial_militia_spawn_flag }
				if = {
					limit = { has_country_flag = afr_neighbor_state_colonial_militia_spawn_flag }
					var:FROM.defender_state_vs_@ROOT = {
						if = {
							limit = {
								FROM = {
									afr_is_tribal = no
									is_south_american_tribe = no
									NOT = { has_idea = afr_post_tribal }
								}
							}
							afr_call_colonial_militia_units = yes
						}
						damage_building = {
							type = infrastructure
							damage = 0.12
						}
					}
				}
				ROOT = { clr_country_flag = afr_neighbor_state_colonial_militia_spawn_flag }
			}
			start_dynamic_american_state_border_war = yes
			if = {
				limit = { NOT = { check_variable = { var = ROOT.afr_has_unsanctioned_raid_against_colonial_neighbor@FROM value = 1 compare = greater_than_or_equals } } }
				custom_effect_tooltip = afr_war_exhaustion_value_add_1
				add_to_variable = {
					var = afr_war_exhaustion_value
					value = 1
				}
			}
			if = {
				limit = { check_variable = { var = ROOT.afr_has_unsanctioned_raid_against_colonial_neighbor@FROM value = 1 compare = greater_than_or_equals } }
				custom_effect_tooltip = afr_has_unsanctioned_raid_against_colonial_neighbor_timeout_tooltip
			}
			hidden_effect = {
				if = {
					limit = { has_country_flag = afr_tribal_raid_spotted_flag }
					FROM = {
						clr_country_flag = afr_tribal_raid_spotted_flag
						add_ai_strategy = {
							type = prepare_for_war
							id = ROOT
							value = -5
						}
					}
				}
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = FROM
						value = -5
					}
				}
			}
	}
}

country_event = {
	id = afr_empire_scripted_diplomatic_events.3
	is_triggered_only = yes
	hidden = yes
		
	immediate = {
		hidden_effect = { FROM = { country_event = { id = afr_empire_scripted_diplomatic_events.4 days = 30 } } }
	}
}

country_event = {
	id = afr_empire_scripted_diplomatic_events.4
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
		NOT = {
			custom_trigger_tooltip = {
				tooltip = edc_raid_decision_cancel_trigger
				OR = {
					is_in_faction_with = FROM
					has_war_with = FROM
				}
			}
		}
	}
		
	immediate = {
		ROOT = {
			hidden_effect = {
				set_country_flag = first_nations_tribe_recently_raided_flag
				FROM = { country_event = { id = first_nations_tribal_raid.1 days = 55 } }
			}
			clr_country_flag = raiding_neighbour
			#raiding result based on numbers sent, defenders numbers
			country_event = { id = EDC_afr.44 }
			reverse_add_opinion_modifier = { target = FROM modifier = afr_recently_raided_opinion }
		}
	}
}

country_event = {
	id = afr_empire_scripted_diplomatic_events.5
	is_triggered_only = yes
	hidden = yes
		
	immediate = {
		hidden_effect = { FROM = { country_event = { id = afr_empire_scripted_diplomatic_events.6 } } }
	}
}

country_event = {
	id = afr_empire_scripted_diplomatic_events.6
	is_triggered_only = yes
	hidden = yes
		
	immediate = {
		hidden_effect = { 
			set_dynamic_american_state_border_war_variables = yes
		}
	}
}

country_event = {
	id = afr_empire_on_start_event.1
	is_triggered_only = yes
	hidden = yes
		
	immediate = {
		hidden_effect = {  
			if = {
				limit = {
					has_start_date < 1858.1.1
				}
				#########################
				#African Empire Mechanic#
				#########################
				every_state = {
					limit = { OWNER = { has_variable = has_afr_empire_mechanic_system } }
					if = {
						limit = { THIS = { is_capital = yes } }
						OWNER = { add_to_variable = { var = PREV.afr_empire_state_loyalty_var@THIS value = 10 } }
						afr_empire_politics_state_modifier_scripted_effect = yes
					}
					else_if = {
						limit = { OWNER = { PREV = { is_core_of = PREV } } }
						OWNER = { add_to_variable = { var = PREV.afr_empire_state_loyalty_var@THIS value = 9 } }
						afr_empire_politics_state_modifier_scripted_effect = yes
					}
					else_if = {
						limit = { OWNER = { PREV = { is_claimed_by = PREV } } }
						OWNER = { add_to_variable = { var = PREV.afr_empire_state_loyalty_var@THIS value = 6 } }
						afr_empire_state_autonomy_var_increase_by_10 = yes
					}
					else = {
						OWNER = { add_to_variable = { var = PREV.afr_empire_state_loyalty_var@THIS value = 4 } }
						afr_empire_state_autonomy_var_increase_by_20 = yes
					}
					if = {
						limit = {
							afr_state_has_multiple_cores = yes
						}
						OWNER = { add_to_variable = { var = PREV.afr_empire_state_loyalty_var@THIS value = -3 } }
						afr_empire_state_autonomy_var_increase_by_10 = yes
					}
					if = {
						limit = { 
							is_capital = no
							OWNER = {
								OR = {
									has_idea = AF_T_unorganized_tribal_nation
									has_idea = AF_T_unorganized_tribal_nation_2
									has_idea = AF_T_unorganized_tribal_nation_3
									has_idea = AF_T_unorganized_tribal_nation_4
									has_idea = AF_T_unorganized_tribal_nation_5
								}
							}
						}
						afr_empire_state_autonomy_var_increase_by_60 = yes
					}
					else_if = {
						limit = { 
							is_capital = no
							OWNER = {
								OR = {
									has_idea = AF_T_organized_tribal_nation
									has_idea = AF_T_organized_tribal_nation_2
									has_idea = AF_T_organized_tribal_nation_3
								}
							}
						}
						afr_empire_state_autonomy_var_increase_by_40 = yes
					}
					else_if = {
						limit = { 
							is_capital = no
							OWNER = {
								OR = {
									has_idea = Oceania_small_kingdom
									has_idea = AF_T_small_kingdom
								}
							}
						}
						afr_empire_state_autonomy_var_increase_by_20 = yes
					}
					else_if = {
						limit = { 
							is_capital = no
							OWNER = {
								OR = {
									has_idea = Oceania_large_kingdom
									has_idea = Oceania_eastern_oriented_regional_power
									has_idea = Oceania_western_oriented_regional_power
									has_idea = afr_large_kingdom
									has_idea = afr_reforming_kingdom
								}
							}
						}
						afr_empire_state_autonomy_var_increase_by_10 = yes
					}
					if = {
						limit = { OWNER = { has_variable = PREV.afr_empire_state_loyalty_var@THIS } }
						OWNER = { 
							clamp_variable = {
								var = PREV.afr_empire_state_loyalty_var@THIS
								min = -1
								max = 10
							}
						}
					}
					if = {
						limit = { OWNER = { has_variable = PREV.afr_empire_state_autonomy_var@THIS } }
						OWNER = { 
							clamp_variable = {
								var = PREV.afr_empire_state_autonomy_var@THIS
								min = 0
								max = 100
							}
						}
					}
					#############################
					###Decentralized Authority###
					#############################
					if = {
						limit = {
							OR = {
								########MOR
								STATE = 699
								STATE = 836
								STATE = 837
								########SKT
								STATE = 1383
								STATE = 1218
							}
						}
						afr_empire_politics_decentralized_authority_on_state_set = yes
					}
					##############################
					###Public Opinion Mechanics###
					##############################
					if = {
						limit = {
							OWNER = { check_variable = { var = PREV.afr_empire_state_loyalty_var@THIS value = 0 compare = greater_than_or_equals } }
							OWNER = { check_variable = { var = PREV.afr_empire_state_loyalty_var@THIS value = 3 compare = less_than } }
						}
						set_variable = { var = afr_empire_state_public_opinion_var value = 35 }
					}
					else_if = {
						limit = {
							OWNER = { check_variable = { var = PREV.afr_empire_state_loyalty_var@THIS value = 3 compare = greater_than_or_equals } }
							OWNER = { check_variable = { var = PREV.afr_empire_state_loyalty_var@THIS value = 6 compare = less_than } }
						}
						set_variable = { var = afr_empire_state_public_opinion_var value = 50 }
					}
					else_if = {
						limit = {
							OWNER = { check_variable = { var = PREV.afr_empire_state_loyalty_var@THIS value = 6 compare = greater_than_or_equals } }
							OWNER = { check_variable = { var = PREV.afr_empire_state_loyalty_var@THIS value = 9 compare = less_than } }
						}
						set_variable = { var = afr_empire_state_public_opinion_var value = 50 }
					}
					else_if = {
						limit = {
							OWNER = { check_variable = { var = PREV.afr_empire_state_loyalty_var@THIS value = 9 compare = greater_than_or_equals } }
							OWNER = { check_variable = { var = PREV.afr_empire_state_loyalty_var@THIS value = 10 compare = less_than_or_equals } }
						}
						set_variable = { var = afr_empire_state_public_opinion_var value = 65 }
					}
				}
			}
		}
	}
}

#############################################
# African Empire Foreign Diplomacy Category #
#############################################

	country_event = {
		id = afr_empire_politics_foreign_diplomacy_event.1
		is_triggered_only = yes
		hidden = yes
		
		immediate = { hidden_effect = { FROM = { country_event = { id = afr_empire_politics_foreign_diplomacy_event.2 } } } }
	}
	
	country_event = {
		id = afr_empire_politics_foreign_diplomacy_event.2
		title = afr_empire_politics_foreign_diplomacy_event.2.t
		desc = afr_empire_politics_foreign_diplomacy_event.2.desc
		is_triggered_only = yes
		
		option = { #Uniform and Guns
			name = afr_empire_politics_foreign_diplomacy_event.2.a
			trigger = { always = yes }
			if = {
				limit = { OR = { afr_is_tribal = yes is_nomadic_nation_state = yes is_first_nations_tribe = yes oceania_is_tribal = yes } }
				add_equipment_to_stockpile = {
					type = infantry_equipment_rifle_0
					amount = 150
					producer = FROM
				}
				add_equipment_to_stockpile = {
					type = uniform_equipment_0
					amount = 150
					producer = FROM
				}
			}
			else = { 
				add_equipment_to_stockpile = {
					type = infantry_equipment_rifle_0
					amount = 350
					producer = FROM
				}
				add_equipment_to_stockpile = {
					type = uniform_equipment_0
					amount = 350
					producer = FROM
				}
			}
			hidden_effect = { clr_country_flag = afr_empire_politics_foreign_diplomacy_in_event_flag }
		}
		option = { #Artillery
			name = afr_empire_politics_foreign_diplomacy_event.2.b
			trigger = { always = no }
			hidden_effect = { clr_country_flag = afr_empire_politics_foreign_diplomacy_in_event_flag }
		}
		option = { #Mobile Cav or Armor
			name = afr_empire_politics_foreign_diplomacy_event.2.c
			trigger = { always = no }
			hidden_effect = { clr_country_flag = afr_empire_politics_foreign_diplomacy_in_event_flag }
		}
	}


#

	country_event = {
		id = afr_empire_politics_wiki_main_menu.1
		title = afr_empire_politics_wiki_main_menu.1.t
		desc = afr_empire_politics_wiki_main_menu.1.desc
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_wiki_main_menu.1.a
			country_event = { id = afr_empire_politics_wiki_menu_autonomy.1 }
		}
		option = {
			name = afr_empire_politics_wiki_main_menu.1.b
			country_event = { id = afr_empire_politics_wiki_menu_loyalty.1 }
		}
		option = {
			name = afr_empire_politics_wiki_main_menu.1.c
			country_event = { id = afr_empire_politics_wiki_main_menu.2 }
		}
		option = {
			name = afr_empire_politics_wiki_menu_closed.1.d
		}
	}
	
	country_event = {
		id = afr_empire_politics_wiki_main_menu.2
		title = afr_empire_politics_wiki_main_menu.2.t
		desc = afr_empire_politics_wiki_main_menu.2.desc
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_wiki_main_menu.2.a
			country_event = { id = afr_empire_politics_wiki_menu_public_opinion.1 }
		}
		option = {
			name = afr_empire_politics_wiki_main_menu.2.b
			country_event = { id = afr_empire_politics_wiki_menu_economy.1 }
		}
		option = {
			name = afr_empire_politics_wiki_main_menu.2.c
			country_event = { id = afr_empire_politics_wiki_main_menu.1 }
		}
		option = {
			name = afr_empire_politics_wiki_menu_closed.1.d
		}
	}
	
	
	country_event = {
		id = afr_empire_politics_wiki_menu_autonomy.1
		title = afr_empire_politics_wiki_menu_autonomy.1.t
		desc = afr_empire_politics_wiki_menu_autonomy.1.desc
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_wiki_return_to_main_menu.1.c
			country_event = { id = afr_empire_politics_wiki_main_menu.1 }
		}
		option = {
			name = afr_empire_politics_wiki_menu_closed.1.d
		}
	}
	country_event = {
		id = afr_empire_politics_wiki_menu_loyalty.1
		title = afr_empire_politics_wiki_menu_loyalty.1.t
		desc = afr_empire_politics_wiki_menu_loyalty.1.desc
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_wiki_return_to_main_menu.1.c
			country_event = { id = afr_empire_politics_wiki_main_menu.1 }
		}
		option = {
			name = afr_empire_politics_wiki_menu_closed.1.d
		}
	}
	country_event = {
		id = afr_empire_politics_wiki_menu_public_opinion.1
		title = afr_empire_politics_wiki_menu_public_opinion.1.t
		desc = afr_empire_politics_wiki_menu_public_opinion.1.desc
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_wiki_return_to_main_menu.1.c
			country_event = { id = afr_empire_politics_wiki_main_menu.1 }
		}
		option = {
			name = afr_empire_politics_wiki_menu_closed.1.d
		}
	}
	country_event = {
		id = afr_empire_politics_wiki_menu_economy.1
		title = afr_empire_politics_wiki_menu_economy.1.t
		desc = afr_empire_politics_wiki_menu_economy.1.desc
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_wiki_return_to_main_menu.1.c
			country_event = { id = afr_empire_politics_wiki_main_menu.1 }
		}
		option = {
			name = afr_empire_politics_wiki_menu_closed.1.d
		}
	}

	#############
	# Tax Focus #
	#############
	country_event = {
		id = afr_empire_politics_taxes_organized.1
		title = afr_empire_politics_taxes_organized.1.t
		desc = afr_empire_politics_taxes_organized.1.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_taxes_organized.1.c
			trigger = {
				OR = {
					has_idea = taxation_level_5
					has_idea = taxation_level_4
					has_idea = taxation_level_3
				}
			}
			ai_chance = { base = 100 }
			#Dont Change Taxes
		}
		
		option = {
			name = afr_empire_politics_taxes_organized.1.a
			ai_chance = { base = 0 }
			#Very Low
			#if = {
			#	limit = { has_idea = taxation_level_1 }
			#	swap_ideas = { remove_idea = taxation_level_1 add_idea = taxation_level_1 }
			#}
			if = {
				limit = { has_idea = taxation_level_2 }
				swap_ideas = { remove_idea = taxation_level_2 add_idea = taxation_level_1 }
				custom_effect_tooltip = afr_empire_politics_tax_status_very_low_tooltip
			}
			else_if = {
				limit = { has_idea = taxation_level_3 }
				swap_ideas = { remove_idea = taxation_level_3 add_idea = taxation_level_1 }
				custom_effect_tooltip = afr_empire_politics_tax_status_very_low_tooltip
			}
			else_if = {
				limit = { has_idea = taxation_level_4 }
				swap_ideas = { remove_idea = taxation_level_4 add_idea = taxation_level_1 }
				custom_effect_tooltip = afr_empire_politics_tax_status_very_low_tooltip
			}
			else_if = {
				limit = { has_idea = taxation_level_5 }
				swap_ideas = { remove_idea = taxation_level_5 add_idea = taxation_level_1 }
				custom_effect_tooltip = afr_empire_politics_tax_status_very_low_tooltip
			}
		}
		
		option = {
			name = afr_empire_politics_taxes_organized.1.b
			ai_chance = { 
				base = 100 
				modifier = {
					factor = 0
					OR = {
						has_idea = taxation_level_5
						has_idea = taxation_level_4
						has_idea = taxation_level_3
					}
				}
			}
			#Low
			if = {
				limit = { has_idea = taxation_level_1 }
				swap_ideas = { remove_idea = taxation_level_1 add_idea = taxation_level_2 }
				custom_effect_tooltip = afr_empire_politics_tax_status_low_tooltip
			}
			#else_if = {
			#	limit = { has_idea = taxation_level_2 }
			#	swap_ideas = { remove_idea = taxation_level_2 add_idea = taxation_level_2 }
			#}
			else_if = {
				limit = { has_idea = taxation_level_3 }
				swap_ideas = { remove_idea = taxation_level_3 add_idea = taxation_level_2 }
				custom_effect_tooltip = afr_empire_politics_tax_status_low_tooltip
			}
			else_if = {
				limit = { has_idea = taxation_level_4 }
				swap_ideas = { remove_idea = taxation_level_4 add_idea = taxation_level_2 }
				custom_effect_tooltip = afr_empire_politics_tax_status_low_tooltip
			}
			else_if = {
				limit = { has_idea = taxation_level_5 }
				swap_ideas = { remove_idea = taxation_level_5 add_idea = taxation_level_2 }
				custom_effect_tooltip = afr_empire_politics_tax_status_low_tooltip
			}
		}
	}
	country_event = {
		id = afr_empire_politics_taxes_small_kingdom.1
		title = afr_empire_politics_taxes_small_kingdom.1.t
		desc = afr_empire_politics_taxes_small_kingdom.1.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_taxes_small_kingdom.1.e
			trigger = {
				OR = {
					has_idea = taxation_level_5
					has_idea = taxation_level_4
				}
			}
			ai_chance = { base = 100 }
			#Dont Change Taxes
		}
		
		option = {
			name = afr_empire_politics_taxes_small_kingdom.1.a
			ai_chance = { base = 0 }
			#Very Low
			#if = {
			#	limit = { has_idea = taxation_level_1 }
			#	swap_ideas = { remove_idea = taxation_level_1 add_idea = taxation_level_1 }
			#}
			if = {
				limit = { has_idea = taxation_level_2 }
				swap_ideas = { remove_idea = taxation_level_2 add_idea = taxation_level_1 }
				custom_effect_tooltip = afr_empire_politics_tax_status_very_low_tooltip
			}
			else_if = {
				limit = { has_idea = taxation_level_3 }
				swap_ideas = { remove_idea = taxation_level_3 add_idea = taxation_level_1 }
				custom_effect_tooltip = afr_empire_politics_tax_status_very_low_tooltip
			}
			else_if = {
				limit = { has_idea = taxation_level_4 }
				swap_ideas = { remove_idea = taxation_level_4 add_idea = taxation_level_1 }
				custom_effect_tooltip = afr_empire_politics_tax_status_very_low_tooltip
			}
			else_if = {
				limit = { has_idea = taxation_level_5 }
				swap_ideas = { remove_idea = taxation_level_5 add_idea = taxation_level_1 }
				custom_effect_tooltip = afr_empire_politics_tax_status_very_low_tooltip
			}
		}
		
		option = {
			name = afr_empire_politics_taxes_small_kingdom.1.b
			ai_chance = { base = 0 }
			#Low
			if = {
				limit = { has_idea = taxation_level_1 }
				swap_ideas = { remove_idea = taxation_level_1 add_idea = taxation_level_2 }
				custom_effect_tooltip = afr_empire_politics_tax_status_low_tooltip
			}
			#else_if = {
			#	limit = { has_idea = taxation_level_2 }
			#	swap_ideas = { remove_idea = taxation_level_2 add_idea = taxation_level_2 }
			#}
			else_if = {
				limit = { has_idea = taxation_level_3 }
				swap_ideas = { remove_idea = taxation_level_3 add_idea = taxation_level_2 }
				custom_effect_tooltip = afr_empire_politics_tax_status_low_tooltip
			}
			else_if = {
				limit = { has_idea = taxation_level_4 }
				swap_ideas = { remove_idea = taxation_level_4 add_idea = taxation_level_2 }
				custom_effect_tooltip = afr_empire_politics_tax_status_low_tooltip
			}
			else_if = {
				limit = { has_idea = taxation_level_5 }
				swap_ideas = { remove_idea = taxation_level_5 add_idea = taxation_level_2 }
				custom_effect_tooltip = afr_empire_politics_tax_status_low_tooltip
			}
		}
		
		option = {
			name = afr_empire_politics_taxes_small_kingdom.1.c
			ai_chance = { 
				base = 100 
				modifier = {
					factor = 0
					OR = {
						has_idea = taxation_level_5
						has_idea = taxation_level_4
					}
				}
			}
			#Standard
			if = {
				limit = { has_idea = taxation_level_1 }
				swap_ideas = { remove_idea = taxation_level_1 add_idea = taxation_level_3 }
			}
			else_if = {
				limit = { has_idea = taxation_level_2 }
				swap_ideas = { remove_idea = taxation_level_2 add_idea = taxation_level_3 }
			}
			#else_if = {
			#	limit = { has_idea = taxation_level_3 }
			#	swap_ideas = { remove_idea = taxation_level_3 add_idea = taxation_level_3 }
			#}
			else_if = {
				limit = { has_idea = taxation_level_4 }
				swap_ideas = { remove_idea = taxation_level_4 add_idea = taxation_level_3 }
			}
			else_if = {
				limit = { has_idea = taxation_level_5 }
				swap_ideas = { remove_idea = taxation_level_5 add_idea = taxation_level_3 }
			}
		}
	}
	country_event = {
		id = afr_empire_politics_taxes_regional_power.1
		title = afr_empire_politics_taxes_regional_power.1.t
		desc = afr_empire_politics_taxes_regional_power.1.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_taxes_regional_power.1.a
			ai_chance = { base = 100 }
			#Very High
			if = {
				limit = { has_idea = taxation_level_1 }
				swap_ideas = { remove_idea = taxation_level_1 add_idea = taxation_level_5 }
				custom_effect_tooltip = afr_empire_politics_tax_status_very_high_tooltip
			}
			else_if = {
				limit = { has_idea = taxation_level_2 }
				swap_ideas = { remove_idea = taxation_level_2 add_idea = taxation_level_5 }
				custom_effect_tooltip = afr_empire_politics_tax_status_very_high_tooltip
			}
			else_if = {
				limit = { has_idea = taxation_level_3 }
				swap_ideas = { remove_idea = taxation_level_3 add_idea = taxation_level_5 }
				custom_effect_tooltip = afr_empire_politics_tax_status_very_high_tooltip
			}
			else_if = {
				limit = { has_idea = taxation_level_4 }
				swap_ideas = { remove_idea = taxation_level_4 add_idea = taxation_level_5 }
				custom_effect_tooltip = afr_empire_politics_tax_status_very_high_tooltip
			}
			else_if = {
				limit = { has_idea = taxation_level_5 }
				custom_effect_tooltip = afr_empire_politics_tax_status_very_high_tooltip
			}
		}
		
		option = {
			name = afr_empire_politics_taxes_regional_power.1.b
			ai_chance = { base = 100 }
			#High
			if = {
				limit = { has_idea = taxation_level_1 }
				swap_ideas = { remove_idea = taxation_level_1 add_idea = taxation_level_4 }
				custom_effect_tooltip = afr_empire_politics_tax_status_high_tooltip
			}
			else_if = {
				limit = { has_idea = taxation_level_2 }
				swap_ideas = { remove_idea = taxation_level_2 add_idea = taxation_level_4 }
				custom_effect_tooltip = afr_empire_politics_tax_status_high_tooltip
			}
			else_if = {
				limit = { has_idea = taxation_level_3 }
				swap_ideas = { remove_idea = taxation_level_3 add_idea = taxation_level_4 }
				custom_effect_tooltip = afr_empire_politics_tax_status_high_tooltip
			}
			else_if = {
				limit = { has_idea = taxation_level_4 }
				custom_effect_tooltip = afr_empire_politics_tax_status_high_tooltip
			}
			else_if = {
				limit = { has_idea = taxation_level_5 }
				swap_ideas = { remove_idea = taxation_level_5 add_idea = taxation_level_4 }
				custom_effect_tooltip = afr_empire_politics_tax_status_high_tooltip
			}
		}
		
		option = {
			name = afr_empire_politics_taxes_regional_power.1.c
			ai_chance = { base = 0 }
			#Standard
			if = {
				limit = { has_idea = taxation_level_1 }
				swap_ideas = { remove_idea = taxation_level_1 add_idea = taxation_level_3 }
			}
			else_if = {
				limit = { has_idea = taxation_level_2 }
				swap_ideas = { remove_idea = taxation_level_2 add_idea = taxation_level_3 }
			}
			#else_if = {
			#	limit = { has_idea = taxation_level_3 }
			#	swap_ideas = { remove_idea = taxation_level_3 add_idea = taxation_level_3 }
			#}
			else_if = {
				limit = { has_idea = taxation_level_4 }
				swap_ideas = { remove_idea = taxation_level_4 add_idea = taxation_level_3 }
			}
			else_if = {
				limit = { has_idea = taxation_level_5 }
				swap_ideas = { remove_idea = taxation_level_5 add_idea = taxation_level_3 }
			}
		}
		
		option = {
			name = afr_empire_politics_taxes_regional_power.1.e
			ai_chance = { base = 0 }
			#Next Page
			hidden_effect = { country_event = { id = afr_empire_politics_taxes_regional_power.2 } }
			custom_effect_tooltip = afr_empire_next_page_tooltip
		}
	}
	country_event = {
		id = afr_empire_politics_taxes_regional_power.2
		title = afr_empire_politics_taxes_regional_power.2.t
		desc = afr_empire_politics_taxes_regional_power.2.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_taxes_regional_power.2.a
			ai_chance = { base = 0 }
			#Very Low
			if = {
				limit = { has_idea = taxation_level_1 }
				custom_effect_tooltip = afr_empire_politics_tax_status_very_low_tooltip
			}
			else_if = {
				limit = { has_idea = taxation_level_2 }
				swap_ideas = { remove_idea = taxation_level_2 add_idea = taxation_level_1 }
				custom_effect_tooltip = afr_empire_politics_tax_status_very_low_tooltip
			}
			else_if = {
				limit = { has_idea = taxation_level_3 }
				swap_ideas = { remove_idea = taxation_level_3 add_idea = taxation_level_1 }
				custom_effect_tooltip = afr_empire_politics_tax_status_very_low_tooltip
			}
			else_if = {
				limit = { has_idea = taxation_level_4 }
				swap_ideas = { remove_idea = taxation_level_4 add_idea = taxation_level_1 }
				custom_effect_tooltip = afr_empire_politics_tax_status_very_low_tooltip
			}
			else_if = {
				limit = { has_idea = taxation_level_5 }
				swap_ideas = { remove_idea = taxation_level_5 add_idea = taxation_level_1 }
				custom_effect_tooltip = afr_empire_politics_tax_status_very_low_tooltip
			}
		}
		
		option = {
			name = afr_empire_politics_taxes_regional_power.2.b
			ai_chance = { base = 0 }
			#Low
			if = {
				limit = { has_idea = taxation_level_1 }
				swap_ideas = { remove_idea = taxation_level_1 add_idea = taxation_level_2 }
				custom_effect_tooltip = afr_empire_politics_tax_status_low_tooltip
			}
			else_if = {
				limit = { has_idea = taxation_level_2 }
				custom_effect_tooltip = afr_empire_politics_tax_status_low_tooltip
			}
			else_if = {
				limit = { has_idea = taxation_level_3 }
				swap_ideas = { remove_idea = taxation_level_3 add_idea = taxation_level_2 }
				custom_effect_tooltip = afr_empire_politics_tax_status_low_tooltip
			}
			else_if = {
				limit = { has_idea = taxation_level_4 }
				swap_ideas = { remove_idea = taxation_level_4 add_idea = taxation_level_2 }
				custom_effect_tooltip = afr_empire_politics_tax_status_low_tooltip
			}
			else_if = {
				limit = { has_idea = taxation_level_5 }
				swap_ideas = { remove_idea = taxation_level_5 add_idea = taxation_level_2 }
				custom_effect_tooltip = afr_empire_politics_tax_status_low_tooltip
			}
		}
		
		option = {
			name = afr_empire_politics_taxes_regional_power.2.c
			ai_chance = { base = 100 }
			#Next Page
			hidden_effect = { country_event = { id = afr_empire_politics_taxes_regional_power.1 } }
			custom_effect_tooltip = afr_empire_next_page_tooltip
		}
	}
	
	#################
	# Tax Decisions #
	#################
	
	###
	
	state_event = {
		id = afr_state_setup_event.1
		hidden = yes
		is_triggered_only = yes
		immediate = { 
			if = {
				limit = { has_state_flag = afr_state_setup_1857 }
				ROOT = { afr_state_setup_event_scripted_1857 = yes }
			}
		}
	}
	
	country_event = {
		id = afr_mid_game_fix_event.1
		hidden = yes
		is_triggered_only = yes
		immediate = { 
			every_country = {
				limit = {
					OR = {
						afr_is_tribal = yes
						oceania_is_tribal = yes
						has_variable = has_afr_empire_mechanic_system
					}
				}
				if = {
					limit = {
						NOT = { has_variable = has_afr_empire_mechanic_system }
						OR = {
							afr_is_tribal = yes
							oceania_is_tribal = yes
						}
					}
					set_variable = { var = has_afr_empire_mechanic_system value = 1 }
				}
				else_if = { 
					limit = { 
						NOT = { 
							OR = {
								afr_is_tribal = yes
								oceania_is_tribal = yes
							} 
						}
						has_variable = has_afr_empire_mechanic_system
					}
					clear_variable = has_afr_empire_mechanic_system 
				}
			}
		}
	}

	state_event = {
		id = afr_empire_state_autonomy_full_release_event.1
		hidden = yes
		is_triggered_only = yes
		immediate = { 
			
		}
	}
	
	
	###################################
	###State Loyalty 10 : Core Event###
	###################################
	state_event = {
		id = afr_empire_state_loyalty_full_core_event.1
		hidden = yes
		is_triggered_only = yes

		immediate = {
			OWNER = {
				random_owned_state = {
					limit = { STATE = ROOT }
					OWNER = { PREV = { state_event = { id = afr_empire_state_loyalty_full_core_event.2 } } }
				}
			}
		}
	}
	state_event = {
		id = afr_empire_state_loyalty_full_core_event.2
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			ROOT = { OWNER = { country_event = { id = afr_empire_state_loyalty_full_core_event.3 } } }
		}
	}
	country_event = {
		id = afr_empire_state_loyalty_full_core_event.3
		title = afr_empire_state_loyalty_full_core_event.3.t
		desc = afr_empire_state_loyalty_full_core_event.3.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_state_loyalty_full_core_event.3.a
			ai_chance = { base = 100 }
			FROM = { add_dynamic_modifier = { modifier = afr_empire_state_loyalty_full_core_idea scope = ROOT days = 365 } }
			hidden_effect = {
				FROM = { OWNER = { set_variable = { var = THIS.afr_empire_state_loyalty_full_core_var@PREV value = 1 } } }
				FROM = { state_event = { id = afr_empire_state_loyalty_full_core_event_completed.1 days = 365 trigger_for = controller } }
			}
		}
		
		option = {
			name = afr_empire_state_loyalty_full_core_event.3.b
			ai_chance = { base = 0 }
			
		}
	}
	#########################################
	#   Completed 9-10 Loyalty for 1 Year  #
	#########################################
	state_event = {
		id = afr_empire_state_loyalty_full_core_event_completed.1
		hidden = yes
		is_triggered_only = yes

		immediate = {
			OWNER = {
				random_owned_state = {
					limit = { STATE = ROOT }
					if = {
						limit = { 
							FROM = { check_variable = { var = THIS.afr_empire_state_loyalty_full_core_var@PREV value = 1 compare = equals } } 
							is_owned_and_controlled_by = FROM
						}
						OWNER = { PREV = { state_event = { id = afr_empire_state_loyalty_full_core_event_completed.2 } } }
					}
					else_if = {
						limit = { 
							FROM = { check_variable = { var = THIS.afr_empire_state_loyalty_full_core_var@PREV value = 1 compare = equals } } 
							NOT = { is_owned_and_controlled_by = FROM }
						}
						FROM = { clear_variable = THIS.afr_empire_state_loyalty_full_core_var@PREV }
					}
				}
			}
		}
	}
	state_event = {
		id = afr_empire_state_loyalty_full_core_event_completed.2
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			ROOT = { OWNER = { country_event = { id = afr_empire_state_loyalty_full_core_event_completed.3 } } }
		}
	}
	country_event = {
		id = afr_empire_state_loyalty_full_core_event_completed.3
		title = afr_empire_state_loyalty_full_core_event_completed.3.t
		desc = afr_empire_state_loyalty_full_core_event_completed.3.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_state_loyalty_full_core_event_completed.3.a
			ai_chance = { base = 100 }
			FROM = { add_core_of = ROOT }
			add_stability = 0.07
			hidden_effect = {
				FROM = { OWNER = { clear_variable = THIS.afr_empire_state_loyalty_full_core_var@PREV } }
				FROM = { remove_dynamic_modifier = { modifier = afr_empire_state_loyalty_full_core_idea } }
			}
		}
		
		option = {
			name = afr_empire_state_loyalty_full_core_event_completed.3.b
			ai_chance = { base = 0 }
			hidden_effect = {
				FROM = { OWNER = { clear_variable = THIS.afr_empire_state_loyalty_full_core_var@PREV } }
				FROM = { remove_dynamic_modifier = { modifier = afr_empire_state_loyalty_full_core_idea } }
			}
		}
	}
	#####################################
	#   Failed 9-10 Loyalty for 1 Year  #
	#####################################
	
	country_event = {
		id = afr_empire_state_loyalty_full_core_event_failed.1
		title = afr_empire_state_loyalty_full_core_event_failed.1.t
		desc = afr_empire_state_loyalty_full_core_event_failed.1.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		immediate = { 
			hidden_effect = { ROOT = { clear_variable = afr_empire_state_loyalty_full_core_event_failed_var } }
		}
		
		option = {
			name = afr_empire_state_loyalty_full_core_event_failed.1.a
			ai_chance = { base = 100 }
			hidden_effect = {
				
			}
		}
		
	}
	
	
	#####################################
	###State Loyalty -1 : Revolt Event###
	#####################################
	state_event = {
		id = afr_empire_state_loyalty_none_revolt_event.1
		hidden = yes
		is_triggered_only = yes
		immediate = { 
			
		}
	}
	
	state_event = {
		id = afr_state_owner_change_setup_event.1
		hidden = yes
		is_triggered_only = yes
		
		trigger = {
			ROOT = { controller = { NOT = { has_variable = PREV.afr_empire_state_loyalty_var@THIS } } }
			ROOT = { controller = { NOT = { has_variable = PREV.afr_empire_state_autonomy_var@THIS } } }
		}
		
		immediate = { 
			ROOT = {
				if = {
					limit = { THIS = { is_capital = yes } }
					controller = { add_to_variable = { var = PREV.afr_empire_state_autonomy_var@THIS value = 30 } }
					if = {
						limit = { controller = { check_variable = { var = PREV.afr_empire_politics_decentralized_authority@THIS value = 1 compare = equals } } }
						controller = {
							clamp_variable = {
								var = PREV.afr_empire_state_autonomy_var@THIS
								min = 75
								max = 100
							}
						}
					}
					else = {
						controller = {
							clamp_variable = {
								var = PREV.afr_empire_state_autonomy_var@THIS
								min = 0
								max = 100
							}
						}
					}
					afr_empire_politics_state_modifier_scripted_effect = yes
				}
				if = {
					limit = { controller = { PREV = { is_core_of = PREV } } }
					controller = { add_to_variable = { var = PREV.afr_empire_state_loyalty_var@THIS value = 9 } }
					afr_empire_politics_state_modifier_scripted_effect = yes
				}
				else_if = {
					limit = { controller = { PREV = { is_claimed_by = PREV } } }
					controller = { add_to_variable = { var = PREV.afr_empire_state_loyalty_var@THIS value = 6 } }
					afr_empire_politics_state_modifier_scripted_effect = yes
				}
				else = {
					controller = { add_to_variable = { var = PREV.afr_empire_state_loyalty_var@THIS value = 4 } }
					afr_empire_politics_state_modifier_scripted_effect = yes
				}
				if = {
					limit = {
						afr_state_has_multiple_cores = yes
					}
					controller = { add_to_variable = { var = PREV.afr_empire_state_loyalty_var@THIS value = -3 } }
					controller = { add_to_variable = { var = PREV.afr_empire_state_autonomy_var@THIS value = 30 } }
					if = {
						limit = { controller = { check_variable = { var = PREV.afr_empire_politics_decentralized_authority@THIS value = 1 compare = equals } } }
						controller = {
							clamp_variable = {
								var = PREV.afr_empire_state_autonomy_var@THIS
								min = 75
								max = 100
							}
						}
					}
					else = {
						controller = {
							clamp_variable = {
								var = PREV.afr_empire_state_autonomy_var@THIS
								min = 0
								max = 100
							}
						}
					}
					afr_empire_politics_state_modifier_scripted_effect = yes
				}
				if = {
					limit = { 
						is_capital = no
						controller = {
							OR = {
								has_idea = AF_T_unorganized_tribal_nation
								has_idea = AF_T_unorganized_tribal_nation_2
								has_idea = AF_T_unorganized_tribal_nation_3
								has_idea = AF_T_unorganized_tribal_nation_4
								has_idea = AF_T_unorganized_tribal_nation_5
							}
						}
					}
					controller = { add_to_variable = { var = PREV.afr_empire_state_autonomy_var@THIS value = 60 } }
					if = {
						limit = { controller = { check_variable = { var = PREV.afr_empire_politics_decentralized_authority@THIS value = 1 compare = equals } } }
						controller = {
							clamp_variable = {
								var = PREV.afr_empire_state_autonomy_var@THIS
								min = 75
								max = 100
							}
						}
					}
					else = {
						controller = {
							clamp_variable = {
								var = PREV.afr_empire_state_autonomy_var@THIS
								min = 0
								max = 100
							}
						}
					}
					afr_empire_politics_state_modifier_scripted_effect = yes
				}
				else_if = {
					limit = { 
						controller = {
							OR = {
								has_idea = AF_T_organized_tribal_nation
								has_idea = AF_T_organized_tribal_nation_2
								has_idea = AF_T_organized_tribal_nation_3
							}
						}
					}
					controller = { add_to_variable = { var = PREV.afr_empire_state_autonomy_var@THIS value = 40 } }
					if = {
						limit = { controller = { check_variable = { var = PREV.afr_empire_politics_decentralized_authority@THIS value = 1 compare = equals } } }
						controller = {
							clamp_variable = {
								var = PREV.afr_empire_state_autonomy_var@THIS
								min = 75
								max = 100
							}
						}
					}
					else = {
						controller = {
							clamp_variable = {
								var = PREV.afr_empire_state_autonomy_var@THIS
								min = 0
								max = 100
							}
						}
					}
					afr_empire_politics_state_modifier_scripted_effect = yes
				}
				else_if = {
					limit = { 
						controller = {
							OR = {
								has_idea = Oceania_small_kingdom
								has_idea = AF_T_small_kingdom
							}
						}
					}
					controller = { add_to_variable = { var = PREV.afr_empire_state_autonomy_var@THIS value = 20 } }
					if = {
						limit = { controller = { check_variable = { var = PREV.afr_empire_politics_decentralized_authority@THIS value = 1 compare = equals } } }
						controller = {
							clamp_variable = {
								var = PREV.afr_empire_state_autonomy_var@THIS
								min = 75
								max = 100
							}
						}
					}
					else = {
						controller = {
							clamp_variable = {
								var = PREV.afr_empire_state_autonomy_var@THIS
								min = 0
								max = 100
							}
						}
					}
					afr_empire_politics_state_modifier_scripted_effect = yes
				}
				else_if = {
					limit = { 
						controller = {
							OR = {
								has_idea = Oceania_large_kingdom
								has_idea = Oceania_eastern_oriented_regional_power
								has_idea = Oceania_western_oriented_regional_power
								has_idea = afr_large_kingdom
								has_idea = afr_reforming_kingdom
							}
						}
					}
					controller = { add_to_variable = { var = PREV.afr_empire_state_autonomy_var@THIS value = 10 } }
					if = {
						limit = { controller = { check_variable = { var = PREV.afr_empire_politics_decentralized_authority@THIS value = 1 compare = equals } } }
						controller = {
							clamp_variable = {
								var = PREV.afr_empire_state_autonomy_var@THIS
								min = 75
								max = 100
							}
						}
					}
					else = {
						controller = {
							clamp_variable = {
								var = PREV.afr_empire_state_autonomy_var@THIS
								min = 0
								max = 100
							}
						}
					}
					afr_empire_politics_state_modifier_scripted_effect = yes
				}
				if = {
					limit = { controller = { has_variable = PREV.afr_empire_state_loyalty_var@THIS } }
					controller = { 
						clamp_variable = {
							var = PREV.afr_empire_state_loyalty_var@THIS
							min = -1
							max = 10
						}
					}
				}
				if = {
					limit = { controller = { has_variable = PREV.afr_empire_state_autonomy_var@THIS } }
					controller = { 
						clamp_variable = {
							var = PREV.afr_empire_state_autonomy_var@THIS
							min = 0
							max = 100
						}
					}
				}
				hidden_effect = {
					state_event = { id = afr_empire_politics_successful_remove_war_torn_event.1 days = 540 trigger_for = controller }
					afr_empire_politics_state_gain_emigration = yes
					afr_empire_politics_state_gain_war_torn = yes
					clr_state_flag = afr_empire_politics_has_regional_development_boom_flag
					clr_state_flag = afr_empire_politics_bountiful_harvest_boom_flag
					clr_state_flag = afr_empire_politics_minor_economic_boom_event_flag
				}
			}
		}
	}
	
	state_event = {
		id = afr_empire_mechanic_weekly_pulse_check_event.1
		hidden = yes
		is_triggered_only = yes
		immediate = { 
			random_state = { 
				afr_empire_mechanic_weekly_pulse_check = yes 
				state_event = { id = afr_empire_mechanic_weekly_pulse_check_event.1 days = 7 trigger_for = controller }
			}
		}
	}
	state_event = {
		id = afr_empire_mechanic_monthly_pulse_check_event.1
		hidden = yes
		is_triggered_only = yes
		immediate = { 
			every_country = {
				limit = { 
					has_idea = egy_vic_debt_payments
					NOT = { has_country_flag = paying_debt }
				}
				remove_ideas = egy_vic_debt_payments
			}
			every_country = {
				limit = { 
					has_variable = total_detrimental_colonial_impact_value
					NOT = { has_idea = afr_total_detrimental_colonial_impact_idea }
				}
				add_ideas = afr_total_detrimental_colonial_impact_idea
			}
			random_state = { 
				afr_empire_mechanic_monthly_pulse_check = yes 
				state_event = { id = afr_empire_mechanic_monthly_pulse_check_event.1 days = 30 trigger_for = controller }
			}
		}
	}

######################################
#####Subject/Overlord Autonomy Events#
######################################
#####Demand Promotion
	country_event = {
		id = afr_empire_politics_subject_promotion_demand.1
		title = afr_empire_politics_subject_promotion_demand.1.t
		desc = afr_empire_politics_subject_promotion_demand.1.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		#Accept Promotion
		option = {
			name = afr_empire_politics_subject_promotion_demand.1.a
			ai_chance = {
				base = 25
				modifier = {
					add = 50
					check_variable = { var = FROM.afr_empire_subject_loyalty_var@ROOT value = 6 compare = greater_than_or_equals }
				}
				modifier = {
					add = -50
					check_variable = { var = FROM.afr_empire_subject_loyalty_var@ROOT value = 9 compare = greater_than_or_equals }
					FROM = { has_autonomy_state = autonomy_afr_empire_level_4 }
				}
				modifier = {
					add = 50
					FROM = { check_variable = { var = Tribal_army_num value > 4999 } }
				}
				modifier = {
					add = 50
					FROM = { check_variable = { var = Tribal_horse_army_num value > 4999 } }
				}
				modifier = {
					add = 50
					FROM = { check_variable = { var = Tribal_camel_army_num value > 4999 } }
				}
			}
			#gain loyalty
			FROM = { custom_effect_tooltip = afr_empire_subject_loyalty_add_2 }
			hidden_effect = {
				add_to_variable = { var = FROM.afr_empire_subject_loyalty_var@ROOT value = 2 }
				clamp_variable = { var = FROM.afr_empire_subject_loyalty_var@ROOT min = -1 max = 10 }
			}
			hidden_effect = { FROM = { country_event = { id = afr_empire_politics_subject_promotion_demand.2 days = 3 } } }
			#Subject Promoted
			hidden_effect = {
				if = {
					limit = { 
						OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
						FROM = { has_autonomy_state = autonomy_afr_empire_level_4 }
					}
					set_autonomy = {
						target = FROM
						autonomy_state = autonomy_free
					}
				}
				else_if = {
					limit = {
						OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
						FROM = { has_autonomy_state = autonomy_afr_empire_level_3 }
					}
					set_autonomy = {
						target = FROM
						autonomy_state = autonomy_afr_empire_level_4
						freedom_level = 0.1
					}
					hidden_effect = {
						FROM = {
							add_autonomy_score = {
								value = 100
								localization = afr_empire_politics_overlord_permitted_promotion_demand
							}
						}
					}
				}
				else_if = {
					limit = { 
						OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
						FROM = { has_autonomy_state = autonomy_afr_empire_level_2 }
					}
					set_autonomy = {
						target = FROM
						autonomy_state = autonomy_afr_empire_level_3
						freedom_level = 0.1
					}
					hidden_effect = {
						FROM = {
							add_autonomy_score = {
								value = 100
								localization = afr_empire_politics_overlord_permitted_promotion_demand
							}
						}
					}
				}
				else_if = {
					limit = { 
						OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
						FROM = { has_autonomy_state = autonomy_afr_empire_level_1 }
					}
					set_autonomy = {
						target = FROM
						autonomy_state = autonomy_afr_empire_level_2
						freedom_level = 0.1
					}
					hidden_effect = {
						FROM = {
							add_autonomy_score = {
								value = 100
								localization = afr_empire_politics_overlord_permitted_promotion_demand
							}
						}
					}
				}
				else = {
					set_autonomy = {
						target = FROM
						autonomy_state = autonomy_free
					}
				}
			}
		}
		
		#Reject Promotion
		option = {
			name = afr_empire_politics_subject_promotion_demand.1.b
			ai_chance = {
				base = 50
				modifier = {
					add = 25
					check_variable = { var = FROM.afr_empire_subject_loyalty_var@ROOT value = 5 compare = less_than_or_equals }
					check_variable = { var = FROM.afr_empire_subject_loyalty_var@ROOT value = 3 compare = greater_than_or_equals }
				}
				modifier = {
					add = -25
					check_variable = { var = FROM.afr_empire_subject_loyalty_var@ROOT value = 3 compare = less_than_or_equals }
				}
				modifier = {
					add = 25
					if = {
						limit = { 
							OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
						}
						FROM = { has_autonomy_state = autonomy_afr_empire_level_4 }
					}
					else = {
						always = yes
					}
				}
			}
			#lose loyalty
			hidden_effect = {
				add_to_variable = { var = FROM.afr_empire_subject_loyalty_var@ROOT value = -3 }
				clamp_variable = { var = FROM.afr_empire_subject_loyalty_var@ROOT min = -1 max = 10 }
			}
			FROM = {
				custom_effect_tooltip = afr_empire_subject_loyalty_minus_3
				add_autonomy_score = {
					value = -400
					localization = afr_empire_politics_overlord_rejected_promotion_demand
				}
			}
			hidden_effect = { FROM = { country_event = { id = afr_empire_politics_subject_promotion_demand.3 days = 3 } } }
		}
	}
	
	#Overlord Accepts Promotion
	country_event = {
		id = afr_empire_politics_subject_promotion_demand.2
		title = afr_empire_politics_subject_promotion_demand.2.t
		desc = afr_empire_politics_subject_promotion_demand.2.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_subject_promotion_demand.2.a
			
		}
		
	}
	
	#Overlord Rejects Promotion
	country_event = {
		id = afr_empire_politics_subject_promotion_demand.3
		title = afr_empire_politics_subject_promotion_demand.3.t
		desc = afr_empire_politics_subject_promotion_demand.3.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_subject_promotion_demand.3.b
		}
	}

#####Demand Demotion
	country_event = {
		id = afr_empire_politics_subject_demotion_demand.1
		title = afr_empire_politics_subject_demotion_demand.1.t
		desc = afr_empire_politics_subject_demotion_demand.1.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		#accept demotion
		option = {
			name = afr_empire_politics_subject_demotion_demand.1.a
			ai_chance = {
				base = 25
				modifier = {
					add = 50
					check_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM value = 6 compare = greater_than_or_equals }
				}
				modifier = {
					add = 15
					check_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM value = 9 compare = greater_than_or_equals }
				}
			}
			hidden_effect = { FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.2 days = 3 } } }
			#gain loyalty
			custom_effect_tooltip = afr_empire_subject_loyalty_add_1
			hidden_effect = {
				add_to_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM value = 1 }
				clamp_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM min = -1 max = 10 }
			}
			#Subject demoted
			if = {
				limit = { 
					OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
					has_autonomy_state = autonomy_afr_empire_level_4
				}
				FROM = {
					set_autonomy = {
						target = ROOT
						autonomy_state = autonomy_afr_empire_level_3
						freedom_level = 0.9
					}
				}
				hidden_effect = {
					add_autonomy_score = {
						value = -200
						localization = afr_empire_politics_overlord_demotion_demand
					}
				}
			}
			else_if = {
				limit = {
					OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
					has_autonomy_state = autonomy_afr_empire_level_3
				}
				FROM = {
					set_autonomy = {
						target = ROOT
						autonomy_state = autonomy_afr_empire_level_2
						freedom_level = 0.9
					}
				}
				hidden_effect = {
					add_autonomy_score = {
						value = -200
						localization = afr_empire_politics_overlord_demotion_demand
					}
				}
			}
			else_if = {
				limit = { 
					OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
					has_autonomy_state = autonomy_afr_empire_level_2
				}
				FROM = {
					set_autonomy = {
						target = ROOT
						autonomy_state = autonomy_afr_empire_level_1
						freedom_level = 0.9
					}
				}
				hidden_effect = {
					add_autonomy_score = {
						value = -200
						localization = afr_empire_politics_overlord_demotion_demand
					}
				}
			}
			else_if = {
				limit = { 
					OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
					has_autonomy_state = autonomy_afr_empire_level_1
				}
				hidden_effect = {
					if = {
						limit = { ROOT = { has_variable = Tribal_army_num } }
						add_to_variable = { var = FROM.Tribal_army_num value = ROOT.Tribal_army_num }
					}
					if = {
						limit = { ROOT = { has_variable = Tribal_horse_army_num } }
						add_to_variable = { var = FROM.Tribal_horse_army_num value = ROOT.Tribal_horse_army_num }
					}
					if = {
						limit = { ROOT = { has_variable = Tribal_camel_army_num } }
						add_to_variable = { var = FROM.Tribal_camel_army_num value = ROOT.Tribal_camel_army_num }
					}
				}
				FROM = {
					annex_country = {
						target = ROOT
						transfer_troops = yes
					}
				}
			}
			else = {
				if = {
					limit = { is_subject_of = FROM }
					hidden_effect = {
						if = {
							limit = { ROOT = { has_variable = Tribal_army_num } }
							add_to_variable = { var = FROM.Tribal_army_num value = ROOT.Tribal_army_num }
						}
						if = {
							limit = { ROOT = { has_variable = Tribal_horse_army_num } }
							add_to_variable = { var = FROM.Tribal_horse_army_num value = ROOT.Tribal_horse_army_num }
						}
						if = {
							limit = { ROOT = { has_variable = Tribal_camel_army_num } }
							add_to_variable = { var = FROM.Tribal_camel_army_num value = ROOT.Tribal_camel_army_num }
						}
					}
					FROM = {
						annex_country = {
							target = ROOT
							transfer_troops = yes
						}
					}
				}
			}
		}
		
		#reject demotion
		option = {
			name = afr_empire_politics_subject_demotion_demand.1.b
			ai_chance = {
				base = 25
				modifier = {
					add = 25
					check_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM value = 5 compare = less_than_or_equals }
				}
				modifier = {
					add = 50
					check_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM value = 2 compare = less_than_or_equals }
				}
			}
			hidden_effect = { FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.3 days = 3 } } }
		}
	}
	
	#Subject Accepts Demotion
	country_event = {
		id = afr_empire_politics_subject_demotion_demand.2
		title = afr_empire_politics_subject_demotion_demand.2.t
		desc = afr_empire_politics_subject_demotion_demand.2.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_subject_demotion_demand.2.a
			
		}
		
	}
	
	#Subject Rejects Demotion
	country_event = {
		id = afr_empire_politics_subject_demotion_demand.3
		title = afr_empire_politics_subject_demotion_demand.3.t
		desc = afr_empire_politics_subject_demotion_demand.3.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		#Conceded Demotion Demand
		option = {
			name = afr_empire_politics_subject_demotion_demand.3.a
			ai_chance = {
				base = 25
				modifier = {
					add = 25
					check_variable = { var = FROM.afr_empire_subject_loyalty_var@ROOT value = 9 compare = greater_than_or_equals }
				}
				modifier = {
					add = 45
					FROM = { check_variable = { var = Tribal_army_num value > 4999 } }
				}
				modifier = {
					add = 45
					FROM = { check_variable = { var = Tribal_horse_army_num value > 4999 } }
				}
				modifier = {
					add = 45
					FROM = { check_variable = { var = Tribal_camel_army_num value > 4999 } }
				}
			}
			hidden_effect = {
				FROM = {
					add_autonomy_score = {
						value = 500
						localization = afr_empire_politics_overlord_conceded_demotion_demand
					}
				}
			}
			hidden_effect = { FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.4 days = 3 } } }
			#subject gains autonomy
			custom_effect_tooltip = afr_empire_politics_subject_demotion_demand_3_tooltip
		}
		
		#Enforce Demotion Demand
		option = {
			name = afr_empire_politics_subject_demotion_demand.3.b
			ai_chance = {
				base = 50
				modifier = {
					add = 25
					check_variable = { var = FROM.afr_empire_subject_loyalty_var@ROOT value = 2 compare = less_than_or_equals }
				}
				modifier = {
					add = 25
					AND = {
						FROM = { check_variable = { var = Tribal_army_num value < 5000 } }
						FROM = { check_variable = { var = Tribal_horse_army_num value < 5000 } }
						FROM = { check_variable = { var = Tribal_camel_army_num value < 5000 } }
					}
				}
			}
			hidden_effect = { FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.5 days = 3 } } }
			FROM = { custom_effect_tooltip = afr_empire_subject_loyalty_minus_2 }
			hidden_effect = {
				add_to_variable = { var = FROM.afr_empire_subject_loyalty_var@ROOT value = -2 }
				clamp_variable = { var = FROM.afr_empire_subject_loyalty_var@ROOT min = -2 max = 10 }
			}
		}
	}
	
	#Overlord Conceded Demotion Demand
	country_event = {
		id = afr_empire_politics_subject_demotion_demand.4
		title = afr_empire_politics_subject_demotion_demand.4.t
		desc = afr_empire_politics_subject_demotion_demand.4.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_subject_demotion_demand.4.a
			
		}
		
	}
	
	#Overlord Enforces Demotion Demand
	country_event = {
		id = afr_empire_politics_subject_demotion_demand.5
		title = afr_empire_politics_subject_demotion_demand.5.t
		desc = afr_empire_politics_subject_demotion_demand.5.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		#Accept Demotion
		option = {
			name = afr_empire_politics_subject_demotion_demand.5.a
			ai_chance = {
				base = 50
				modifier = {
					add = 25
					check_variable = { var = Tribal_army_num value < 10000 }
					check_variable = { var = Tribal_horse_army_num value < 10000 }
					check_variable = { var = Tribal_camel_army_num value < 10000 }
				}
			}
			#Subject demoted
			if = {
				limit = { 
					OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
					has_autonomy_state = autonomy_afr_empire_level_4
				}
				FROM = {
					set_autonomy = {
						target = ROOT
						autonomy_state = autonomy_afr_empire_level_3
						freedom_level = 0.9
					}
				}
				hidden_effect = {
					add_autonomy_score = {
						value = -600
						localization = afr_empire_politics_overlord_enforces_demotion_demand
					}
				}
			}
			else_if = {
				limit = {
					OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
					has_autonomy_state = autonomy_afr_empire_level_3
				}
				FROM = {
					set_autonomy = {
						target = ROOT
						autonomy_state = autonomy_afr_empire_level_2
						freedom_level = 0.9
					}
				}
				hidden_effect = {
					add_autonomy_score = {
						value = -600
						localization = afr_empire_politics_overlord_enforces_demotion_demand
					}
				}
			}
			else_if = {
				limit = { 
					OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
					has_autonomy_state = autonomy_afr_empire_level_2
				}
				FROM = {
					set_autonomy = {
						target = ROOT
						autonomy_state = autonomy_afr_empire_level_1
						freedom_level = 0.9
					}
				}
				hidden_effect = {
					add_autonomy_score = {
						value = -600
						localization = afr_empire_politics_overlord_enforces_demotion_demand
					}
				}
			}
			else_if = {
				limit = { 
					OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
					has_autonomy_state = autonomy_afr_empire_level_1
				}
				hidden_effect = {
					if = {
						limit = { ROOT = { has_variable = Tribal_army_num } }
						add_to_variable = { var = FROM.Tribal_army_num value = ROOT.Tribal_army_num }
					}
					if = {
						limit = { ROOT = { has_variable = Tribal_horse_army_num } }
						add_to_variable = { var = FROM.Tribal_horse_army_num value = ROOT.Tribal_horse_army_num }
					}
					if = {
						limit = { ROOT = { has_variable = Tribal_camel_army_num } }
						add_to_variable = { var = FROM.Tribal_camel_army_num value = ROOT.Tribal_camel_army_num }
					}
				}
				FROM = {
					annex_country = {
						target = ROOT
						transfer_troops = yes
					}
				}
			}
			else = {
				if = {
					limit = { is_subject_of = FROM }
					hidden_effect = {
						if = {
							limit = { ROOT = { has_variable = Tribal_army_num } }
							add_to_variable = { var = FROM.Tribal_army_num value = ROOT.Tribal_army_num }
						}
						if = {
							limit = { ROOT = { has_variable = Tribal_horse_army_num } }
							add_to_variable = { var = FROM.Tribal_horse_army_num value = ROOT.Tribal_horse_army_num }
						}
						if = {
							limit = { ROOT = { has_variable = Tribal_camel_army_num } }
							add_to_variable = { var = FROM.Tribal_camel_army_num value = ROOT.Tribal_camel_army_num }
						}
					}
					FROM = {
						annex_country = {
							target = ROOT
							transfer_troops = yes
						}
					}
				}
			}
		}
		
		#Resist through war
		option = {
			name = afr_empire_politics_subject_demotion_demand.5.b
			trigger = { 
				check_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM value = 2 compare = less_than_or_equals }
			}
			ai_chance = {
				base = 50
				modifier = {
					add = -25
					AND = {
						check_variable = { var = Tribal_army_num value < 10000 }
						check_variable = { var = Tribal_horse_army_num value < 10000 }
						check_variable = { var = Tribal_camel_army_num value < 10000 }
					}
				}
			}
			#Start Resistance War
			custom_effect_tooltip = afr_empire_politics_subject_demotion_demand_5_revolt_tooltip
			hidden_effect = { FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.6 days = 3 } } }
		}
		
	}
	
	country_event = {
		id = afr_empire_politics_subject_demotion_demand.6
		title = afr_empire_politics_subject_demotion_demand.6.t
		desc = afr_empire_politics_subject_demotion_demand.6.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_subject_demotion_demand.6.a
			ai_chance = {
				base = 75
				modifier = {
					add = 25
					AND = {
						FROM = { check_variable = { var = Tribal_army_num value < 10000 } }
						FROM = { check_variable = { var = Tribal_horse_army_num value < 10000 } }
						FROM = { check_variable = { var = Tribal_camel_army_num value < 10000 } }
					}
				}
			}
			custom_effect_tooltip = afr_empire_politics_subject_demotion_demand_6_revolt_tooltip
			custom_effect_tooltip = afr_war_exhaustion_value_add_1
			hidden_effect = { add_to_variable = { var = afr_war_exhaustion_value value = 1 } }
			hidden_effect = {
				FROM = { add_to_variable = { var = afr_war_exhaustion_value value = 1 } }
				#Overlord
				set_variable = { ROOT.afr_empire_politics_autonomy_revolt_overlord_temp_overlord_id = ROOT.id }
				set_variable = { ROOT.afr_empire_politics_autonomy_revolt_overlord_temp_subject_id = FROM.id }
				if = {
					limit = {
						OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
						FROM = { has_autonomy_state = autonomy_afr_empire_level_1 }
					}
					set_variable = { ROOT.afr_empire_politics_autonomy_revolt_overlord_temp_subject_level@FROM = 1 }
				}
				else_if = {
					limit = {
						OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
						FROM = { has_autonomy_state = autonomy_afr_empire_level_2 }
					}
					set_variable = { ROOT.afr_empire_politics_autonomy_revolt_overlord_temp_subject_level@FROM = 2 }
				}
				else_if = {
					limit = {
						OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
						FROM = { has_autonomy_state = autonomy_afr_empire_level_3 }
					}
					set_variable = { ROOT.afr_empire_politics_autonomy_revolt_overlord_temp_subject_level@FROM = 3 }
				}
				else_if = {
					limit = {
						OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
						FROM = { has_autonomy_state = autonomy_afr_empire_level_4 }
					}
					set_variable = { ROOT.afr_empire_politics_autonomy_revolt_overlord_temp_subject_level@FROM = 4 }
				}
				else = {
					set_variable = { ROOT.afr_empire_politics_autonomy_revolt_overlord_temp_subject_level@FROM = 5 }
				}
				
				
				#Subject
				set_variable = { FROM.afr_empire_politics_autonomy_revolt_subject_temp_overlord_id = ROOT.id }
				set_variable = { FROM.afr_empire_politics_autonomy_revolt_subject_temp_subject_id = FROM.id }
				if = {
					limit = {
						OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
						FROM = { has_autonomy_state = autonomy_afr_empire_level_1 }
					}
					set_variable = { FROM.afr_empire_politics_autonomy_revolt_subject_temp_subject_level@ROOT = 1 }
				}
				else_if = {
					limit = {
						OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
						FROM = { has_autonomy_state = autonomy_afr_empire_level_2 }
					}
					set_variable = { FROM.afr_empire_politics_autonomy_revolt_subject_temp_subject_level@ROOT = 2 }
				}
				else_if = {
					limit = {
						OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
						FROM = { has_autonomy_state = autonomy_afr_empire_level_3 }
					}
					set_variable = { FROM.afr_empire_politics_autonomy_revolt_subject_temp_subject_level@ROOT = 3 }
				}
				else_if = {
					limit = {
						OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
						FROM = { has_autonomy_state = autonomy_afr_empire_level_4 }
					}
					set_variable = { FROM.afr_empire_politics_autonomy_revolt_subject_temp_subject_level@ROOT = 4 }
				}
				else = {
					set_variable = { FROM.afr_empire_politics_autonomy_revolt_subject_temp_subject_level@ROOT = 5 }
				}
				
				#Overlord Mission
				#set_country_flag = afr_empire_politics_autonomy_revolt_overlord_perspective_flag
				
				#Subject Mission
				FROM = { set_country_flag = afr_empire_politics_autonomy_revolt_subject_perspective_flag }
				set_variable = { FROM.afr_empire_politics_autonomy_revolt_subject_perspective_var@ROOT = 1 }
				FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.8 days = 90 } }
				FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.8 days = 180 } }
				FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.8 days = 270 } }
				FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.8 days = 360 } }
				FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.8 days = 450 } }
				FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.8 days = 540 } }
				FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.8 days = 630 } }
				FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.8 days = 720 } }
				every_country = {
					limit = { 
						is_subject_of = ROOT 
						NOT = { TAG = FROM }
					}
					FROM = {
						declare_war_on = {
							target = PREV
							type = annex_everything
						}
					}
				}
				hidden_effect = {
					FROM = {
						every_owned_state = {
							set_variable = { var = afr_empire_politics_autonomy_revolting_state_subject_owner value = PREV.id }
							set_variable = { var = afr_empire_politics_autonomy_revolting_state_subject@PREV value = 1 }
						}
					}
					if = {
						limit = { FROM = { NOT = { has_idea = afr_idea_independence_struggle } } }
						FROM = { 
							add_timed_idea = {
								idea = afr_idea_independence_struggle
								days = 380
							}
						}
					}
					if = {
						limit = { ROOT = { NOT = { has_idea = afr_idea_independence_struggle_overlord } } }
						ROOT = { add_ideas = afr_idea_independence_struggle_overlord }
					}
					if = {
						limit = { 
							FROM = { NOT = { has_country_flag = Tribal_Army_Raised } }
							FROM = {
								OR = {
									check_variable = { Tribal_army_num > 999 }
									check_variable = { Tribal_horse_army_num > 999 }
									check_variable = { Tribal_camel_army_num > 999 }
								}
							}
						}
						FROM = { activate_decision = eoanb_decision_raise_tribal_army }
					}
					if = {
						limit = { 
							ROOT = { NOT = { has_country_flag = Tribal_Army_Raised } }
							ROOT = {
								OR = {
									check_variable = { Tribal_army_num > 999 }
									check_variable = { Tribal_horse_army_num > 999 }
									check_variable = { Tribal_camel_army_num > 999 }
								}
							}
						}
						ROOT = { activate_decision = eoanb_decision_raise_tribal_army }
					}
				}
			}
		}
		
		option = {
			name = afr_empire_politics_subject_demotion_demand.6.b
			ai_chance = {
				base = 25
				modifier = {
					add = -25
					OR = {
						check_variable = { var = Tribal_army_num value > 9999 }
						check_variable = { var = Tribal_horse_army_num value > 9999 }
						check_variable = { var = Tribal_camel_army_num value > 9999 }
					}
				}
			}
			#Subject Promoted
			if = {
				limit = { FROM = { has_country_flag = afr_empire_politics_independence_struggle_flag } }
				set_autonomy = {
					target = FROM
					autonomy_state = autonomy_free
				}
				hidden_effect = { FROM = { clr_country_flag = afr_empire_politics_independence_struggle_flag } }
			}
			else_if = {
				limit = { 
					OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
					FROM = { has_autonomy_state = autonomy_afr_empire_level_4 }
				}
				set_autonomy = {
					target = FROM
					autonomy_state = autonomy_free
				}
			}
			else_if = {
				limit = {
					OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
					FROM = { has_autonomy_state = autonomy_afr_empire_level_3 }
				}
				set_autonomy = {
					target = FROM
					autonomy_state = autonomy_afr_empire_level_4
				}
				hidden_effect = {
					FROM = {
						add_autonomy_score = {
							value = 800
							localization = afr_empire_politics_overlord_revolted_for_promotion
						}
					}
				}
			}
			else_if = {
				limit = { 
					OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
					FROM = { has_autonomy_state = autonomy_afr_empire_level_2 }
				}
				set_autonomy = {
					target = FROM
					autonomy_state = autonomy_afr_empire_level_3
				}
				hidden_effect = {
					FROM = {
						add_autonomy_score = {
							value = 800
							localization = afr_empire_politics_overlord_revolted_for_promotion
						}
					}
				}
			}
			else_if = {
				limit = { 
					OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
					FROM = { has_autonomy_state = autonomy_afr_empire_level_1 }
				}
				set_autonomy = {
					target = FROM
					autonomy_state = autonomy_afr_empire_level_2
				}
				hidden_effect = {
					FROM = {
						add_autonomy_score = {
							value = 800
							localization = afr_empire_politics_overlord_revolted_for_promotion
						}
					}
				}
			}
			else = {
				set_autonomy = {
					target = FROM
					autonomy_state = autonomy_free
				}
			}
			hidden_effect = { FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.7 } } }
		}
		
	}
	
	country_event = {
		id = afr_empire_politics_subject_demotion_demand.7
		title = afr_empire_politics_subject_demotion_demand.7.t
		desc = afr_empire_politics_subject_demotion_demand.7.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_subject_demotion_demand.7.a
		}
		
	}
	
	country_event = {
		id = afr_empire_politics_subject_demotion_demand.8
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.9 } }
		}
		
	}
	country_event = {
		id = afr_empire_politics_subject_demotion_demand.9
		title = afr_empire_politics_subject_demotion_demand.9.t
		desc = afr_empire_politics_subject_demotion_demand.9.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		trigger = {
			check_variable = { var = FROM.afr_empire_politics_autonomy_revolt_subject_perspective_var@ROOT value = 1 compare = equals }
		}
		
		option = {
			name = afr_empire_politics_subject_demotion_demand.9.a
			ai_chance = {
				base = 0
			}
			FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.10 } }
			hidden_effect = {
				set_variable = { FROM.afr_empire_politics_autonomy_revolt_subject_war_overlord_concedes@ROOT = 1 }
			}
		}
		
		option = {
			name = afr_empire_politics_subject_demotion_demand.9.b
			ai_chance = {
				base = 25
				modifier = {
					add = 75
					FROM = {
						any_neighbor_country = {
							OR = {
								TAG = ROOT
								AND = {
									is_neighbor_of = ROOT
									OR = {
										is_subject_of = ROOT
										is_in_faction_with = ROOT
									}
								}
							}
						}
					}
				}
				modifier = {
					add = -25
					check_variable = {
						afr_war_exhaustion_value > 10
					}
				}
				modifier = {
					add = -25
					check_variable = {
						afr_war_exhaustion_value > 20
					}
				}
				modifier = {
					add = -25
					check_variable = {
						afr_war_exhaustion_value > 30
					}
				}
				modifier = {
					add = -25
					check_variable = {
						afr_war_exhaustion_value > 39
					}
				}
			}
		}
		
	}
	
	country_event = {
		id = afr_empire_politics_subject_demotion_demand.10
		title = afr_empire_politics_subject_demotion_demand.10.t
		desc = afr_empire_politics_subject_demotion_demand.10.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_subject_demotion_demand.10.a
		}
		
	}
	
	country_event = {
		id = afr_empire_politics_subject_demotion_demand.11
		title = afr_empire_politics_subject_demotion_demand.11.t
		desc = afr_empire_politics_subject_demotion_demand.11.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		immediate = {
			hidden_effect = {
				every_state = {
					limit = {
						check_variable = { var = afr_empire_politics_autonomy_revolting_state_subject@FROM value = 1 compare = equals }
					}
					clear_variable = afr_empire_politics_autonomy_revolting_state_subject@FROM
					clear_variable = afr_empire_politics_autonomy_revolting_state_subject_owner
				}
			}
			hidden_effect = { FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.12 } } }
		}
		
		option = {
			name = afr_empire_politics_subject_demotion_demand.11.a
		}
		
	}
	
	country_event = {
		id = afr_empire_politics_subject_demotion_demand.12
		title = afr_empire_politics_subject_demotion_demand.12.t
		desc = afr_empire_politics_subject_demotion_demand.12.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_subject_demotion_demand.12.a
		}
		
	}
	
	country_event = {
		id = afr_empire_politics_subject_demotion_demand.13
		title = afr_empire_politics_subject_demotion_demand.13.t
		desc = afr_empire_politics_subject_demotion_demand.13.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		immediate = {
			hidden_effect = {
				every_state = {
					limit = {
						check_variable = { var = afr_empire_politics_autonomy_revolting_state_subject@FROM value = 1 compare = equals }
					}
					clear_variable = afr_empire_politics_autonomy_revolting_state_subject@FROM
				clear_variable = afr_empire_politics_autonomy_revolting_state_subject_owner
				}
			}
			hidden_effect = { FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.14 } } }
		}
		
		option = {
			name = afr_empire_politics_subject_demotion_demand.13.a
			
		}
		
	}
	
	country_event = {
		id = afr_empire_politics_subject_demotion_demand.14
		title = afr_empire_politics_subject_demotion_demand.14.t
		desc = afr_empire_politics_subject_demotion_demand.14.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_subject_demotion_demand.14.a
		}
		
	}
	
	country_event = {
		id = afr_empire_politics_subject_demotion_demand.15
		title = afr_empire_politics_subject_demotion_demand.15.t
		desc = afr_empire_politics_subject_demotion_demand.15.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		immediate = {
			hidden_effect = { 
				if = {
					limit = {
						any_country = {
							has_defensive_war_with = ROOT
							has_idea = afr_idea_independence_struggle
						}
					}
				}
				else = {
					ROOT = { remove_ideas = afr_idea_independence_struggle_overlord }
				}
			}
		}
		
		option = {
			name = afr_empire_politics_subject_demotion_demand.15.a
			FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.16 } }
		}
		
		option = {
			name = afr_empire_politics_subject_demotion_demand.15.b
			trigger = { always = no }
			FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.17 } }
		}
		
	}
	
	country_event = {
		id = afr_empire_politics_subject_demotion_demand.16
		title = afr_empire_politics_subject_demotion_demand.16.t
		desc = afr_empire_politics_subject_demotion_demand.16.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_subject_demotion_demand.16.a
			
		}
	}
	
	country_event = {
		id = afr_empire_politics_subject_demotion_demand.17
		title = afr_empire_politics_subject_demotion_demand.17.t
		desc = afr_empire_politics_subject_demotion_demand.17.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_subject_demotion_demand.17.a
			
		}
	}


##################
####State Economy#
##################
	country_event = {
		id = afr_empire_politics_test_event.1
		hidden = yes
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_test_event.1.a
			set_temp_variable = {
				var = prosperity_change
				value = 10
			}
			afr_prosperity_mechanic_change = yes
		}
		
		option = {
			name = test_character 
						generate_character = {
							token_base = afr_empire_politics_advisor_priest_1
							#name = placeholder_name
							#portraits = {
							#	army = {
							#	  small = GFX_Portrait_Generic_Tribal_Council
							#	}
							#}
							advisor = {
								slot = political_advisor
								cost = 0
								idea_token = afr_empire_politics_advisor_priest_1_idea
								traits = {
									afr_empire_politics_trait_priest
								}
								allowed = {
									always = yes
								}
							}
						}
		}
	}
	state_event = {
		id = afr_empire_politics_test_event.2
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			afr_empire_politics_decentralized_authority_on_state_set = yes
		}
	}
	

	state_event = {
		id = afr_peacetime_state_prosperity_growth_event.1
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			OWNER = {
				add_to_variable = {
					var = THIS.afr_prosperity_mechanic_value
					value = ROOT.afr_empire_politics_state_prosperity_var
				}
			}
		}
	}
	
	state_event = {
		id = afr_empire_politics_successful_remove_war_torn_event.1
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			OWNER= {
				random_state = {
					limit = { STATE = ROOT }
					OWNER = { PREV = { state_event = { id = afr_empire_politics_successful_remove_war_torn_event.2 } } }
				}
			}
		}
	}
	state_event = {
		id = afr_empire_politics_successful_remove_war_torn_event.2
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			OWNER = { country_event = { id = afr_empire_politics_successful_remove_war_torn_event.3 } }
		}
	}
	
	country_event = {
		id = afr_empire_politics_successful_remove_war_torn_event.3
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			FROM= {
				afr_empire_politics_state_gain_stagnant = yes
				afr_empire_politics_state_remove_war_torn = yes
			}
		}
	}
	
	state_event = {
		id = afr_empire_politics_successful_raid_event.1
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			OWNER = { country_event = { id = afr_empire_politics_successful_raid_event.2 } }
		}
	}

	country_event = {
		id = afr_empire_politics_successful_raid_event.2
		title = afr_empire_politics_successful_raid_event.2.t
		desc = afr_empire_politics_successful_raid_event.2.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_successful_raid_event.2.a
			hidden_effect = {
				FROM = { state_event = { id = afr_empire_politics_successful_raid_event.3 days = 120 trigger_for = controller } }
				FROM = {
					afr_empire_politics_state_gain_emigration = yes
					afr_empire_politics_state_gain_raided = yes

					clr_state_flag = afr_empire_politics_has_regional_development_boom_flag
					clr_state_flag = afr_empire_politics_bountiful_harvest_boom_flag
					clr_state_flag = afr_empire_politics_minor_economic_boom_event_flag
				}
			}
		}
		option = {
			name = afr_empire_politics_successful_raid_event.2.b
			trigger = { 
				FROM = { OWNER = { check_variable = { afr_prosperity_mechanic_value > 4 } } }
			}
			custom_effect_tooltip = afr_prosperity_mechanic_minus_5
			hidden_effect = {
				ROOT = { add_to_variable = { var = afr_prosperity_mechanic_value value = -5 } }
				FROM = { state_event = { id = afr_empire_politics_successful_raid_event.3 days = 60 trigger_for = controller } }
				FROM = { 
					afr_empire_politics_state_gain_emigration = yes
					afr_empire_politics_state_gain_recovery = yes
					clr_state_flag = afr_empire_politics_state_economy_status_investment_flag

					clr_state_flag = afr_empire_politics_has_regional_development_boom_flag
					clr_state_flag = afr_empire_politics_bountiful_harvest_boom_flag
					clr_state_flag = afr_empire_politics_minor_economic_boom_event_flag
				}
			}
		}
		option = {
			name = afr_empire_politics_successful_raid_event.2.c
			trigger = { 
				FROM = { OWNER = { check_variable = { afr_prosperity_mechanic_value > 9 } } }
				FROM = { has_state_flag = afr_empire_politics_state_economy_status_investment_flag } 
			}
			custom_effect_tooltip = afr_prosperity_mechanic_minus_10
			hidden_effect = {
				ROOT = { add_to_variable = { var = afr_prosperity_mechanic_value value = -10 } }
				FROM = { state_event = { id = afr_empire_politics_successful_raid_event.3 days = 60 trigger_for = controller } }
				FROM = { 
					afr_empire_politics_state_gain_emigration = yes
					afr_empire_politics_state_gain_recovery = yes		

					clr_state_flag = afr_empire_politics_has_regional_development_boom_flag
					clr_state_flag = afr_empire_politics_bountiful_harvest_boom_flag
					clr_state_flag = afr_empire_politics_minor_economic_boom_event_flag
				}
			}
		}
	}
	
	state_event = {
		id = afr_empire_politics_successful_raid_event.3
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			OWNER= {
				random_state = {
					limit = { STATE = ROOT }
					OWNER = { PREV = { state_event = { id = afr_empire_politics_successful_raid_event.4 } } }
				}
			}
		}
	}
	state_event = {
		id = afr_empire_politics_successful_raid_event.4
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			ROOT= {
				afr_empire_politics_state_gain_stagnant = yes
				afr_empire_politics_state_gain_none = yes
			}
		}
	}
	
	
	state_event = {
		id = afr_empire_politics_regional_development_boom_event.1
		hidden = yes
		is_triggered_only = yes
		
		trigger = { ROOT = { has_state_flag = afr_empire_politics_has_regional_development_boom_flag } }
		
		immediate = {
			OWNER= {
				random_state = {
					limit = { STATE = ROOT }
					OWNER = { PREV = { state_event = { id = afr_empire_politics_regional_development_boom_event.2 } } }
				}
			}
		}
	}
	state_event = {
		id = afr_empire_politics_regional_development_boom_event.2
		hidden = yes
		is_triggered_only = yes
		
		trigger = { ROOT = { has_state_flag = afr_empire_politics_has_regional_development_boom_flag } }
		
		immediate = {
			ROOT= {
				clr_state_flag = afr_empire_politics_has_regional_development_boom_flag
				if = {
					limit = {
						NOT = {
							has_state_flag = afr_empire_politics_minor_economic_boom_event_flag
							has_state_flag = afr_empire_politics_bountiful_harvest_boom_flag
							has_state_flag = afr_empire_politics_has_regional_development_boom_flag
						}
					}
					afr_empire_politics_state_gain_none = yes
					afr_empire_politics_state_gain_stagnant = yes
					
				}
			}
		}
	}
	
	state_event = {
		id = afr_empire_politics_bountiful_harvest_boom_event.1
		hidden = yes
		is_triggered_only = yes
		
		trigger = { ROOT = { has_state_flag = afr_empire_politics_bountiful_harvest_boom_flag } }
		
		immediate = {
			OWNER= {
				random_state = {
					limit = { STATE = ROOT }
					OWNER = { PREV = { state_event = { id = afr_empire_politics_bountiful_harvest_boom_event.2 } } }
				}
			}
		}
	}
	state_event = {
		id = afr_empire_politics_bountiful_harvest_boom_event.2
		hidden = yes
		is_triggered_only = yes
		
		trigger = { ROOT = { has_state_flag = afr_empire_politics_bountiful_harvest_boom_flag } }
		
		immediate = {
			ROOT= {
				clr_state_flag = afr_empire_politics_bountiful_harvest_boom_flag
				if = {
					limit = {
						NOT = {
							has_state_flag = afr_empire_politics_minor_economic_boom_event_flag
							has_state_flag = afr_empire_politics_bountiful_harvest_boom_flag
							has_state_flag = afr_empire_politics_has_regional_development_boom_flag
						}
					}
					afr_empire_politics_state_gain_none = yes
					afr_empire_politics_state_gain_stagnant = yes
					
				}
			}
		}
	}
	
	state_event = {
		id = afr_empire_politics_minor_economic_boom_event.1
		hidden = yes
		is_triggered_only = yes
		
		trigger = { ROOT = { has_state_flag = afr_empire_politics_minor_economic_boom_event_flag } }
		
		immediate = {
			OWNER= {
				random_state = {
					limit = { STATE = ROOT }
					OWNER = { PREV = { state_event = { id = afr_empire_politics_minor_economic_boom_event.2 } } }
				}
			}
		}
	}
	state_event = {
		id = afr_empire_politics_minor_economic_boom_event.2
		hidden = yes
		is_triggered_only = yes
		
		trigger = { ROOT = { has_state_flag = afr_empire_politics_minor_economic_boom_event_flag } }
		
		immediate = {
			ROOT= {
				clr_state_flag = afr_empire_politics_minor_economic_boom_event_flag
				if = {
					limit = {
						NOT = {
							has_state_flag = afr_empire_politics_minor_economic_boom_event_flag
							has_state_flag = afr_empire_politics_bountiful_harvest_boom_flag
							has_state_flag = afr_empire_politics_has_regional_development_boom_flag
						}
					}
					afr_empire_politics_state_gain_none = yes
					afr_empire_politics_state_gain_stagnant = yes
					
				}
			}
		}
	}
######################
#####Visit Town Event#
######################
	state_event = {
		id = afr_empire_politics_state_manager_event.1
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			OWNER = { country_event = { id = afr_empire_politics_state_manager_event.2 } }
		}
	}
	country_event = {
		id = afr_empire_politics_state_manager_event.2
		title = afr_empire_politics_state_manager_event.2.t
		desc = afr_empire_politics_state_manager_event.2.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		immediate = { 
			hidden_effect = { 
				ROOT = { 
					set_country_flag = afr_empire_politics_state_management_in_event_flag 
					set_country_flag = afr_empire_politics_state_management_in_event_flag_commons
				} 
			}
		}
		
		option = {
			name = afr_empire_politics_state_manager_event.2.a
			trigger = { 
				FROM = { 
					NOT = { has_state_flag = afr_empire_politics_state_manager_local_rumor_searching_flag }
					AND = {
						NOT = { has_state_flag = afr_empire_politics_state_manager_local_rumor_non_advisor_cooldown_flag }
						NOT = { has_state_flag = afr_empire_politics_state_manager_local_rumor_cooldown_flag }
					}
				}
			}
			custom_effect_tooltip = afr_empire_politics_state_manager_event_1_a_tooltip
			hidden_effect = { ROOT = { clr_country_flag = afr_empire_politics_state_management_in_event_flag } }
			hidden_effect = { FROM = { state_event = { id = afr_empire_politics_state_manager_local_rumors_event.1 } } }
		}
		option = {
			name = afr_empire_politics_state_manager_event.2.e
			hidden_effect = { ROOT = { clr_country_flag = afr_empire_politics_state_management_in_event_flag clr_country_flag = afr_empire_politics_state_management_in_event_flag_commons } }
		}
	}
############################
#####Local Garrison Events#
############################
	state_event = {
		id = afr_empire_politics_state_manager_garrison_event.1
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			OWNER = { country_event = { id = afr_empire_politics_state_manager_garrison_event.2 } }
		}
	}
	country_event = {
		id = afr_empire_politics_state_manager_garrison_event.2
		title = afr_empire_politics_state_manager_garrison_event.2.t
		desc = afr_empire_politics_state_manager_garrison_event.2.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		immediate = { hidden_effect = { ROOT = { set_country_flag = afr_empire_politics_state_management_in_event_flag set_country_flag = afr_empire_politics_state_management_in_event_flag_barracks } } }
		
		option = {
			name = afr_empire_politics_state_manager_garrison_event.2.e
			hidden_effect = { ROOT = { clr_country_flag = afr_empire_politics_state_management_in_event_flag clr_country_flag = afr_empire_politics_state_management_in_event_flag_barracks } }
		}
	}
############################
#####Local Officials Events#
############################
	state_event = {
		id = afr_empire_politics_state_manager_officials_event.1
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			OWNER = { country_event = { id = afr_empire_politics_state_manager_officials_event.2 } }
		}
	}
	country_event = {
		id = afr_empire_politics_state_manager_officials_event.2
		title = afr_empire_politics_state_manager_officials_event.2.t
		desc = afr_empire_politics_state_manager_officials_event.2.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		immediate = { hidden_effect = { ROOT = { set_country_flag = afr_empire_politics_state_management_in_event_flag set_country_flag = afr_empire_politics_state_management_in_event_flag_capital } } }
		
		option = {
			name = afr_empire_politics_state_manager_officials_event.2.b
			custom_effect_tooltip = afr_empire_politics_state_manager_officials_event_2_b_tooltip
			hidden_effect = { ROOT = { clr_country_flag = afr_empire_politics_state_management_in_event_flag } }
			hidden_effect = { FROM = { state_event = { id = afr_empire_politics_state_manager_local_politics_event.1 } } }
		}
		option = {
			name = afr_empire_politics_state_manager_officials_event.2.e
			hidden_effect = { ROOT = { clr_country_flag = afr_empire_politics_state_management_in_event_flag clr_country_flag = afr_empire_politics_state_management_in_event_flag_capital } }
		}
	}
###############################
#####Local Politics Events#####
###############################
	state_event = {
		id = afr_empire_politics_state_manager_local_politics_event.1
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			OWNER = { country_event = { id = afr_empire_politics_state_manager_local_politics_event.2 } }
		}
	}
	country_event = {
		id = afr_empire_politics_state_manager_local_politics_event.2
		title = afr_empire_politics_state_manager_local_politics_event.2.t
		desc = afr_empire_politics_state_manager_local_politics_event.2.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		immediate = { hidden_effect = { ROOT = { set_country_flag = afr_empire_politics_state_management_in_event_flag } } }
		
		option = {
			name = afr_empire_politics_state_manager_local_politics_event.2.aa
			trigger = { 
				FROM = { NOT = { has_state_flag = afr_empire_politics_state_manager_sent_loyalty_gift_flag } }
				check_variable = { var = afr_prosperity_mechanic_value value = 5 compare = greater_than_or_equals }
			}
			hidden_effect = { ROOT = { clr_country_flag = afr_empire_politics_state_management_in_event_flag } }
			custom_effect_tooltip = afr_prosperity_mechanic_minus_5
			FROM = { custom_effect_tooltip = afr_empire_state_public_opinion_var_increase_tooltip }
			hidden_effect = {
				FROM = { set_state_flag = afr_empire_politics_state_manager_sent_loyalty_gift_flag }
				FROM = { state_event = { id = afr_empire_politics_state_manager_sent_loyalty_gift_event.1 days = 160 trigger_for = controller } }
				add_to_variable = { var = afr_prosperity_mechanic_value value = -5 }
			}
			clr_country_flag = afr_empire_politics_state_management_in_event_flag_capital
		}
		option = {
			name = afr_empire_politics_state_manager_local_politics_event.2.ab
			trigger = { 
				FROM = { has_state_flag = afr_empire_politics_state_manager_sent_loyalty_gift_flag }
			}
			hidden_effect = { ROOT = { clr_country_flag = afr_empire_politics_state_management_in_event_flag clr_country_flag = afr_empire_politics_state_management_in_event_flag_capital } }
		}
		option = {
			name = afr_empire_politics_state_manager_local_politics_event.2.ac
			trigger = { 
				FROM = { NOT = { has_state_flag = afr_empire_politics_state_manager_sent_loyalty_gift_flag } }
				NOT = { check_variable = { var = afr_prosperity_mechanic_value value = 5 compare = greater_than_or_equals } }
			}
			hidden_effect = { ROOT = { clr_country_flag = afr_empire_politics_state_management_in_event_flag clr_country_flag = afr_empire_politics_state_management_in_event_flag_capital } }
		}
		option = {
			name = afr_empire_politics_state_manager_local_politics_event.2.ba
			trigger = { 
				if = {
					limit = { check_variable = { var = FROM.afr_empire_politics_decentralized_authority@ROOT value = 1 compare = equals } }
					FROM = { OWNER = { check_variable = { var = PREV.afr_empire_state_autonomy_var@THIS value = 90 compare = greater_than_or_equals } } }
				}
				else = { FROM = { OWNER = { check_variable = { var = PREV.afr_empire_state_autonomy_var@THIS value = 50 compare = greater_than_or_equals } } } }
				FROM = { OWNER = { NOT = { has_variable = PREV.afr_empire_politics_state_manager_martial_law_enabled@THIS } } }
			}
			hidden_effect = { ROOT = { clr_country_flag = afr_empire_politics_state_management_in_event_flag clr_country_flag = afr_empire_politics_state_management_in_event_flag_capital } }
			FROM = { afr_empire_state_autonomy_var_decrease_by_15 = yes }
			FROM = { 
				add_state_modifier = { 
					modifier = {
						compliance_gain = 0.05
						resistance_decay = 0.25
						resistance_growth = -0.25
					}
				}
			}
			hidden_effect = {
				FROM = { state_event = { id = afr_empire_politics_state_manager_martial_law.1 days = 90 trigger_for = controller } }
				set_variable = { var = FROM.afr_empire_politics_state_manager_martial_law_enabled@ROOT value = 1 }
				FROM = { ROOT = { afr_empire_politics_state_manager_martial_law_idea_effect = yes } }
			}
		}
		option = {
			name = afr_empire_politics_state_manager_local_politics_event.2.bb
			trigger = { 
				FROM = { OWNER = { has_variable = PREV.afr_empire_politics_state_manager_martial_law_enabled@THIS } }
			}
			hidden_effect = { ROOT = { clr_country_flag = afr_empire_politics_state_management_in_event_flag clr_country_flag = afr_empire_politics_state_management_in_event_flag_capital } }
			hidden_effect = {
				FROM = { state_event = { id = afr_empire_politics_state_manager_martial_law.1 trigger_for = controller } }
			}
		}
		option = {
			name = afr_empire_politics_state_manager_local_politics_event.2.c
			trigger = { 
				FROM = { NOT = { is_core_of = ROOT } }
				check_variable = { var = FROM.afr_empire_state_loyalty_var@ROOT value = 10 compare = equals } 
			}
			FROM = { state_event = { id = afr_empire_state_loyalty_full_core_event.1 trigger_for = controller } }
			hidden_effect = { ROOT = { clr_country_flag = afr_empire_politics_state_management_in_event_flag clr_country_flag = afr_empire_politics_state_management_in_event_flag_capital } }
		}
		option = {
			name = afr_empire_politics_state_manager_local_politics_event.2.e
			hidden_effect = { ROOT = { clr_country_flag = afr_empire_politics_state_management_in_event_flag clr_country_flag = afr_empire_politics_state_management_in_event_flag_capital } }
		}
	}
	#################
	###Martial Law###This works as a way to scope state variables! UNLIMITED VARIABLES IN STATE/COUNTRY CHAINS!
	#################
	state_event = {
		id = afr_empire_politics_state_manager_martial_law.1
		hidden = yes
		is_triggered_only = yes
		
		#This works as a way to scope state variables! UNLIMITED VARIABLES IN STATE/COUNTRY CHAINS!
		immediate = {
			OWNER = {
				random_owned_state = {
					limit = { STATE = ROOT }
					OWNER = { PREV = { state_event = { id = afr_empire_politics_state_manager_martial_law.2 } } }
				}
			}
		}
	}
	state_event = {
		id = afr_empire_politics_state_manager_martial_law.2
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			ROOT = {
				if = {
					limit = {
						OWNER = { NOT = { TAG = FROM.FROM } }
						FROM.FROM = { has_variable = PREV.afr_empire_politics_state_manager_martial_law_enabled@THIS }
					}
					FROM.FROM = { clear_variable = PREV.afr_empire_politics_state_manager_martial_law_enabled@THIS }
					FROM.FROM = { add_to_variable = { var = PREV.afr_empire_state_autonomy_var@THIS value = 15 } }
					if = {
						limit = { FROM = { check_variable = { var = PREV.afr_empire_politics_decentralized_authority@THIS value = 1 compare = equals } } }
						FROM.FROM = {
							clamp_variable = {
								var = PREV.afr_empire_state_autonomy_var@THIS
								min = 75
								max = 100
							}
						}
					}
					else = {
						FROM.FROM = {
							clamp_variable = {
								var = PREV.afr_empire_state_autonomy_var@THIS
								min = 0
								max = 100
							}
						}
					}
					FROM.FROM = { afr_empire_politics_state_manager_martial_law_idea_effect = yes }
				}
				else_if = {
					limit = { 
						OWNER = { TAG = FROM }
						OWNER = { has_variable = PREV.afr_empire_politics_state_manager_martial_law_enabled@THIS } 
					}
					OWNER = { country_event = { id = afr_empire_politics_state_manager_martial_law.3 } }
				}
			}
		}
	}
	country_event = {
		id = afr_empire_politics_state_manager_martial_law.3
		title = afr_empire_politics_state_manager_martial_law.3.t
		desc = afr_empire_politics_state_manager_martial_law.3.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_state_manager_martial_law.3.a
			ai_chance = { base = 100 }
			hidden_effect = {
				FROM = { state_event = { id = afr_empire_politics_state_manager_martial_law.1 days = 90 trigger_for = controller } }
			}
		}
		
		option = {
			name = afr_empire_politics_state_manager_martial_law.3.b
			ai_chance = { base = 100 }
			if = {
				limit = { FROM = { OWNER = { has_variable = PREV.afr_empire_politics_state_manager_martial_law_enabled@THIS } } }
				hidden_effect = { FROM = { OWNER = { clear_variable = PREV.afr_empire_politics_state_manager_martial_law_enabled@THIS } } }
				FROM = { afr_empire_state_autonomy_var_increase_by_15 = yes }
				FROM = {
					add_state_modifier = { 
						modifier = {
							compliance_gain = -0.05
							resistance_decay = -0.25
							resistance_growth = 0.25
						}
					}
				}
				hidden_effect = { FROM = { ROOT = { afr_empire_politics_state_manager_martial_law_idea_effect = yes } } }
			}
		}
	}
	###############
	###Send Gift###This works as a way to scope state variables! UNLIMITED VARIABLES IN STATE/COUNTRY CHAINS!
	###############
	state_event = {
		id = afr_empire_politics_state_manager_sent_loyalty_gift_event.1
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			OWNER = {
				random_state = {
					limit = { STATE = ROOT }
					if = {
						limit = { has_state_flag = afr_empire_politics_state_manager_sent_loyalty_gift_flag }
						clr_state_flag = afr_empire_politics_state_manager_sent_loyalty_gift_flag
					}
				}
			}
		}
	}
########################
#####Local Rumor Events#
########################
	state_event = {
		id = afr_empire_politics_state_manager_local_rumors_event.1
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			if = {
				limit = { NOT = { has_state_flag = afr_empire_politics_state_manager_local_rumors_initiated_flag } }
				set_state_flag = afr_empire_politics_state_manager_local_rumors_initiated_flag
				afr_empire_politics_state_manager_local_rumors_initiate_scripted_effect = yes
			}
			OWNER = { country_event = { id = afr_empire_politics_state_manager_local_rumors_event.2 } }
		}
	}
	country_event = {
		id = afr_empire_politics_state_manager_local_rumors_event.2
		title = afr_empire_politics_state_manager_local_rumors_event.2.t
		desc = afr_empire_politics_state_manager_local_rumors_event.2.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		immediate = { hidden_effect = { ROOT = { set_country_flag = afr_empire_politics_state_management_in_event_flag } } }
		
		option = {
			name = afr_empire_politics_state_manager_local_rumors_event.2.a
			ai_chance = { base = 100 }
			trigger = {
				FROM = {
					OR = {
						has_state_flag = afr_empire_politics_local_rumor_priest_flag_1
						has_state_flag = afr_empire_politics_local_rumor_shaman_flag_1
						has_state_flag = afr_empire_politics_local_rumor_warlord_flag_1
						has_state_flag = afr_empire_politics_local_rumor_noble_flag_1
						has_state_flag = afr_empire_politics_local_rumor_merchant_flag_1
						has_state_flag = afr_empire_politics_local_rumor_jihadist_flag_1
						has_state_flag = afr_empire_politics_local_rumor_dawah_flag_1
					}
				}
				FROM = { 
					NOT = { has_state_flag = afr_empire_politics_state_manager_local_rumor_searching_flag } 
					NOT = { has_state_flag = afr_empire_politics_state_manager_local_rumor_cooldown_flag }
				}
			}
			hidden_effect = { ROOT = { clr_country_flag = afr_empire_politics_state_management_in_event_flag clr_country_flag = afr_empire_politics_state_management_in_event_flag_commons } }
			hidden_effect = {
				FROM = { 
					state_event = { id = afr_empire_politics_state_manager_local_rumors_event.3 days = 60 trigger_for = controller } 
					set_state_flag = afr_empire_politics_state_manager_local_rumor_searching_flag
				} 
				set_variable = { var = ROOT.afr_empire_politics_local_rumor_priest_var_1@FROM value = 1 }
				if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_priest_flag_1 } }
					set_variable = { var = ROOT.afr_empire_politics_local_rumor_priest_var_1@FROM value = 1 }
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_shaman_flag_1 } }
					set_variable = { var = ROOT.afr_empire_politics_local_rumor_shaman_var_1@FROM value = 1 }
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_warlord_flag_1 } }
					set_variable = { var = ROOT.afr_empire_politics_local_rumor_warlord_var_1@FROM value = 1 }
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_noble_flag_1 } }
					set_variable = { var = ROOT.afr_empire_politics_local_rumor_noble_var_1@FROM value = 1 }
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_merchant_flag_1 } }
					set_variable = { var = ROOT.afr_empire_politics_local_rumor_merchant_var_1@FROM value = 1 }
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_jihadist_flag_1 } }
					set_variable = { var = ROOT.afr_empire_politics_local_rumor_jihadist_var_1@FROM value = 1 }
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_dawah_flag_1 } }
					set_variable = { var = ROOT.afr_empire_politics_local_rumor_dawah_var_1@FROM value = 1 }
				}
				random_list = {
					40 = {
						FROM = { set_state_flag = afr_empire_politics_local_rumor_searching_advisor_found_flag }
						modifier = {
							add = 20
							FROM = { has_state_flag = afr_empire_politics_state_economy_status_boom_flag }
						}
					}
					60 = {
						modifier = {
							add = -20
							FROM = { has_state_flag = afr_empire_politics_state_economy_status_boom_flag }
						}
					}
				}
			}
			
		}
		option = {
			name = afr_empire_politics_state_manager_local_rumors_event.2.b
			ai_chance = { base = 100 }
			trigger = { FROM = { has_state_flag = afr_empire_politics_state_manager_local_rumor_cooldown_flag } }
			hidden_effect = { ROOT = { clr_country_flag = afr_empire_politics_state_management_in_event_flag clr_country_flag = afr_empire_politics_state_management_in_event_flag_commons } }
			hidden_effect = {
				FROM = { 
					state_event = { id = afr_empire_politics_state_manager_local_rumors_event.6 days = 60 trigger_for = controller } 
					set_state_flag = afr_empire_politics_state_manager_local_rumor_non_advisor_cooldown_flag 
					set_state_flag = afr_empire_politics_state_manager_local_rumor_searching_flag
				}
				random_list = {
					40 = {
						#Success
						FROM = { set_state_flag = afr_empire_politics_local_rumor_success_flag }
					}
					60 = { 
						#Fail 
					}
				}
			}
			
		}
		option = {
			name = afr_empire_politics_state_manager_local_rumors_event.2.c
			ai_chance = { base = 0 }
			hidden_effect = { ROOT = { clr_country_flag = afr_empire_politics_state_management_in_event_flag clr_country_flag = afr_empire_politics_state_management_in_event_flag_commons } }
			hidden_effect = {
				if = {
					limit = { FROM = { NOT = { has_state_flag = afr_empire_politics_state_manager_local_rumor_cooldown_flag } } }
					FROM = {
						set_state_flag = afr_empire_politics_state_manager_local_rumor_cooldown_flag
						state_event = { id = afr_empire_politics_state_manager_local_rumors_event.5 days = 320 trigger_for = controller }
					}
				}
				if = {
					limit = { FROM = { NOT = { has_state_flag = afr_empire_politics_state_manager_local_rumor_non_advisor_cooldown_flag } } }
					FROM = {
						set_state_flag = afr_empire_politics_state_manager_local_rumor_non_advisor_cooldown_flag
						state_event = { id = afr_empire_politics_state_manager_local_rumors_event.8 days = 30 trigger_for = controller } 
					}
				}
			}
			custom_effect_tooltip = afr_empire_politics_state_manager_local_rumor_ignore_tooltip
		}
		
	}
	#Advisor
	state_event = {
		id = afr_empire_politics_state_manager_local_rumors_event.3
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			set_state_flag = afr_empire_politics_state_manager_local_rumor_cooldown_flag
			state_event = { id = afr_empire_politics_state_manager_local_rumors_event.5 days = 320 trigger_for = controller } 
			OWNER = { country_event = { id = afr_empire_politics_state_manager_local_rumors_event.4 } }
			random_list = {
				20 = { 
					set_state_flag = afr_empire_politics_local_rumor_true_advisor_1 
					modifier = { 
						factor = 2.5
						has_state_flag = afr_empire_politics_state_economy_status_boom_flag
					}
				}
				40 = { 
					set_state_flag = afr_empire_politics_local_rumor_true_advisor_2 
				}
				20 = { 
					set_state_flag = afr_empire_politics_local_rumor_true_advisor_3 
				}
			}
		}
	}
	country_event = {
		id = afr_empire_politics_state_manager_local_rumors_event.4
		title = afr_empire_politics_state_manager_local_rumors_event.4.t
		desc = afr_empire_politics_state_manager_local_rumors_event.4.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		
		
		option = {
			name = afr_empire_politics_state_manager_local_rumors_event.4.a
			ai_chance = { 
				base = 100 
				modifier = {
					factor = 0
					FROM = { has_state_flag = afr_empire_politics_local_rumor_priest_flag_1 }
					#OR = {
					#	has_idea = religion_sunni
					#	has_idea = religion_shiite
					#	has_idea = religion_ibadi
					#	
					#	has_idea = religion_shamanism
					#	has_idea = religion_animist
					#	
					#	has_idea = religion_mahayana
					#	has_idea = religion_gelugpa
					#	has_idea = religion_theravada
					#	has_idea = religion_hindu
					#	has_idea = religion_sikh
					#	
					#	has_idea = religion_confucian
					#	has_idea = religion_shinto
					#}
				}
				modifier = {
					factor = 0
					FROM = { has_state_flag = afr_empire_politics_local_rumor_shaman_flag_1 }
					#OR = {
					#	has_idea = religion_sunni
					#	has_idea = religion_shiite
					#	has_idea = religion_ibadi
					#	
					#	has_idea = religion_coptic
					#	has_idea = religion_orthodox
					#	has_idea = religion_catholic
					#	has_idea = religion_protestant
					#}
				}
				modifier = {
					factor = 0
					FROM = { has_state_flag = afr_empire_politics_local_rumor_dawah_flag_1 }
					#OR = {
					#	has_idea = religion_shamanism
					#	has_idea = religion_animist
					#	
					#	has_idea = religion_coptic
					#	has_idea = religion_orthodox
					#	has_idea = religion_catholic
					#	has_idea = religion_protestant
					#	
					#	has_idea = religion_mahayana
					#	has_idea = religion_gelugpa
					#	has_idea = religion_theravada
					#	has_idea = religion_hindu
					#	has_idea = religion_sikh
					#	
					#	has_idea = religion_confucian
					#	has_idea = religion_shinto
					#	
					#}
				}
				modifier = {
					factor = 0
					FROM = { has_state_flag = afr_empire_politics_local_rumor_jihadist_flag_1 }
					#OR = {
					#	has_idea = religion_shamanism
					#	has_idea = religion_animist
					#	
					#	has_idea = religion_coptic
					#	has_idea = religion_orthodox
					#	has_idea = religion_catholic
					#	has_idea = religion_protestant
					#	
					#	has_idea = religion_mahayana
					#	has_idea = religion_gelugpa
					#	has_idea = religion_theravada
					#	has_idea = religion_hindu
					#	has_idea = religion_sikh
					#	
					#	has_idea = religion_confucian
					#	has_idea = religion_shinto
					#}
				}
				modifier = {
					factor = 0
					FROM = { has_state_flag = afr_empire_politics_local_rumor_priest_flag_1 }
					if = {
						limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_3 } } #C-Tier
						OR = {
							has_idea = afr_empire_politics_advisor_priest_1
							has_idea = afr_empire_politics_advisor_priest_2
							has_idea = afr_empire_politics_advisor_priest_3
						}
					}
					else_if = {
						limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_2 } } #B-Tier
						OR = {
							has_idea = afr_empire_politics_advisor_priest_1
							has_idea = afr_empire_politics_advisor_priest_2
						}
					}
					else_if = {
						limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_1 } } #A-Tier
						has_idea = afr_empire_politics_advisor_priest_1
					}
				}
				modifier = {
					factor = 0
					FROM = { has_state_flag = afr_empire_politics_local_rumor_shaman_flag_1 }
					if = {
						limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_3 } } #C-Tier
						OR = {
							has_idea = afr_empire_politics_advisor_shaman_1
							has_idea = afr_empire_politics_advisor_shaman_2
							has_idea = afr_empire_politics_advisor_shaman_3
						}
					}
					else_if = {
						limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_2 } } #B-Tier
						OR = {
							has_idea = afr_empire_politics_advisor_shaman_1
							has_idea = afr_empire_politics_advisor_shaman_2
						}
					}
					else_if = {
						limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_1 } } #A-Tier
						has_idea = afr_empire_politics_advisor_shaman_1
					}
				}
				modifier = {
					factor = 0
					FROM = { has_state_flag = afr_empire_politics_local_rumor_dawah_flag_1 }
					if = {
						limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_3 } } #C-Tier
						OR = {
							has_idea = afr_empire_politics_advisor_dawah_1
							has_idea = afr_empire_politics_advisor_dawah_2
							has_idea = afr_empire_politics_advisor_dawah_3
						}
					}
					else_if = {
						limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_2 } } #B-Tier
						OR = {
							has_idea = afr_empire_politics_advisor_dawah_1
							has_idea = afr_empire_politics_advisor_dawah_2
						}
					}
					else_if = {
						limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_1 } } #A-Tier
						has_idea = afr_empire_politics_advisor_dawah_1
					}
				}
				modifier = {
					factor = 0
					FROM = { has_state_flag = afr_empire_politics_local_rumor_jihadist_flag_1 }
					if = {
						limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_3 } } #C-Tier
						OR = {
							has_idea = afr_empire_politics_advisor_jihadist_1
							has_idea = afr_empire_politics_advisor_jihadist_2
							has_idea = afr_empire_politics_advisor_jihadist_3
						}
					}
					else_if = {
						limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_2 } } #B-Tier
						OR = {
							has_idea = afr_empire_politics_advisor_jihadist_1
							has_idea = afr_empire_politics_advisor_jihadist_2
						}
					}
					else_if = {
						limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_1 } } #A-Tier
						has_idea = afr_empire_politics_advisor_jihadist_1
					}
				}
				modifier = {
					factor = 0
					FROM = { has_state_flag = afr_empire_politics_local_rumor_merchant_flag_1 }
					if = {
						limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_3 } } #C-Tier
						OR = {
							has_idea = afr_empire_politics_advisor_merchant_1
							has_idea = afr_empire_politics_advisor_merchant_2
							has_idea = afr_empire_politics_advisor_merchant_3
						}
					}
					else_if = {
						limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_2 } } #B-Tier
						OR = {
							has_idea = afr_empire_politics_advisor_merchant_1
							has_idea = afr_empire_politics_advisor_merchant_2
						}
					}
					else_if = {
						limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_1 } } #A-Tier
						has_idea = afr_empire_politics_advisor_merchant_1
					}
				}
				modifier = {
					factor = 0
					FROM = { has_state_flag = afr_empire_politics_local_rumor_noble_flag_1 }
					if = {
						limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_3 } } #C-Tier
						OR = {
							has_idea = afr_empire_politics_advisor_noble_1
							has_idea = afr_empire_politics_advisor_noble_2
							has_idea = afr_empire_politics_advisor_noble_3
						}
					}
					else_if = {
						limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_2 } } #B-Tier
						OR = {
							has_idea = afr_empire_politics_advisor_noble_1
							has_idea = afr_empire_politics_advisor_noble_2
						}
					}
					else_if = {
						limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_1 } } #A-Tier
						has_idea = afr_empire_politics_advisor_noble_1
					}
				}
				modifier = {
					factor = 0
					FROM = { has_state_flag = afr_empire_politics_local_rumor_warlord_flag_1 }
					if = {
						limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_3 } } #C-Tier
						OR = {
							has_idea = afr_empire_politics_advisor_warlord_1
							has_idea = afr_empire_politics_advisor_warlord_2
							has_idea = afr_empire_politics_advisor_warlord_3
						}
					}
					else_if = {
						limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_2 } } #B-Tier
						OR = {
							has_idea = afr_empire_politics_advisor_warlord_1
							has_idea = afr_empire_politics_advisor_warlord_2
						}
					}
					else_if = {
						limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_1 } } #A-Tier
						has_idea = afr_empire_politics_advisor_warlord_1
					}
				}
			}
			trigger = { FROM = { has_state_flag = afr_empire_politics_local_rumor_searching_advisor_found_flag } }
			if = {
				limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_priest_flag_1 } }
				if = {
					limit = { has_idea_with_trait = afr_empire_politics_trait_priest } ##Already has advisor##
					#remove_ideas_with_trait = afr_empire_politics_trait_priest
					activate_decision = afr_empire_politics_resign_advisor_priest
					custom_effect_tooltip = afr_empire_politics_resign_advisor_priest_cost_tooltip
				}
				if = {
					limit = { has_idea_with_trait = afr_empire_politics_trait_shaman } ##Already has advisor##
					#remove_ideas_with_trait = afr_empire_politics_trait_shaman
					activate_decision = afr_empire_politics_resign_advisor_shaman
					custom_effect_tooltip = afr_empire_politics_resign_advisor_shaman_cost_tooltip
				}
				if = {
					limit = { has_idea_with_trait = afr_empire_politics_trait_dawah } ##Already has advisor##
					#remove_ideas_with_trait = afr_empire_politics_trait_dawah
					activate_decision = afr_empire_politics_resign_advisor_dawah
					custom_effect_tooltip = afr_empire_politics_resign_advisor_dawah_cost_tooltip
				}
				if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_1 } } #A-Tier
					#hidden_effect = { add_ideas = { afr_empire_politics_advisor_priest_1 } }
					custom_effect_tooltip = available_empire_advisor
					custom_effect_tooltip = afr_empire_politics_advisor_priest_1_tooltip
					#hidden_effect = {
						generate_character = {
							token_base = afr_empire_politics_advisor_priest_1
							name = advisor_priest_1_name
							portraits = {
								civilian = {
								  small = GFX_Portrait_Generic_Tribal_Council
								}
							}
							advisor = {
								slot = political_advisor
								cost = 0
								idea_token = afr_empire_politics_advisor_priest_1_idea
								traits = {
									afr_empire_politics_trait_priest
								}
								allowed = {
									always = yes
								}
							}
						}
					#}
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_2 } } #B-Tier
					#hidden_effect = { add_ideas = { afr_empire_politics_advisor_priest_2 } }
					custom_effect_tooltip = available_empire_advisor
					custom_effect_tooltip = afr_empire_politics_advisor_priest_2_tooltip
					#hidden_effect = {
						generate_character = {
							token_base = afr_empire_politics_advisor_priest_2
							name = advisor_priest_2_name
							advisor = {
								slot = political_advisor
								cost = 0
								idea_token = afr_empire_politics_advisor_priest_2_idea
								traits = {
									afr_empire_politics_trait_priest
								}
								allowed = {
									always = yes
								}
								
							}
						}
					#}
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_3 } } #C-Tier
					#hidden_effect = { add_ideas = { afr_empire_politics_advisor_priest_3 } }
					custom_effect_tooltip = available_empire_advisor
					custom_effect_tooltip = afr_empire_politics_advisor_priest_3_tooltip
					#hidden_effect = {
						generate_character = {
							token_base = afr_empire_politics_advisor_priest_3
							name = advisor_priest_3_name
							advisor = {
								slot = political_advisor
								cost = 0
								idea_token = afr_empire_politics_advisor_priest_3_idea
								traits = {
									afr_empire_politics_trait_priest
								}
								allowed = {
									always = yes
								}
								
							}
						}
					#}
				}
			}
			else_if = {
				limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_shaman_flag_1 } }
				if = {
					limit = { has_idea_with_trait = afr_empire_politics_trait_shaman } ##Already has advisor##
					#remove_ideas_with_trait = afr_empire_politics_trait_shaman
					activate_decision = afr_empire_politics_resign_advisor_shaman
					custom_effect_tooltip = afr_empire_politics_resign_advisor_shaman_cost_tooltip
				}
				if = {
					limit = { has_idea_with_trait = afr_empire_politics_trait_dawah } ##Already has advisor##
					#remove_ideas_with_trait = afr_empire_politics_trait_dawah
					activate_decision = afr_empire_politics_resign_advisor_dawah
					custom_effect_tooltip = afr_empire_politics_resign_advisor_dawah_cost_tooltip
				}
				if = {
					limit = { has_idea_with_trait = afr_empire_politics_trait_priest } ##Already has advisor##
					#remove_ideas_with_trait = afr_empire_politics_trait_priest
					activate_decision = afr_empire_politics_resign_advisor_priest
					custom_effect_tooltip = afr_empire_politics_resign_advisor_priest_cost_tooltip
				}
				if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_1 } } #A-Tier
					#hidden_effect = { add_ideas = { afr_empire_politics_advisor_shaman_1 } }
					custom_effect_tooltip = available_empire_advisor
					custom_effect_tooltip = afr_empire_politics_advisor_shaman_1_tooltip
					#hidden_effect = {
						generate_character = {
							token_base = afr_empire_politics_advisor_shaman_1
							name = advisor_shaman_1_name
							advisor = {
								slot = political_advisor
								cost = 0
								idea_token = afr_empire_politics_advisor_shaman_1_idea
								traits = {
									afr_empire_politics_trait_shaman
								}
								allowed = {
									always = yes
								}
								
							}
						}
					#}
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_2 } } #B-Tier
					#hidden_effect = { add_ideas = { afr_empire_politics_advisor_shaman_2 } }
					custom_effect_tooltip = available_empire_advisor
					custom_effect_tooltip = afr_empire_politics_advisor_shaman_2_tooltip
					#hidden_effect = {
						generate_character = {
							token_base = afr_empire_politics_advisor_shaman_2
							name = advisor_shaman_2_name
							advisor = {
								slot = political_advisor
								cost = 0
								idea_token = afr_empire_politics_advisor_shaman_2_idea
								traits = {
									afr_empire_politics_trait_shaman
								}
								allowed = {
									always = yes
								}
								
							}
						}
					#}
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_3 } } #C-Tier
					#hidden_effect = { add_ideas = { afr_empire_politics_advisor_shaman_3 } }
					custom_effect_tooltip = available_empire_advisor
					custom_effect_tooltip = afr_empire_politics_advisor_shaman_3_tooltip
					#hidden_effect = {
						generate_character = {
							token_base = afr_empire_politics_advisor_shaman_3
							name = advisor_shaman_3_name
							advisor = {
								slot = political_advisor
								cost = 0
								idea_token = afr_empire_politics_advisor_shaman_3_idea
								traits = {
									afr_empire_politics_trait_shaman
								}
								allowed = {
									always = yes
								}
								
							}
						}
					#}
				}
			}
			else_if = {
				limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_warlord_flag_1 } }
				if = {
					limit = { has_idea_with_trait = afr_empire_politics_trait_warlord } ##Already has advisor##
					#remove_ideas_with_trait = afr_empire_politics_trait_warlord
					activate_decision = afr_empire_politics_resign_advisor_warlord
					custom_effect_tooltip = afr_empire_politics_resign_advisor_warlord_cost_tooltip
				}
				if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_1 } } #A-Tier
					#hidden_effect = { add_ideas = { afr_empire_politics_advisor_warlord_1 } }
					custom_effect_tooltip = available_empire_advisor
					custom_effect_tooltip = afr_empire_politics_advisor_warlord_1_tooltip
					#hidden_effect = {
						generate_character = {
							token_base = afr_empire_politics_advisor_warlord_1
							name = advisor_warlord_1_name
							advisor = {
								slot = political_advisor
								cost = 0
								idea_token = afr_empire_politics_advisor_warlord_1_idea
								traits = {
									afr_empire_politics_trait_warlord
								}
								allowed = {
									always = yes
								}
								
							}
						}
					#}
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_2 } } #B-Tier
					#hidden_effect = { add_ideas = { afr_empire_politics_advisor_warlord_2 } }
					custom_effect_tooltip = available_empire_advisor
					custom_effect_tooltip = afr_empire_politics_advisor_warlord_2_tooltip
					#hidden_effect = {
						generate_character = {
							token_base = afr_empire_politics_advisor_warlord_2
							name = advisor_warlord_2_name
							advisor = {
								slot = political_advisor
								cost = 0
								idea_token = afr_empire_politics_advisor_warlord_2_idea
								traits = {
									afr_empire_politics_trait_warlord
								}
								allowed = {
									always = yes
								}
								
							}
						}
					#}
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_3 } } #C-Tier
					#hidden_effect = { add_ideas = { afr_empire_politics_advisor_warlord_3 } }
					custom_effect_tooltip = available_empire_advisor
					custom_effect_tooltip = afr_empire_politics_advisor_warlord_3_tooltip
					#hidden_effect = {
						generate_character = {
							token_base = afr_empire_politics_advisor_warlord_3
							name = advisor_warlord_3_name
							advisor = {
								slot = political_advisor
								cost = 0
								idea_token = afr_empire_politics_advisor_warlord_3_idea
								traits = {
									afr_empire_politics_trait_warlord
								}
								allowed = {
									always = yes
								}
								
							}
						}
					#}
				}
			}
			else_if = {
				limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_noble_flag_1 } }
				if = {
					limit = { has_idea_with_trait = afr_empire_politics_trait_noble } ##Already has advisor##
					#remove_ideas_with_trait = afr_empire_politics_trait_noble
					activate_decision = afr_empire_politics_resign_advisor_noble
					custom_effect_tooltip = afr_empire_politics_resign_advisor_noble_cost_tooltip
				}
				if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_1 } } #A-Tier
					#hidden_effect = { add_ideas = { afr_empire_politics_advisor_noble_1 } }
					custom_effect_tooltip = available_empire_advisor
					custom_effect_tooltip = afr_empire_politics_advisor_noble_1_tooltip
					#hidden_effect = {
						generate_character = {
							token_base = afr_empire_politics_advisor_noble_1
							name = advisor_noble_1_name
							advisor = {
								slot = political_advisor
								cost = 0
								idea_token = afr_empire_politics_advisor_noble_1_idea
								traits = {
									afr_empire_politics_trait_noble
								}
								allowed = {
									always = yes
								}
								
							}
						}
					#}
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_2 } } #B-Tier
					#hidden_effect = { add_ideas = { afr_empire_politics_advisor_noble_2 } }
					custom_effect_tooltip = available_empire_advisor
					custom_effect_tooltip = afr_empire_politics_advisor_noble_2_tooltip
					#hidden_effect = {
						generate_character = {
							token_base = afr_empire_politics_advisor_noble_2
							name = advisor_noble_2_name
							advisor = {
								slot = political_advisor
								cost = 0
								idea_token = afr_empire_politics_advisor_noble_2_idea
								traits = {
									afr_empire_politics_trait_noble
								}
								allowed = {
									always = yes
								}
								
							}
						}
					#}
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_3 } } #C-Tier
					#hidden_effect = { add_ideas = { afr_empire_politics_advisor_noble_3 } }
					custom_effect_tooltip = available_empire_advisor
					custom_effect_tooltip = afr_empire_politics_advisor_noble_3_tooltip
					#hidden_effect = {
						generate_character = {
							token_base = afr_empire_politics_advisor_noble_3
							name = advisor_noble_3_name
							advisor = {
								slot = political_advisor
								cost = 0
								idea_token = afr_empire_politics_advisor_noble_3_idea
								traits = {
									afr_empire_politics_trait_noble
								}
								allowed = {
									always = yes
								}
								
							}
						}
					#}
				}
			}
			else_if = {
				limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_merchant_flag_1 } }
				if = {
					limit = { has_idea_with_trait = afr_empire_politics_trait_merchant } ##Already has advisor##
					#remove_ideas_with_trait = afr_empire_politics_trait_merchant
					activate_decision = afr_empire_politics_resign_advisor_merchant
					custom_effect_tooltip = afr_empire_politics_resign_advisor_merchant_cost_tooltip
				}
				if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_1 } } #A-Tier
					#hidden_effect = { add_ideas = { afr_empire_politics_advisor_merchant_1 } }
					custom_effect_tooltip = available_empire_advisor
					custom_effect_tooltip = afr_empire_politics_advisor_merchant_1_tooltip
					#hidden_effect = {
						generate_character = {
							token_base = afr_empire_politics_advisor_merchant_1
							name = advisor_merchant_1_name
							advisor = {
								slot = political_advisor
								cost = 0
								idea_token = afr_empire_politics_advisor_merchant_1_idea
								traits = {
									afr_empire_politics_trait_merchant
									afr_empire_politics_trait_inventor
								}
								allowed = {
									always = yes
								}
								
							}
						}
					#}
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_2 } } #B-Tier
					#hidden_effect = { add_ideas = { afr_empire_politics_advisor_merchant_2 } }
					custom_effect_tooltip = available_empire_advisor
					custom_effect_tooltip = afr_empire_politics_advisor_merchant_2_tooltip
					#hidden_effect = {
						generate_character = {
							token_base = afr_empire_politics_advisor_merchant_2
							name = advisor_merchant_2_name
							advisor = {
								slot = political_advisor
								cost = 0
								idea_token = afr_empire_politics_advisor_merchant_2_idea
								traits = {
									afr_empire_politics_trait_merchant
								}
								allowed = {
									always = yes
								}
								
							}
						}
					#}
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_3 } } #C-Tier
					#hidden_effect = { add_ideas = { afr_empire_politics_advisor_merchant_3 } }
					custom_effect_tooltip = available_empire_advisor
					custom_effect_tooltip = afr_empire_politics_advisor_merchant_3_tooltip
					#hidden_effect = {
						generate_character = {
							token_base = afr_empire_politics_advisor_merchant_3
							name = advisor_merchant_3_name
							advisor = {
								slot = political_advisor
								cost = 0
								idea_token = afr_empire_politics_advisor_merchant_3_idea
								traits = {
									afr_empire_politics_trait_merchant
								}
								allowed = {
									always = yes
								}
								
							}
						}
					#}
				}
			}
			else_if = {
				limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_jihadist_flag_1 } }
				if = {
					limit = { has_idea_with_trait = afr_empire_politics_trait_jihadist } ##Already has advisor##
					#remove_ideas_with_trait = afr_empire_politics_trait_jihadist
					activate_decision = afr_empire_politics_resign_advisor_jihadist
					custom_effect_tooltip = afr_empire_politics_resign_advisor_jihadist_cost_tooltip
				}
				if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_1 } } #A-Tier
					#hidden_effect = { add_ideas = { afr_empire_politics_advisor_jihadist_1 } }
					custom_effect_tooltip = available_empire_advisor
					custom_effect_tooltip = afr_empire_politics_advisor_jihadist_1_tooltip
					#hidden_effect = {
						generate_character = {
							token_base = afr_empire_politics_advisor_jihadist_1
							name = advisor_jihadist_1_name
							advisor = {
								slot = political_advisor
								cost = 0
								idea_token = afr_empire_politics_advisor_jihadist_1_idea
								traits = {
									afr_empire_politics_trait_jihadist
								}
								allowed = {
									always = yes
								}
								
							}
						}
					#}
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_2 } } #B-Tier
					#hidden_effect = { add_ideas = { afr_empire_politics_advisor_jihadist_2 } }
					custom_effect_tooltip = available_empire_advisor
					custom_effect_tooltip = afr_empire_politics_advisor_jihadist_2_tooltip
					#hidden_effect = {
						generate_character = {
							token_base = afr_empire_politics_advisor_jihadist_2
							name = advisor_jihadist_2_name
							advisor = {
								slot = political_advisor
								cost = 0
								idea_token = afr_empire_politics_advisor_jihadist_2_idea
								traits = {
									afr_empire_politics_trait_jihadist
								}
								allowed = {
									always = yes
								}
								
							}
						}
					#}
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_3 } } #C-Tier
					#hidden_effect = { add_ideas = { afr_empire_politics_advisor_jihadist_3 } }
					custom_effect_tooltip = available_empire_advisor
					custom_effect_tooltip = afr_empire_politics_advisor_jihadist_3_tooltip
					#hidden_effect = {
						generate_character = {
							token_base = afr_empire_politics_advisor_jihadist_3
							name = advisor_jihadist_3_name
							advisor = {
								slot = political_advisor
								cost = 0
								idea_token = afr_empire_politics_advisor_jihadist_3_idea
								traits = {
									afr_empire_politics_trait_jihadist
								}
								allowed = {
									always = yes
								}
								
							}
						}
					#}
				}
			}
			else_if = {
				limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_dawah_flag_1 } }
				if = {
					limit = { has_idea_with_trait = afr_empire_politics_trait_dawah } ##Already has advisor##
					#remove_ideas_with_trait = afr_empire_politics_trait_dawah
					activate_decision = afr_empire_politics_resign_advisor_dawah
					custom_effect_tooltip = afr_empire_politics_resign_advisor_dawah_cost_tooltip
				}
				if = {
					limit = { has_idea_with_trait = afr_empire_politics_trait_priest } ##Already has advisor##
					#remove_ideas_with_trait = afr_empire_politics_trait_priest
					activate_decision = afr_empire_politics_resign_advisor_priest
					custom_effect_tooltip = afr_empire_politics_resign_advisor_priest_cost_tooltip
				}
				if = {
					limit = { has_idea_with_trait = afr_empire_politics_trait_shaman } ##Already has advisor##
					#remove_ideas_with_trait = afr_empire_politics_trait_shaman
					activate_decision = afr_empire_politics_resign_advisor_shaman
					custom_effect_tooltip = afr_empire_politics_resign_advisor_shaman_cost_tooltip
				}
				if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_1 } } #A-Tier
					#hidden_effect = { add_ideas = { afr_empire_politics_advisor_dawah_1 } }
					custom_effect_tooltip = available_empire_advisor
					custom_effect_tooltip = afr_empire_politics_advisor_dawah_1_tooltip
					#hidden_effect = {
						generate_character = {
							token_base = afr_empire_politics_advisor_dawah_1
							name = advisor_dawah_1_name
							advisor = {
								slot = political_advisor
								cost = 0
								idea_token = afr_empire_politics_advisor_dawah_1_idea
								traits = {
									afr_empire_politics_trait_dawah
								}
								allowed = {
									always = yes
								}
								
							}
						}
					#}
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_2 } } #B-Tier
					#hidden_effect = { add_ideas = { afr_empire_politics_advisor_dawah_2 } }
					custom_effect_tooltip = available_empire_advisor
					custom_effect_tooltip = afr_empire_politics_advisor_dawah_2_tooltip
					#hidden_effect = {
						generate_character = {
							token_base = afr_empire_politics_advisor_dawah_2
							name = advisor_dawah_2_name
							advisor = {
								slot = political_advisor
								cost = 0
								idea_token = afr_empire_politics_advisor_dawah_2_idea
								traits = {
									afr_empire_politics_trait_dawah
								}
								allowed = {
									always = yes
								}
								
							}
						}
					#}
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_3 } } #C-Tier
					#hidden_effect = { add_ideas = { afr_empire_politics_advisor_dawah_3 } }
					custom_effect_tooltip = available_empire_advisor
					custom_effect_tooltip = afr_empire_politics_advisor_dawah_3_tooltip
					#hidden_effect = {
						generate_character = {
							token_base = afr_empire_politics_advisor_dawah_3
							name = advisor_dawah_3_name
							advisor = {
								slot = political_advisor
								cost = 0
								idea_token = afr_empire_politics_advisor_dawah_3_idea
								traits = {
									afr_empire_politics_trait_dawah
								}
								allowed = {
									always = yes
								}
								
							}
						}
					#}
				}
			}
			hidden_effect = {
				FROM = {
					clr_state_flag = afr_empire_politics_state_manager_local_rumor_searching_flag
					clr_state_flag = afr_empire_politics_local_rumor_searching_advisor_found_flag
				}
				if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_1 } }
					FROM = { clr_state_flag = afr_empire_politics_local_rumor_true_advisor_1 }
				}
				if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_2 } }
					FROM = { clr_state_flag = afr_empire_politics_local_rumor_true_advisor_2 }
				}
				if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_3 } }
					FROM = { clr_state_flag = afr_empire_politics_local_rumor_true_advisor_3 }
				}
			}
		}
		option = {
			name = afr_empire_politics_state_manager_local_rumors_event.4.b
			ai_chance = { base = 1 }
			trigger = { FROM = { has_state_flag = afr_empire_politics_local_rumor_searching_advisor_found_flag } }
			hidden_effect = {
				FROM = {
					clr_state_flag = afr_empire_politics_state_manager_local_rumor_searching_flag
					clr_state_flag = afr_empire_politics_local_rumor_searching_advisor_found_flag
				}
				if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_1 } }
					FROM = { clr_state_flag = afr_empire_politics_local_rumor_true_advisor_1 }
				}
				if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_2 } }
					FROM = { clr_state_flag = afr_empire_politics_local_rumor_true_advisor_2 }
				}
				if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_3 } }
					FROM = { clr_state_flag = afr_empire_politics_local_rumor_true_advisor_3 }
				}
			}
		}
		option = {
			name = afr_empire_politics_state_manager_local_rumors_event.4.c
			ai_chance = { base = 100 }
			trigger = { FROM = { NOT = { has_state_flag = afr_empire_politics_local_rumor_searching_advisor_found_flag } } }
			hidden_effect = {
				FROM = { clr_state_flag = afr_empire_politics_state_manager_local_rumor_searching_flag }
				if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_1 } }
					FROM = { clr_state_flag = afr_empire_politics_local_rumor_true_advisor_1 }
				}
				if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_2 } }
					FROM = { clr_state_flag = afr_empire_politics_local_rumor_true_advisor_2 }
				}
				if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_3 } }
					FROM = { clr_state_flag = afr_empire_politics_local_rumor_true_advisor_3 }
				}
			}
		}
	}
	state_event = {
		id = afr_empire_politics_state_manager_local_rumors_event.5
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			if = {
				limit = { has_state_flag = afr_empire_politics_state_manager_local_rumor_cooldown_flag }
				clr_state_flag = afr_empire_politics_state_manager_local_rumor_cooldown_flag
				afr_empire_politics_state_manager_local_rumors_initiate_scripted_effect = yes
			}
		}
	}
	#Non Advisor
	state_event = {
		id = afr_empire_politics_state_manager_local_rumors_event.6
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			set_state_flag = afr_empire_politics_state_manager_local_rumor_non_advisor_cooldown_flag
			state_event = { id = afr_empire_politics_state_manager_local_rumors_event.8 days = 30 trigger_for = controller }
			OWNER = { country_event = { id = afr_empire_politics_state_manager_local_rumors_event.7 } }
		}
	}
	country_event = {
		id = afr_empire_politics_state_manager_local_rumors_event.7
		title = afr_empire_politics_state_manager_local_rumors_event.7.t
		desc = afr_empire_politics_state_manager_local_rumors_event.7.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_state_manager_local_rumors_event.7.a
			ai_chance = { base = 100 }
			trigger = { FROM = { has_state_flag = afr_empire_politics_local_rumor_success_flag } }
			hidden_effect = {
				FROM = {
					clr_state_flag = afr_empire_politics_state_manager_local_rumor_searching_flag
					clr_state_flag = afr_empire_politics_local_rumor_success_flag
				}
			}
		}
		option = {
			name = afr_empire_politics_state_manager_local_rumors_event.7.b
			ai_chance = { base = 0 }
			trigger = { FROM = { has_state_flag = afr_empire_politics_local_rumor_success_flag } }
			hidden_effect = {
				FROM = {
					clr_state_flag = afr_empire_politics_state_manager_local_rumor_searching_flag
					clr_state_flag = afr_empire_politics_local_rumor_success_flag
				}
			}
		}
		option = {
			name = afr_empire_politics_state_manager_local_rumors_event.7.c
			ai_chance = { base = 100 }
			trigger = { FROM = { NOT = { has_state_flag = afr_empire_politics_local_rumor_success_flag } } }
			hidden_effect = {
				FROM = { clr_state_flag = afr_empire_politics_state_manager_local_rumor_searching_flag }
			}
		}
	}
	state_event = {
		id = afr_empire_politics_state_manager_local_rumors_event.8
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			if = {
				limit = { has_state_flag = afr_empire_politics_state_manager_local_rumor_non_advisor_cooldown_flag }
				clr_state_flag = afr_empire_politics_state_manager_local_rumor_non_advisor_cooldown_flag
				afr_empire_politics_state_manager_local_rumors_initiate_scripted_effect = yes
			}
		}
	}
###################
#####Market Events#
###################
	state_event = {
		id = afr_empire_politics_state_manager_market_event.1
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			OWNER = { country_event = { id = afr_empire_politics_state_manager_market_event.2 } }
		}
	}
	country_event = {
		id = afr_empire_politics_state_manager_market_event.2
		title = afr_empire_politics_state_manager_market_event.2.t
		desc = afr_empire_politics_state_manager_market_event.2.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		immediate = { hidden_effect = { ROOT = { set_country_flag = afr_empire_politics_state_management_in_event_flag set_country_flag = afr_empire_politics_state_management_in_event_flag_market } } }
		
		option = {
			name = afr_empire_politics_state_manager_market_event.2.a
			trigger = { 
				OR = {
					FROM = { check_variable = { var = afr_empire_politics_state_luxury_gold_acquisition_var value = 0 compare = greater_than } }
					FROM = { check_variable = { var = afr_empire_politics_state_luxury_ivory_acquisition_var value = 0 compare = greater_than } }
					FROM = { check_variable = { var = afr_empire_politics_state_luxury_spice_acquisition_var value = 0 compare = greater_than } }
				}
			}
			hidden_effect = { ROOT = { clr_country_flag = afr_empire_politics_state_management_in_event_flag } }
			hidden_effect = { FROM = { state_event = { id = afr_empire_politics_state_manager_market_luxury_event.1 } } }
			
		}
		option = {
			name = afr_empire_politics_state_manager_market_event.2.e
			hidden_effect = { ROOT = { clr_country_flag = afr_empire_politics_state_management_in_event_flag clr_country_flag = afr_empire_politics_state_management_in_event_flag_market } }
		}
	}
##################
#####Luxury Goods#
##################
	state_event = {
		id = afr_empire_politics_state_manager_market_luxury_event.1
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			OWNER = { country_event = { id = afr_empire_politics_state_manager_market_luxury_event.2 } }
		}
	}
	country_event = {
		id = afr_empire_politics_state_manager_market_luxury_event.2
		title = afr_empire_politics_state_manager_market_luxury_event.2.t
		desc = afr_empire_politics_state_manager_market_luxury_event.2.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		immediate = { hidden_effect = { ROOT = { set_country_flag = afr_empire_politics_state_management_in_event_flag } } }
		
		option = {
			name = afr_empire_politics_state_manager_market_luxury_event.2.a
			trigger = {
				FROM = { 
					NOT = { has_state_flag = afr_empire_politics_state_economy_status_investment_flag }
					check_variable = { var = afr_empire_politics_state_luxury_gold_acquisition_var value = 0 compare = greater_than } 
					if = {
						limit = { has_state_flag = afr_empire_politics_state_economy_status_boom_flag }
						OWNER = { check_variable = { var = afr_prosperity_mechanic_value value = 10 compare = greater_than_or_equals } }
					}
					else = { OWNER = { check_variable = { var = afr_prosperity_mechanic_value value = 20 compare = greater_than_or_equals } } }
					if = {
						limit = { 
							check_variable = { var = afr_empire_politics_state_luxury_gold_acquisition_var value = 0 compare = greater_than } 
							check_variable = { var = afr_empire_politics_state_luxury_gold_acquisition_var value = 25 compare = less_than }
						}
						OWNER = { has_tech = tribal_steel_tools }
					}
					else_if = {
						limit = { 
							check_variable = { var = afr_empire_politics_state_luxury_gold_acquisition_var value = 25 compare = greater_than_or_equals } 
							check_variable = { var = afr_empire_politics_state_luxury_gold_acquisition_var value = 50 compare = less_than }
						}
						OWNER = { has_tech = refining }
					}
					else_if = {
						limit = { 
							check_variable = { var = afr_empire_politics_state_luxury_gold_acquisition_var value = 50 compare = greater_than_or_equals } 
							check_variable = { var = afr_empire_politics_state_luxury_gold_acquisition_var value = 100 compare = less_than }
						}
						OWNER = { has_tech = mechanized_mining }
					}
				}
			}
			hidden_effect = { ROOT = { clr_country_flag = afr_empire_politics_state_management_in_event_flag clr_country_flag = afr_empire_politics_state_management_in_event_flag_market } }
			if = {
				limit = { FROM = { has_state_flag = afr_empire_politics_state_economy_status_boom_flag } }
				custom_effect_tooltip = afr_prosperity_mechanic_minus_10_tooltip
				custom_effect_tooltip = afr_prosperity_mechanic_boom_cost_tooltip
			}
			else = {
				custom_effect_tooltip = afr_prosperity_mechanic_minus_20_tooltip
			}
			FROM = { custom_effect_tooltip = afr_empire_politics_state_manager_market_luxury_event_gold_stats }
			hidden_effect = {
				FROM = { 
					state_event = { id = afr_empire_politics_state_manager_market_luxury_event.3 days = 180 trigger_for = controller } 
					if = {
						limit = { has_state_flag = afr_empire_politics_state_economy_status_boom_flag }
						afr_empire_politics_state_gain_none = yes
						OWNER = { add_to_variable = { var = afr_prosperity_mechanic_value value = -10 } }
					}
					else = {
						OWNER = { add_to_variable = { var = afr_prosperity_mechanic_value value = -20 } }
					}
					set_state_flag = afr_empire_politics_state_economy_status_investment_flag
					set_state_flag = afr_empire_politics_state_luxury_gold_investment_flag
				}
			}
			
		}
		option = {
			name = afr_empire_politics_state_manager_market_luxury_event.2.b
			trigger = {
				FROM = { 
					NOT = { has_state_flag = afr_empire_politics_state_economy_status_investment_flag }
					check_variable = { var = afr_empire_politics_state_luxury_ivory_acquisition_var value = 0 compare = greater_than } 
					if = {
						limit = { has_state_flag = afr_empire_politics_state_economy_status_boom_flag }
						OWNER = { check_variable = { var = afr_prosperity_mechanic_value value = 10 compare = greater_than_or_equals } }
					}
					else = { OWNER = { check_variable = { var = afr_prosperity_mechanic_value value = 20 compare = greater_than_or_equals } } }
					if = {
						limit = { 
							check_variable = { var = afr_empire_politics_state_luxury_ivory_acquisition_var value = 0 compare = greater_than } 
							check_variable = { var = afr_empire_politics_state_luxury_ivory_acquisition_var value = 25 compare = less_than }
						}
						OWNER = { has_tech = tribal_weapons }
					}
					else_if = {
						limit = { 
							check_variable = { var = afr_empire_politics_state_luxury_ivory_acquisition_var value = 25 compare = greater_than_or_equals } 
							check_variable = { var = afr_empire_politics_state_luxury_ivory_acquisition_var value = 60 compare = less_than }
						}
						OWNER = { has_tech = traditional_mixed_arms }
					}
					else_if = {
						limit = { 
							check_variable = { var = afr_empire_politics_state_luxury_ivory_acquisition_var value = 60 compare = greater_than_or_equals } 
							check_variable = { var = afr_empire_politics_state_luxury_ivory_acquisition_var value = 100 compare = less_than }
						}
						OWNER = { has_tech = infantry_weapons }
					}
				}
			}
			hidden_effect = { ROOT = { clr_country_flag = afr_empire_politics_state_management_in_event_flag clr_country_flag = afr_empire_politics_state_management_in_event_flag_market } }
			if = {
				limit = { FROM = { has_state_flag = afr_empire_politics_state_economy_status_boom_flag } }
				custom_effect_tooltip = afr_prosperity_mechanic_minus_10_tooltip
				custom_effect_tooltip = afr_prosperity_mechanic_boom_cost_tooltip
			}
			else = {
				custom_effect_tooltip = afr_prosperity_mechanic_minus_20_tooltip
			}
			FROM = { custom_effect_tooltip = afr_empire_politics_state_manager_market_luxury_event_ivory_stats }
			hidden_effect = {
				FROM = { 
					state_event = { id = afr_empire_politics_state_manager_market_luxury_event.3 days = 180 trigger_for = controller } 
					if = {
						limit = { has_state_flag = afr_empire_politics_state_economy_status_boom_flag }
						afr_empire_politics_state_gain_none = yes
						OWNER = { add_to_variable = { var = afr_prosperity_mechanic_value value = -10 } }
					}
					else = {
						OWNER = { add_to_variable = { var = afr_prosperity_mechanic_value value = -20 } }
					}
					set_state_flag = afr_empire_politics_state_economy_status_investment_flag
					set_state_flag = afr_empire_politics_state_luxury_ivory_investment_flag
				}
			}

		}
		option = {
			name = afr_empire_politics_state_manager_market_luxury_event.2.c
			trigger = {
				FROM = {
					NOT = { has_state_flag = afr_empire_politics_state_economy_status_investment_flag }
					check_variable = { var = afr_empire_politics_state_luxury_spice_acquisition_var value = 0 compare = greater_than } 
					if = {
						limit = { has_state_flag = afr_empire_politics_state_economy_status_boom_flag }
						OWNER = { check_variable = { var = afr_prosperity_mechanic_value value = 10 compare = greater_than_or_equals } }
					}
					else = { OWNER = { check_variable = { var = afr_prosperity_mechanic_value value = 20 compare = greater_than_or_equals } } }
					if = {
						limit = { 
							check_variable = { var = afr_empire_politics_state_luxury_spice_acquisition_var value = 0 compare = greater_than } 
							check_variable = { var = afr_empire_politics_state_luxury_spice_acquisition_var value = 25 compare = less_than }
						}
						OWNER = { has_tech = tribal_crop_planting }
					}
					else_if = {
						limit = { 
							check_variable = { var = afr_empire_politics_state_luxury_spice_acquisition_var value = 25 compare = greater_than_or_equals } 
							check_variable = { var = afr_empire_politics_state_luxury_spice_acquisition_var value = 65 compare = less_than }
						}
						OWNER = { has_tech = tribal_crop_rotation }
					}
					else_if = {
						limit = { 
							check_variable = { var = afr_empire_politics_state_luxury_spice_acquisition_var value = 65 compare = greater_than_or_equals } 
							check_variable = { var = afr_empire_politics_state_luxury_spice_acquisition_var value = 100 compare = less_than }
						}
						OWNER = { has_tech = mechanized_farming }
					}
				}
			}
			hidden_effect = { ROOT = { clr_country_flag = afr_empire_politics_state_management_in_event_flag clr_country_flag = afr_empire_politics_state_management_in_event_flag_market } }
			if = {
				limit = { FROM = { has_state_flag = afr_empire_politics_state_economy_status_boom_flag } }
				custom_effect_tooltip = afr_prosperity_mechanic_minus_10_tooltip
				custom_effect_tooltip = afr_prosperity_mechanic_boom_cost_tooltip
			}
			else = {
				custom_effect_tooltip = afr_prosperity_mechanic_minus_20_tooltip
			}
			FROM = { custom_effect_tooltip = afr_empire_politics_state_manager_market_luxury_event_spice_stats }
			hidden_effect = {
				FROM = { 
					state_event = { id = afr_empire_politics_state_manager_market_luxury_event.3 days = 180 trigger_for = controller }
					if = {
						limit = { has_state_flag = afr_empire_politics_state_economy_status_boom_flag }
						afr_empire_politics_state_gain_none = yes
						OWNER = { add_to_variable = { var = afr_prosperity_mechanic_value value = -10 } }
					}
					else = {
						OWNER = { add_to_variable = { var = afr_prosperity_mechanic_value value = -20 } }
					}
					set_state_flag = afr_empire_politics_state_economy_status_investment_flag
					set_state_flag = afr_empire_politics_state_luxury_spice_investment_flag
				}
			}
			
		}
		option = {
			name = afr_empire_politics_state_manager_market_luxury_event.2.e
			hidden_effect = { ROOT = { clr_country_flag = afr_empire_politics_state_management_in_event_flag clr_country_flag = afr_empire_politics_state_management_in_event_flag_market } }
			if = {
				limit = { FROM = { check_variable = { var = afr_empire_politics_state_luxury_gold_acquisition_var value = 0 compare = greater_than } } }
				FROM = { custom_effect_tooltip = afr_luxury_gold_requirements_has_tech_tooltip }
			}
			if = {
				limit = { FROM = { check_variable = { var = afr_empire_politics_state_luxury_ivory_acquisition_var value = 0 compare = greater_than } } }
				FROM = { custom_effect_tooltip = afr_luxury_ivory_requirements_has_tech_tooltip }
			}
			if = {
				limit = { FROM = { check_variable = { var = afr_empire_politics_state_luxury_spice_acquisition_var value = 0 compare = greater_than } } }
				FROM = { custom_effect_tooltip = afr_luxury_spice_requirements_has_tech_tooltip }
			}
			if = {
				limit = { FROM = { has_state_flag = afr_empire_politics_state_economy_status_investment_flag } }
				FROM = { custom_effect_tooltip = afr_empire_politics_state_manager_already_investing_tooltip }
			}
			else_if = {
				limit = {
					FROM = {
						has_state_flag = afr_empire_politics_state_economy_status_boom_flag
						OWNER = { NOT = { check_variable = { var = afr_prosperity_mechanic_value value = 10 compare = greater_than_or_equals } } } 
					} 
				}
				custom_effect_tooltip = afr_prosperity_mechanic_greater_than_10_tooltip
			}
			else_if = {
				limit = { FROM = { OWNER = { NOT = { check_variable = { var = afr_prosperity_mechanic_value value = 20 compare = greater_than_or_equals } } } } }
				custom_effect_tooltip = afr_prosperity_mechanic_greater_than_20_tooltip
			}
			custom_effect_tooltip = afr_empire_politics_state_manager_space_tooltip
			if = {
				limit = { FROM = { check_variable = { var = afr_empire_politics_state_luxury_gold_acquisition_var value = 0 compare = greater_than } } }
				FROM = { custom_effect_tooltip = afr_empire_politics_state_manager_market_luxury_event_gold_stats }
			}
			if = {
				limit = { FROM = { check_variable = { var = afr_empire_politics_state_luxury_ivory_acquisition_var value = 0 compare = greater_than } } }
				FROM = { custom_effect_tooltip = afr_empire_politics_state_manager_market_luxury_event_ivory_stats }
			}
			if = {
				limit = { FROM = { check_variable = { var = afr_empire_politics_state_luxury_spice_acquisition_var value = 0 compare = greater_than } } }
				FROM = { custom_effect_tooltip = afr_empire_politics_state_manager_market_luxury_event_spice_stats }
			}
			
		}
	}
	#state_event = {
	#	id = afr_empire_politics_state_manager_market_luxury_event.3
	#	hidden = yes
	#	is_triggered_only = yes
	#	
	#	immediate = {
	#		OWNER = { country_event = { id = afr_empire_politics_state_manager_market_luxury_event.4 } }
	#	}
	#}
	state_event = {
		id = afr_empire_politics_state_manager_market_luxury_event.3
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			ROOT= {
				if = {
					limit = { has_state_flag = afr_empire_politics_state_economy_status_investment_flag }
					clr_state_flag = afr_empire_politics_state_economy_status_investment_flag
					if = {
						limit = { has_state_flag = afr_empire_politics_state_luxury_gold_investment_flag }
						clr_state_flag = afr_empire_politics_state_luxury_gold_investment_flag
						add_to_variable = { var = afr_empire_politics_state_luxury_gold_acquisition_var value = 15 }
						clamp_variable = {
							var = afr_empire_politics_state_luxury_gold_acquisition_var
							min = 0
							max = 100
						}
						if = {
							limit = { check_variable = { var = afr_empire_politics_state_gold_prosperity_income value = 1 compare = equals } }
							add_to_variable = { var = afr_empire_politics_state_prosperity_var value = -1 }
						}
						else_if = {
							limit = { check_variable = { var = afr_empire_politics_state_gold_prosperity_income value = 2 compare = equals } }
							add_to_variable = { var = afr_empire_politics_state_prosperity_var value = -2 }
						}
						else_if = {
							limit = { check_variable = { var = afr_empire_politics_state_gold_prosperity_income value = 3 compare = equals } }
							add_to_variable = { var = afr_empire_politics_state_prosperity_var value = -3 }
						}
						if = {
							limit = {  
								check_variable = { var = afr_empire_politics_state_luxury_gold_acquisition_var value = 100 compare = equals }
							}
							set_variable = { var = afr_empire_politics_state_gold_prosperity_income value = 3 }
						}
						else_if = {
							limit = {  
								check_variable = { var = afr_empire_politics_state_luxury_gold_acquisition_var value = 100 compare = less_than }
								check_variable = { var = afr_empire_politics_state_luxury_gold_acquisition_var value = 50 compare = greater_than_or_equals }
							}
							set_variable = { var = afr_empire_politics_state_gold_prosperity_income value = 2 }
						}
						else_if = {
							limit = {  
								check_variable = { var = afr_empire_politics_state_luxury_gold_acquisition_var value = 50 compare = less_than }
								check_variable = { var = afr_empire_politics_state_luxury_gold_acquisition_var value = 25 compare = greater_than_or_equals }
							}
							set_variable = { var = afr_empire_politics_state_gold_prosperity_income value = 1 }
						}
						if = {
							limit = { check_variable = { var = afr_empire_politics_state_gold_prosperity_income value = 1 compare = equals } }
							add_to_variable = { var = afr_empire_politics_state_prosperity_var value = 1 }
						}
						else_if = {
							limit = { check_variable = { var = afr_empire_politics_state_gold_prosperity_income value = 2 compare = equals } }
							add_to_variable = { var = afr_empire_politics_state_prosperity_var value = 2 }
						}
						else_if = {
							limit = { check_variable = { var = afr_empire_politics_state_gold_prosperity_income value = 3 compare = equals } }
							add_to_variable = { var = afr_empire_politics_state_prosperity_var value = 3 }
						}
						
					}
					else_if = {
						limit = { has_state_flag = afr_empire_politics_state_luxury_ivory_investment_flag }
						clr_state_flag = afr_empire_politics_state_luxury_ivory_investment_flag
						add_to_variable = { var = afr_empire_politics_state_luxury_ivory_acquisition_var value = 15 }
						clamp_variable = {
							var = afr_empire_politics_state_luxury_ivory_acquisition_var
							min = 0
							max = 100
						}
						if = {
							limit = { check_variable = { var = afr_empire_politics_state_ivory_prosperity_income value = 1 compare = equals } }
							add_to_variable = { var = afr_empire_politics_state_prosperity_var value = -1 }
						}
						else_if = {
							limit = { check_variable = { var = afr_empire_politics_state_ivory_prosperity_income value = 2 compare = equals } }
							add_to_variable = { var = afr_empire_politics_state_prosperity_var value = -2 }
						}
						if = {
							limit = {  
								check_variable = { var = afr_empire_politics_state_luxury_ivory_acquisition_var value = 100 compare = equals }
							}
							set_variable = { var = afr_empire_politics_state_ivory_prosperity_income value = 2 }
						}
						else_if = {
							limit = {  
								check_variable = { var = afr_empire_politics_state_luxury_ivory_acquisition_var value = 100 compare = less_than }
								check_variable = { var = afr_empire_politics_state_luxury_ivory_acquisition_var value = 25 compare = greater_than_or_equals }
							}
							set_variable = { var = afr_empire_politics_state_ivory_prosperity_income value = 1 }
						}
						if = {
							limit = { check_variable = { var = afr_empire_politics_state_ivory_prosperity_income value = 1 compare = equals } }
							add_to_variable = { var = afr_empire_politics_state_prosperity_var value = 1 }
						}
						else_if = {
							limit = { check_variable = { var = afr_empire_politics_state_ivory_prosperity_income value = 2 compare = equals } }
							add_to_variable = { var = afr_empire_politics_state_prosperity_var value = 2 }
						}
					}
					else_if = {
						limit = { has_state_flag = afr_empire_politics_state_luxury_spice_investment_flag }
						clr_state_flag = afr_empire_politics_state_luxury_spice_investment_flag
						add_to_variable = { var = afr_empire_politics_state_luxury_spice_acquisition_var value = 15 }
						clamp_variable = {
							var = afr_empire_politics_state_luxury_spice_acquisition_var
							min = 0
							max = 100
						}
						if = {
							limit = { check_variable = { var = afr_empire_politics_state_spice_prosperity_income value = 1 compare = equals } }
							add_to_variable = { var = afr_empire_politics_state_prosperity_var value = -1 }
						}
						else_if = {
							limit = { check_variable = { var = afr_empire_politics_state_spice_prosperity_income value = 2 compare = equals } }
							add_to_variable = { var = afr_empire_politics_state_prosperity_var value = -2 }
						}
						if = {
							limit = {  
								check_variable = { var = afr_empire_politics_state_luxury_spice_acquisition_var value = 100 compare = equals }
							}
							set_variable = { var = afr_empire_politics_state_spice_prosperity_income value = 2 }
						}
						else_if = {
							limit = {  
								check_variable = { var = afr_empire_politics_state_luxury_spice_acquisition_var value = 100 compare = less_than }
								check_variable = { var = afr_empire_politics_state_luxury_spice_acquisition_var value = 25 compare = greater_than_or_equals }
							}
							set_variable = { var = afr_empire_politics_state_spice_prosperity_income value = 1 }
						}
						if = {
							limit = { check_variable = { var = afr_empire_politics_state_spice_prosperity_income value = 1 compare = equals } }
							add_to_variable = { var = afr_empire_politics_state_prosperity_var value = 1 }
						}
						else_if = {
							limit = { check_variable = { var = afr_empire_politics_state_spice_prosperity_income value = 2 compare = equals } }
							add_to_variable = { var = afr_empire_politics_state_prosperity_var value = 2 }
						}
					}
				}
			}
		}
	}
#################
#####Levy Events#
#################
	country_event = {
		id = afr_empire_politics_subject_levy_mission_event_global.1
		is_triggered_only = yes
		hidden = yes
		
		immediate = {
			random_country = {
				limit = { exists = yes }
				random_list = {
					10 = { country_event = { id = afr_empire_politics_subject_levy_mission_event_global.1 days = 260 } }
					20 = { country_event = { id = afr_empire_politics_subject_levy_mission_event_global.1 days = 240 } }
					40 = { country_event = { id = afr_empire_politics_subject_levy_mission_event_global.1 days = 220 } }
					20 = { country_event = { id = afr_empire_politics_subject_levy_mission_event_global.1 days = 200 } }
					10 = { country_event = { id = afr_empire_politics_subject_levy_mission_event_global.1 days = 180 } }
				}
			}
			every_country = {
				limit = {
					has_variable = has_afr_empire_mechanic_system
					OR = {
						has_autonomy_state = autonomy_afr_empire_level_1
						has_autonomy_state = autonomy_afr_empire_level_2
						has_autonomy_state = autonomy_afr_empire_level_3
						has_autonomy_state = autonomy_afr_empire_level_4
					}
					if = {
						limit = { is_subject = yes }
						OR = {
							OVERLORD = { has_idea = afr_large_kingdom }
							OVERLORD = { has_idea = afr_reforming_kingdom }
							OVERLORD = { has_idea = Oceania_large_kingdom }
							OVERLORD = { has_idea = Oceania_eastern_oriented_regional_power }
							OVERLORD = { has_idea = Oceania_western_oriented_regional_power }
						}
					}
				}
				random_list = {
					10 = { set_country_flag = afr_empire_politics_subject_levy_mission_large_flag }
					25 = { set_country_flag = afr_empire_politics_subject_levy_mission_medium_flag }
					65 = { set_country_flag = afr_empire_politics_subject_levy_mission_small_flag }
				}
				activate_mission = afr_empire_politics_subject_levy_mission
			}
		}
	}
	
	country_event = {
		id = afr_empire_politics_subject_levy_mission_event.1
		is_triggered_only = yes
		hidden = yes
		
		immediate = {
			FROM = { country_event = { id = afr_empire_politics_subject_levy_mission_event.2 } }
		}
	}
	
	country_event = {
		id = afr_empire_politics_subject_levy_mission_event.2
		title = afr_empire_politics_subject_levy_mission_event.2.t
		desc = afr_empire_politics_subject_levy_mission_event.2.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_empire_politics_subject_levy_mission_event.2.a
			trigger = {
				if = {
					limit = { has_country_flag = afr_empire_politics_subject_levy_mission_large_flag }
					check_variable = { Tribal_horse_army_num > 3000 }
				}
				if = {
					limit = { has_country_flag = afr_empire_politics_subject_levy_mission_medium_flag }
					check_variable = { Tribal_horse_army_num > 2000 }
				}
				if = {
					limit = { has_country_flag = afr_empire_politics_subject_levy_mission_small_flag }
					check_variable = { Tribal_horse_army_num > 1000 }
				}
			}
			ai_chance = { factor = 100 }
			FROM = { country_event = { id = afr_empire_politics_subject_levy_mission_event.3 days = 3 } }
			set_country_flag = afr_empire_politics_subject_levy_mission_horse_flag
			if = {
				limit = { has_country_flag = afr_empire_politics_subject_levy_mission_large_flag }
				custom_effect_tooltip= EDC_remove_3000_to_tribal_horse_army
				add_to_variable = {Tribal_horse_army_num = -3000}
			}
			if = {
				limit = { has_country_flag = afr_empire_politics_subject_levy_mission_medium_flag }
				custom_effect_tooltip= EDC_remove_2000_to_tribal_horse_army
				add_to_variable = {Tribal_horse_army_num = -2000}
			}
			if = {
				limit = { has_country_flag = afr_empire_politics_subject_levy_mission_small_flag }
				custom_effect_tooltip= EDC_remove_1000_to_tribal_horse_army
				add_to_variable = {Tribal_horse_army_num = -1000}
			}
		}
		option = {
			name = afr_empire_politics_subject_levy_mission_event.2.b
			trigger = {
				if = {
					limit = { has_country_flag = afr_empire_politics_subject_levy_mission_large_flag }
					check_variable = { Tribal_army_num > 6000 }
				}
				if = {
					limit = { has_country_flag = afr_empire_politics_subject_levy_mission_medium_flag }
					check_variable = { Tribal_army_num > 4000 }
				}
				if = {
					limit = { has_country_flag = afr_empire_politics_subject_levy_mission_small_flag }
					check_variable = { Tribal_army_num > 2000 }
				}
			}
			ai_chance = { factor = 100 }
			FROM = { country_event = { id = afr_empire_politics_subject_levy_mission_event.3 days = 3 } }
			set_country_flag = afr_empire_politics_subject_levy_mission_warrior_flag
			if = {
				limit = { has_country_flag = afr_empire_politics_subject_levy_mission_large_flag }
				custom_effect_tooltip= EDC_remove_6000_to_tribal_army
				add_to_variable = {Tribal_army_num = -6000}
			}
			if = {
				limit = { has_country_flag = afr_empire_politics_subject_levy_mission_medium_flag }
				custom_effect_tooltip= EDC_remove_4000_to_tribal_army
				add_to_variable = {Tribal_army_num = -4000}
			}
			if = {
				limit = { has_country_flag = afr_empire_politics_subject_levy_mission_small_flag }
				custom_effect_tooltip= EDC_remove_2000_to_tribal_army
				add_to_variable = {Tribal_army_num = -2000}
			}
		}
		option = {
			name = afr_empire_politics_subject_levy_mission_event.2.c
			trigger = {
				if = {
					limit = { has_country_flag = afr_empire_politics_subject_levy_mission_large_flag }
					check_variable = { afr_prosperity_mechanic_value > 8 }
				}
				if = {
					limit = { has_country_flag = afr_empire_politics_subject_levy_mission_medium_flag }
					check_variable = { afr_prosperity_mechanic_value > 5 }
				}
				if = {
					limit = { has_country_flag = afr_empire_politics_subject_levy_mission_small_flag }
					check_variable = { afr_prosperity_mechanic_value > 2 }
				}
			}
			ai_chance = { factor = 100 }
			FROM = { country_event = { id = afr_empire_politics_subject_levy_mission_event.3 days = 3 } }
			set_country_flag = afr_empire_politics_subject_levy_mission_prosperity_flag
			if = {
				limit = { has_country_flag = afr_empire_politics_subject_levy_mission_large_flag }
				custom_effect_tooltip = afr_prosperity_mechanic_minus_9
				add_to_variable = { var = afr_prosperity_mechanic_value value = -9 }
			}
			if = {
				limit = { has_country_flag = afr_empire_politics_subject_levy_mission_medium_flag }
				custom_effect_tooltip = afr_prosperity_mechanic_minus_6
				add_to_variable = { var = afr_prosperity_mechanic_value value = -6 }
			}
			if = {
				limit = { has_country_flag = afr_empire_politics_subject_levy_mission_small_flag }
				custom_effect_tooltip = afr_prosperity_mechanic_minus_3
				add_to_variable = { var = afr_prosperity_mechanic_value value = -3 }
			}
		}

	}
	country_event = {
		id = afr_empire_politics_subject_levy_mission_event.3
		title = afr_empire_politics_subject_levy_mission_event.3.t
		desc = afr_empire_politics_subject_levy_mission_event.3.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_empire_politics_subject_levy_mission_event.3.a
			trigger = { FROM = { has_country_flag = afr_empire_politics_subject_levy_mission_large_flag } }
			ai_chance = { factor = 100 }
			if = {
				limit = { FROM = { has_country_flag = afr_empire_politics_subject_levy_mission_horse_flag } }
				if={ limit={ NOT={has_idea = AF_T_Tribal_Army} } add_ideas={AF_T_Tribal_Army} }
				custom_effect_tooltip= EDC_levy_3000_to_tribal_horse_army
				add_to_variable = {Tribal_horse_army_num = 3000}
			}
			if = {
				limit = { FROM = { has_country_flag = afr_empire_politics_subject_levy_mission_warrior_flag } }
				if={ limit={ NOT={has_idea = AF_T_Tribal_Army} } add_ideas={AF_T_Tribal_Army} }
				custom_effect_tooltip= EDC_levy_6000_to_tribal_army
				add_to_variable = {Tribal_army_num = 6000}
			}
			if = {
				limit = { FROM = { has_country_flag = afr_empire_politics_subject_levy_mission_prosperity_flag } }
				set_temp_variable = {
					var = prosperity_change
					value = 9
				}
				afr_prosperity_mechanic_change = yes
			}
			hidden_effect = {
				FROM = {
					clr_country_flag = afr_empire_politics_subject_levy_mission_large_flag
					clr_country_flag = afr_empire_politics_subject_levy_mission_horse_flag
					clr_country_flag = afr_empire_politics_subject_levy_mission_warrior_flag
					clr_country_flag = afr_empire_politics_subject_levy_mission_prosperity_flag
				}
			}
		}
		
		option = {
			name = afr_empire_politics_subject_levy_mission_event.3.a
			trigger = { FROM = { has_country_flag = afr_empire_politics_subject_levy_mission_medium_flag } }
			ai_chance = { factor = 100 }
			if = {
				limit = { FROM = { has_country_flag = afr_empire_politics_subject_levy_mission_horse_flag } }
				if={ limit={ NOT={has_idea = AF_T_Tribal_Army} } add_ideas={AF_T_Tribal_Army} }
				custom_effect_tooltip= EDC_levy_2000_to_tribal_horse_army
				add_to_variable = {Tribal_horse_army_num = 2000}
			}
			if = {
				limit = { FROM = { has_country_flag = afr_empire_politics_subject_levy_mission_warrior_flag } }
				if={ limit={ NOT={has_idea = AF_T_Tribal_Army} } add_ideas={AF_T_Tribal_Army} }
				custom_effect_tooltip= EDC_levy_4000_to_tribal_army
				add_to_variable = {Tribal_army_num = 4000}
			}
			if = {
				limit = { FROM = { has_country_flag = afr_empire_politics_subject_levy_mission_prosperity_flag } }
				set_temp_variable = {
					var = prosperity_change
					value = 6
				}
				afr_prosperity_mechanic_change = yes
			}
			hidden_effect = {
				FROM = {
					clr_country_flag = afr_empire_politics_subject_levy_mission_medium_flag
					clr_country_flag = afr_empire_politics_subject_levy_mission_horse_flag
					clr_country_flag = afr_empire_politics_subject_levy_mission_warrior_flag
					clr_country_flag = afr_empire_politics_subject_levy_mission_prosperity_flag
				}
			}
		}
		
		option = {
			name = afr_empire_politics_subject_levy_mission_event.3.a
			trigger = { FROM = { has_country_flag = afr_empire_politics_subject_levy_mission_small_flag } }
			ai_chance = { factor = 100 }
			if = {
				limit = { FROM = { has_country_flag = afr_empire_politics_subject_levy_mission_horse_flag } }
				if={ limit={ NOT={has_idea = AF_T_Tribal_Army} } add_ideas={AF_T_Tribal_Army} }
				custom_effect_tooltip= EDC_levy_1000_to_tribal_horse_army
				add_to_variable = {Tribal_horse_army_num = 1000}
			}
			if = {
				limit = { FROM = { has_country_flag = afr_empire_politics_subject_levy_mission_warrior_flag } }
				if={ limit={ NOT={has_idea = AF_T_Tribal_Army} } add_ideas={AF_T_Tribal_Army} }
				custom_effect_tooltip= EDC_levy_2000_to_tribal_army
				add_to_variable = {Tribal_army_num = 2000}
			}
			if = {
				limit = { FROM = { has_country_flag = afr_empire_politics_subject_levy_mission_prosperity_flag } }
				set_temp_variable = {
					var = prosperity_change
					value = 3
				}
				afr_prosperity_mechanic_change = yes
			}
			hidden_effect = {
				FROM = {
					clr_country_flag = afr_empire_politics_subject_levy_mission_small_flag
					clr_country_flag = afr_empire_politics_subject_levy_mission_horse_flag
					clr_country_flag = afr_empire_politics_subject_levy_mission_warrior_flag
					clr_country_flag = afr_empire_politics_subject_levy_mission_prosperity_flag
				}
			}
		}

	}

	country_event = {
		id = afr_empire_politics_subject_levy_mission_event.4
		title = afr_empire_politics_subject_levy_mission_event.4.t
		desc = afr_empire_politics_subject_levy_mission_event.4.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_empire_politics_subject_levy_mission_event.4.a
			ai_chance = { factor = 100 }
			FROM = { country_event = { id = afr_empire_politics_subject_levy_mission_event.5 days = 3 } }
		}

	}
	country_event = {
		id = afr_empire_politics_subject_levy_mission_event.5
		title = afr_empire_politics_subject_levy_mission_event.5.t
		desc = afr_empire_politics_subject_levy_mission_event.5.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_empire_politics_subject_levy_mission_event.5.a
			ai_chance = { factor = 100 }
			add_autonomy_score = {
				value = -200
				localization = afr_empire_politics_subject_levy_mission_failed_tooltip
			}
		}

	}
	
	country_event = {
		id = afr_empire_politics_subject_send_tribute_to_overlord_event.1
		title = afr_empire_politics_subject_send_tribute_to_overlord_event.1.t
		desc = afr_empire_politics_subject_send_tribute_to_overlord_event.1.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_empire_politics_subject_send_tribute_to_overlord_event.1.a
			ai_chance = { factor = 100 }
			set_temp_variable = {
				var = prosperity_change
				value = 10
			}
			afr_prosperity_mechanic_change = yes
			FROM = { country_event = { id = afr_empire_politics_subject_send_tribute_to_overlord_event.2 days = 3 } }
		}

	}
	country_event = {
		id = afr_empire_politics_subject_send_tribute_to_overlord_event.2
		title = afr_empire_politics_subject_send_tribute_to_overlord_event.2.t
		desc = afr_empire_politics_subject_send_tribute_to_overlord_event.2.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_empire_politics_subject_send_tribute_to_overlord_event.2.a
			trigger = { 
				OR = {
					NOT = { has_government = fundamentalism }
					NOT ={ is_in_array = { array = national_religion_array value = global.sunni } }
				}
			}
			ai_chance = { factor = 100 }
			add_autonomy_score = {
				value = 200
				localization = afr_empire_politics_subject_send_tribute_to_overlord_tooltip
			}
		}
		
		option = {
			name = afr_empire_politics_subject_send_tribute_to_overlord_event.2.b
			trigger = { 
				has_government = fundamentalism
				is_in_array = { array = national_religion_array value = global.sunni }
			}
			ai_chance = { factor = 100 }
			add_autonomy_score = {
				value = 200
				localization = afr_empire_politics_subject_send_tribute_to_overlord_tooltip
			}
		}
	}

	country_event = {
		id = afr_request_overlord_assistance.22
		title = afr_request_overlord_assistance.22.t
		desc = afr_request_overlord_assistance.22.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_request_overlord_assistance.22.a
			ai_chance = { factor = 100 }
			MOM = { country_event = { id = afr_request_overlord_assistance.32 } }
		}

	}

	country_event = {
		id = afr_request_overlord_assistance.32
		title = afr_request_overlord_assistance.32.t
		desc = afr_request_overlord_assistance.32.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_request_overlord_assistance.32.a
			ai_chance = { factor = 100 }
			GLD = { country_event = { id = EDC_afr.46 } }
		}

	}


	country_event = {
		id = afr_request_overlord_assistance.1
		title = afr_request_overlord_assistance.1.t
		desc = afr_request_overlord_assistance.1.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_request_overlord_assistance.1.a
			trigger = {
				FROM = { is_neighbor_of = ROOT }
			}
			ai_chance = {
				factor = 100
			}
			custom_effect_tooltip = afr_request_overlord_assistance_defensive
			FROM = {country_event = { id = afr_request_overlord_assistance.2 }}
			hidden_effect = {
				every_country = {
					limit = {
						has_offensive_war_with = FROM
					}
					ROOT = {
						add_to_war = {
							targeted_alliance = FROM
							enemy = PREV
							hostility_reason = asked_to_join
						}
					}
				}
			}
		}

		option = {
			name = afr_request_overlord_assistance.1.b
			trigger = {
				NOT = { FROM = { is_neighbor_of = ROOT } }
			}
			ai_chance = {
				factor = 100
			}
			FROM = {country_event = { id = afr_request_overlord_assistance.3 }}
		}

	}

	country_event = {
		id = afr_request_overlord_assistance.2
		title = afr_request_overlord_assistance.2.t
		desc = afr_request_overlord_assistance.2.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_request_overlord_assistance.2.a
			ai_chance = { factor = 100 }
		}

	}

	country_event = {
		id = afr_request_overlord_assistance.3
		title = afr_request_overlord_assistance.3.t
		desc = afr_request_overlord_assistance.3.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_request_overlord_assistance.3.a
			ai_chance = { factor = 100 }
		}

	}

	country_event = {
		id = afr_request_overlord_assistance.4
		title = afr_request_overlord_assistance.4.t
		desc = afr_request_overlord_assistance.4.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_request_overlord_assistance.4.a
			trigger = {
				FROM = { is_neighbor_of = ROOT }
			}
			ai_chance = {
				factor = 100
			}
			custom_effect_tooltip = afr_request_overlord_assistance_offensive
			FROM = {country_event = { id = afr_request_overlord_assistance.5 }}
			hidden_effect = {
				every_country = {
					limit = {
						has_defensive_war_with = FROM
					}
					ROOT = {
						add_to_war = {
							targeted_alliance = FROM
							enemy = PREV
							hostility_reason = asked_to_join
						}
					}
				}
			}

		}

		option = {
			name = afr_request_overlord_assistance.4.b
			trigger = {
				NOT = { FROM = { is_neighbor_of = ROOT } }
			}
			ai_chance = {
				factor = 100
			}
			FROM = {country_event = { id = afr_request_overlord_assistance.6 }}
		}

	}

	country_event = {
		id = afr_request_overlord_assistance.5
		title = afr_request_overlord_assistance.5.t
		desc = afr_request_overlord_assistance.5.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_request_overlord_assistance.5.a
			ai_chance = { factor = 100 }
		}

	}

	country_event = {
		id = afr_request_overlord_assistance.6
		title = afr_request_overlord_assistance.6.t
		desc = afr_request_overlord_assistance.6.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_request_overlord_assistance.6.a
			ai_chance = { factor = 100 }
		}

	}


	country_event = {
		id = afr_war_exhaustion_exertion.1
		title = afr_war_exhaustion_exertion.1.t
		desc = afr_war_exhaustion_exertion.1.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		#Keep Fighting
		option = {
			name = afr_war_exhaustion_exertion.1.a
			ai_chance = { factor = 100 }
			trigger = {
				check_variable = { afr_war_exhaustion_value < 30 }
			}

		}
		#Stress The Economy
		option = {
			name = afr_war_exhaustion_exertion.1.b
			ai_chance = { factor = 50 }
			trigger = {
				check_variable = { afr_war_exhaustion_value > 29 }
				check_variable = { afr_war_exhaustion_value < 40 }
			}
			custom_effect_tooltip = afr_war_exhaustion_value_minus_5
			add_to_variable = {
				var = afr_war_exhaustion_value
				value = -5
			}
			add_stability = -0.005
		}
		#Desperate Measures
		option = {
			name = afr_war_exhaustion_exertion.1.c
			ai_chance = { factor = 25 }
			trigger = {
				check_variable = { afr_war_exhaustion_value > 39 }
			}
			custom_effect_tooltip = afr_war_exhaustion_value_minus_3
			add_to_variable = {
				var = afr_war_exhaustion_value
				value = -3
			}
			add_stability = -0.025
		}
		#white peace
		option = {
			name = afr_war_exhaustion_exertion.1.e
			ai_chance = {
				factor = 10
				modifier = {
					factor = 2
					check_variable = { afr_war_exhaustion_value > 30 }
					if = {
						limit = {
							any_enemy_country = {
								has_defensive_war_with = ROOT
								surrender_progress > 0.20
							}
						}
						always = no
					}
					else = {
						always = yes
					}
				}
				modifier = {
					factor = 2
					check_variable = { afr_war_exhaustion_value > 40 }
					if = {
						limit = {
							any_enemy_country = {
								has_defensive_war_with = ROOT
								surrender_progress > 0.20
							}
						}
						always = no
					}
					else = {
						always = yes
					}
				}
				modifier = {
					factor = 10
					check_variable = { afr_war_exhaustion_value > 49 }
					if = {
						limit = {
							any_enemy_country = {
								has_defensive_war_with = ROOT
								surrender_progress > 0.20
							}
						}
						always = no
					}
					else = {
						always = yes
					}
				}
				modifier = {
					factor = 10
					check_variable = { afr_war_exhaustion_value > 20 }
					if = {
						limit = {
							any_enemy_country = {
								has_defensive_war_with = ROOT
								OR = {
									surrender_progress > 0.20
									any_owned_state = {
										is_claimed_by = ROOT
									}
									any_owned_state = {
										is_core_of = ROOT
									}
								}
							}
						}
						always = no
					}
					else = {
						always = yes
					}
				}
				modifier = {
					factor = 200
					check_variable = { afr_war_exhaustion_value > 9 }
					if = {
						limit = {
							any_enemy_country = {
								has_defensive_war_with = ROOT
								OR = {
									surrender_progress > 0.05
									any_owned_state = {
										is_claimed_by = ROOT
									}
									any_owned_state = {
										is_core_of = ROOT
									}
								}
							}
						}
						always = no
					}
					else = {
						always = yes
					}
				}
			}
			trigger = {
				has_offensive_war = yes
				surrender_progress < 0.10
			}
			every_country = {
				limit = { has_defensive_war_with = ROOT }
				white_peace = ROOT
			}
			hidden_effect = {
				if = {
					limit = {
						OR = {
							has_country_flag = SKT_WDD_Joint_War_KAN
							has_country_flag = SKT_WDD_Joint_War_BAG_Buffer
							has_country_flag = SKT_WDD_Joint_War_Buffer
							has_country_flag = SKT_WDD_Joint_War_BAG

						}
					}
					clr_country_flag = SKT_WDD_Joint_War_KAN
					clr_country_flag = SKT_WDD_Joint_War_BAG_Buffer
					clr_country_flag = SKT_WDD_Joint_War_Buffer
					clr_country_flag = SKT_WDD_Joint_War_BAG
				}
			}
		}
	}


	country_event = {
		id = afr_integration_tribe_warning.1
		title = afr_integration_tribe_warning.1.t
		desc = afr_integration_tribe_warning.1.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_integration_tribe_warning.1.a
			ai_chance = {
				factor = 30
			}
			add_war_support = 0.075
			add_timed_idea = {
				idea = afr_integration_tribe_warning_idea
				days = 180
			}
		}
		option = {
			name = afr_integration_tribe_warning.1.b
			ai_chance = { factor = 35 }
			trigger = {
				check_variable = { Tribal_army_num > 2000 }
			}
			hidden_effect = {
				random_list = {
					45 = { set_country_flag = afr_raid_supplies_outcome_1 }
					30 = { set_country_flag = afr_raid_supplies_outcome_2 }
					25 = { set_country_flag = afr_raid_supplies_outcome_3 }
				}
			}
			custom_effect_tooltip= afr_tribal_send_500_army_raid_supply
			add_to_variable = {Tribal_army_num = -500}
			add_timed_idea = {
				idea = afr_integration_tribe_warning_idea
				days = 180
			}
			hidden_effect = { FROM = { country_event = { id = afr_integration_tribe_raid_supply.1 days = 15 } } }
		}
		option = {
			name = afr_integration_tribe_warning.1.c
			ai_chance = { factor = 35 }
			trigger = {
				OR = {
					has_country_flag = afr_integration_tribe_poison_provisions_spy
					check_variable = { Tribal_army_num > 2000 }
				}
			}
			hidden_effect = {
				random_list = {
					35 = { set_country_flag = afr_poison_provisions_outcome_1 }
					40 = { set_country_flag = afr_poison_provisions_outcome_2 }
					25 = { set_country_flag = afr_poison_provisions_outcome_3 }
				}
			}
			add_timed_idea = {
				idea = afr_integration_tribe_warning_idea
				days = 180
			}
			hidden_effect = { FROM = { country_event = { id = afr_integration_tribe_poison_provisions.1 days = 15 } } }
		}
	}

	country_event = {
		id = afr_integration_tribe_raid_supply.1
		title = afr_integration_tribe_raid_supply.1.t
		desc = afr_integration_tribe_raid_supply.1.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_integration_tribe_raid_supply.1.a
			ai_chance = { factor = 100 }
			trigger = {
				FROM = { has_country_flag = afr_raid_supplies_outcome_1 }
			}
			hidden_effect = { FROM = { country_event = { id = afr_integration_tribe_raid_supply.2 days = 1 } } }
		}
		option = {
			name = afr_integration_tribe_raid_supply.1.b
			ai_chance = { factor = 100 }
			trigger = {
				FROM = { has_country_flag = afr_raid_supplies_outcome_2 }
			}
			hidden_effect = { FROM = { country_event = { id = afr_integration_tribe_raid_supply.2 days = 1 } } }
		}
		option = {
			name = afr_integration_tribe_raid_supply.1.c
			ai_chance = { factor = 100 }
			trigger = {
				FROM = { has_country_flag = afr_raid_supplies_outcome_3 }
			}
			hidden_effect = { FROM = { country_event = { id = afr_integration_tribe_raid_supply.2 days = 1 } } }
		}
	}

	country_event = {
		id = afr_integration_tribe_raid_supply.2
		title = afr_integration_tribe_raid_supply.2.t
		desc = afr_integration_tribe_raid_supply.2.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_integration_tribe_raid_supply.2.a
			ai_chance = { factor = 100 }
			trigger = {
				has_country_flag = afr_raid_supplies_outcome_1
			}
			FROM = {
				add_timed_idea = {
					idea = afr_integration_tribe_raid_supply_weak_idea
					days = 120
				}
			}
			clr_country_flag = afr_raid_supplies_outcome_1
			custom_effect_tooltip= afr_tribal_lost_200_army_raid_supply
			add_to_variable = {Tribal_army_num = -200}
			add_equipment_to_stockpile = {
				type = tribal_weapons_0
				amount = 150
			}
		}

		option = {
			name = afr_integration_tribe_raid_supply.2.b
			ai_chance = { factor = 100 }
			trigger = {
				has_country_flag = afr_raid_supplies_outcome_2
			}
			FROM = {
				add_timed_idea = {
					idea = afr_integration_tribe_raid_supply_strong_idea
					days = 120
				}
			}
			custom_effect_tooltip= afr_tribal_lost_100_army_raid_supply
			add_to_variable = {Tribal_army_num = -100}
			clr_country_flag = afr_raid_supplies_outcome_2
			add_equipment_to_stockpile = {
				type = tribal_weapons_0
				amount = 500
			}
		}

		option = {
			name = afr_integration_tribe_raid_supply.2.c
			ai_chance = { factor = 100 }
			trigger = {
				has_country_flag = afr_raid_supplies_outcome_3
			}
			custom_effect_tooltip= afr_tribal_lost_400_army_raid_supply
			add_to_variable = {Tribal_army_num = -400}
			clr_country_flag = afr_raid_supplies_outcome_3
		}
	}

	country_event = {
		id = afr_integration_tribe_poison_provisions.1
		title = afr_integration_tribe_poison_provisions.1.t
		desc = afr_integration_tribe_poison_provisions.1.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_integration_tribe_poison_provisions.1.a
			ai_chance = { factor = 100 }
			trigger = {
				FROM = { has_country_flag = afr_poison_provisions_outcome_1 }
			}
			custom_effect_tooltip= afr_tribal_lost_500_army_poison_provisions
			add_to_variable = {Tribal_army_num = -500}
			hidden_effect = { FROM = { country_event = { id = afr_integration_tribe_poison_provisions.2 days = 1 } } }
		}
		option = {
			name = afr_integration_tribe_poison_provisions.1.b
			ai_chance = { factor = 100 }
			trigger = {
				FROM = { has_country_flag = afr_poison_provisions_outcome_2 }
			}
			hidden_effect = { FROM = { country_event = { id = afr_integration_tribe_poison_provisions.2 days = 1 } } }
		}
		option = {
			name = afr_integration_tribe_poison_provisions.1.c
			ai_chance = { factor = 100 }
			trigger = {
				FROM = { has_country_flag = afr_poison_provisions_outcome_3 }
			}
			custom_effect_tooltip= afr_tribal_lost_2000_army_poison_provisions
			add_to_variable = {Tribal_army_num = -2000}
			clr_country_flag = afr_jihadist_preparing_caliphate_war_flag
			clr_country_flag = afr_inward_preparing_expansion_war_flag
			ROOT = {
				add_ai_strategy = {
					type = prepare_for_war
					id = FROM
					value = -200
				}
			}
			FROM = {
				add_ai_strategy = {
					type = prepare_for_war
					id = ROOT
					value = -200
				}
			}
			hidden_effect = { FROM = { country_event = { id = afr_integration_tribe_poison_provisions.2 days = 1 } } }
		}
	}

	country_event = {
		id = afr_integration_tribe_poison_provisions.2
		title = afr_integration_tribe_poison_provisions.2.t
		desc = afr_integration_tribe_poison_provisions.2.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_integration_tribe_poison_provisions.2.a
			ai_chance = { factor = 100 }
			trigger = {
				has_country_flag = afr_poison_provisions_outcome_1
			}
			FROM = {
				add_timed_idea = {
					idea = afr_integration_tribe_poison_provisions_idea
					days = 120
				}
			}
			clr_country_flag = afr_poison_provisions_outcome_1
		}

		option = {
			name = afr_integration_tribe_poison_provisions.2.b
			ai_chance = { factor = 100 }
			trigger = {
				has_country_flag = afr_poison_provisions_outcome_2
			}
			clr_country_flag = afr_poison_provisions_outcome_2
		}

		option = {
			name = afr_integration_tribe_poison_provisions.2.c
			ai_chance = { factor = 100 }
			trigger = {
				has_country_flag = afr_poison_provisions_outcome_3
			}
			clr_country_flag = afr_poison_provisions_outcome_3
		}
	}


	country_event = {
		id = afr_caliphate_integration_tribe.1
		title = afr_caliphate_integration_tribe.1.t
		desc = afr_caliphate_integration_tribe.1.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_caliphate_integration_tribe.1.a
			trigger = {
				OR = {
					NOT = {
						is_in_array = {
							array = national_religion_array
							value = global.sunni
						}
					}
					NOT = { has_government = fundamentalism }
				}
			}
			ai_chance = {
				base = 10
				modifier = {
					add = 80
					AND = {
						ROOT = { has_army_size = { size < 5 } }
						ROOT = { check_variable = { Tribal_army_num < 4999 } }
					}
				}
				modifier = {
					factor = 0
					OR = {
						ROOT = { check_variable = { var = rival_country value = FROM.id  compare = equals } }
						FROM = { check_variable = { var = rival_country value = ROOT.id  compare = equals } }
					}
				}
			}
			hidden_effect = {
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = FROM
						value = -200
					}
				}
				FROM = {
					add_ai_strategy = {
						type = prepare_for_war
						id = ROOT
						value = -200
					}
				}
			}
			if = {
				limit = {
					OR = {
						has_dlc = "Together for Victory"
						has_dlc = "Waking the Tiger"
						has_dlc = "Death or Dishonor"
					}
				}
				hidden_effect = { ROOT = { store_current_ideologies = yes } }
				if = {
					limit = { 
						ROOT = { 
							OR = {
								has_idea = AF_T_nomadic_tribal_nation
								has_idea = AF_T_unorganized_tribal_nation
								has_idea = AF_T_unorganized_tribal_nation_2
								has_idea = AF_T_unorganized_tribal_nation_3
								has_idea = AF_T_unorganized_tribal_nation_4
							}
						}
					}
					FROM = {
						set_autonomy = {
							target = ROOT
							autonomy_state = autonomy_afr_empire_level_1
							freedom_level = 0.5
						}
					}
				}
				else_if = {
					limit = { 
						ROOT = { 
							OR = {
								has_idea = AF_T_unorganized_tribal_nation_5
								has_idea = AF_T_organized_tribal_nation
							}
						}
					}
					FROM = {
						set_autonomy = {
							target = ROOT
							autonomy_state = autonomy_afr_empire_level_1
							freedom_level = 0.9
						}
					}
				}
				else_if = {
					limit = { ROOT = { has_idea = AF_T_organized_tribal_nation_2 } }
					FROM = {
						set_autonomy = {
							target = ROOT
							autonomy_state = autonomy_afr_empire_level_2
							freedom_level = 0.1
						}
					}
				}
				else = {
					FROM = {
						set_autonomy = {
							target = ROOT
							autonomy_state = autonomy_afr_empire_level_2
							freedom_level = 0.5
						}
					}
				}
				hidden_effect = { ROOT = { load_prevous_ideologies = yes } }
			}
			else = {
				hidden_effect = { ROOT = { store_current_ideologies = yes } }
				FROM = { puppet = ROOT }
				hidden_effect = { ROOT = { load_prevous_ideologies = yes } }
			}
			FROM = { country_event = { id = afr_caliphate_integration_tribe.3 } }
			if = {
				limit = { 
					FROM = { afr_is_tribal = yes } #OVERLORD
					ROOT = { afr_is_tribal = yes } #SUBJECT
					ROOT = { NOT = { has_variable = ROOT.afr_empire_subject_loyalty_var@FROM } } 
				}
				if = {
					limit = { 
						OR = {
							FROM = { any_owned_state = { is_core_of = ROOT } }
							ROOT = { check_variable = { rival_country = FROM.id } }
						}
					}
					ROOT = { 
						set_variable = { var = afr_empire_subject_overlord value = FROM.id }
						set_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM value = 2 }
						clamp_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM min = -1 max = 10 }
					}
				}
				else = {
					ROOT = { 
						set_variable = { var = afr_empire_subject_overlord value = FROM.id }
						set_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM value = 5 }
						clamp_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM min = -1 max = 10 }
					}
				}
			}
		}

		option = {
			name = afr_caliphate_integration_tribe.1.b
			trigger = {
				OR = {
					NOT = {
						is_in_array = {
							array = national_religion_array
							value = global.sunni
						}
					}
					NOT = { has_government = fundamentalism }
				}
			}
			ai_chance = {
				base = 90
				modifier = {
					add = -80
					AND = {
						ROOT = { has_army_size = { size < 5 } }
						ROOT = { check_variable = { Tribal_army_num < 4999 } }
					}
				}
			}
			custom_effect_tooltip = SKT_sunni_integration_tooltip
			FROM = { country_event = { id = afr_caliphate_integration_tribe.2 days = 3 } }
		}

		option = {
			name = afr_caliphate_integration_tribe.1.c
			trigger = {
				is_in_array = {
					array = national_religion_array
					value = global.sunni
				}
				has_government = fundamentalism
			}
			ai_chance = {
				base = 70
				modifier = {
					add = 20
					AND = {
						ROOT = { has_army_size = { size < 5 } }
						ROOT = { check_variable = { Tribal_army_num < 4999 } }
					}
				}
				modifier = {
					factor = 0
					OR = {
						ROOT = { check_variable = { var = rival_country value = FROM.id  compare = equals } }
						FROM = { check_variable = { var = rival_country value = ROOT.id  compare = equals } }
					}
				}
			}
			hidden_effect = {
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = FROM
						value = -200
					}
				}
				FROM = {
					add_ai_strategy = {
						type = prepare_for_war
						id = ROOT
						value = -200
					}
				}
			}
			if = {
				limit = {
					OR = {
						has_dlc = "Together for Victory"
						has_dlc = "Waking the Tiger"
						has_dlc = "Death or Dishonor"
					}
				}
				hidden_effect = { ROOT = { store_current_ideologies = yes } }
				if = {
					limit = { 
						ROOT = { 
							OR = {
								has_idea = AF_T_nomadic_tribal_nation
								has_idea = AF_T_unorganized_tribal_nation
								has_idea = AF_T_unorganized_tribal_nation_2
								has_idea = AF_T_unorganized_tribal_nation_3
								has_idea = AF_T_unorganized_tribal_nation_4
							}
						}
					}
					FROM = {
						set_autonomy = {
							target = ROOT
							autonomy_state = autonomy_afr_empire_level_1
							freedom_level = 0.5
						}
					}
				}
				else_if = {
					limit = { 
						ROOT = { 
							OR = {
								has_idea = AF_T_unorganized_tribal_nation_5
								has_idea = AF_T_organized_tribal_nation
							}
						}
					}
					FROM = {
						set_autonomy = {
							target = ROOT
							autonomy_state = autonomy_afr_empire_level_1
							freedom_level = 0.9
						}
					}
				}
				else_if = {
					limit = { ROOT = { has_idea = AF_T_organized_tribal_nation_2 } }
					FROM = {
						set_autonomy = {
							target = ROOT
							autonomy_state = autonomy_afr_empire_level_2
							freedom_level = 0.1
						}
					}
				}
				else = {
					FROM = {
						set_autonomy = {
							target = ROOT
							autonomy_state = autonomy_afr_empire_level_2
							freedom_level = 0.5
						}
					}
				}
				hidden_effect = { ROOT = { load_prevous_ideologies = yes } }
			}
			else = {
				hidden_effect = { ROOT = { store_current_ideologies = yes } }
				FROM = { puppet = ROOT }
				hidden_effect = { ROOT = { load_prevous_ideologies = yes } }
			}
			FROM = { country_event = { id = afr_caliphate_integration_tribe.3 } }
			if = {
				limit = { 
					FROM = { afr_is_tribal = yes } #OVERLORD
					ROOT = { afr_is_tribal = yes } #SUBJECT
					ROOT = { NOT = { has_variable = ROOT.afr_empire_subject_loyalty_var@FROM } } 
				}
				if = {
					limit = { 
						OR = {
							FROM = { any_owned_state = { is_core_of = ROOT } }
							ROOT = { check_variable = { rival_country = FROM.id } }
						}
					}
					ROOT = { 
						set_variable = { var = afr_empire_subject_overlord value = FROM.id }
						set_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM value = 2 }
						clamp_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM min = -1 max = 10 }
					}
				}
				else = {
					ROOT = { 
						set_variable = { var = afr_empire_subject_overlord value = FROM.id }
						set_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM value = 5 }
						clamp_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM min = -1 max = 10 }
					}
				}
			}
		}

		option = {
			name = afr_caliphate_integration_tribe.1.e
			trigger = {
				is_in_array = {
					array = national_religion_array
					value = global.sunni
				}
				has_government = fundamentalism
			}
			ai_chance = {
				base = 30
				modifier = {
					add = -20
					AND = {
						ROOT = { has_army_size = { size < 5 } }
						ROOT = { check_variable = { Tribal_army_num < 4999 } }
					}
				}
			}
			custom_effect_tooltip = SKT_sunni_integration_tooltip
			FROM = { country_event = { id = afr_caliphate_integration_tribe.2 days = 3 } }
		}

	}

	country_event = {
		id = afr_caliphate_integration_tribe.2
		title = afr_caliphate_integration_tribe.2.t
		desc = afr_caliphate_integration_tribe.2.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_caliphate_integration_tribe.2.a
			ai_chance = { base = 90 }
			hidden_effect = { FROM = { country_event = { days = 42 id = afr_caliphate_integration_tribe.4 } } }
			hidden_effect = { FROM = { country_event = { days = 5 id = afr_integration_tribe_warning.1 } } }
			custom_effect_tooltip = afr_war_exhaustion_value_add_5
		}

		option = {
			name = afr_caliphate_integration_tribe.2.b
			ai_chance = { 
				base = 10 
				modifier = {
					factor = 0
					OR = {
						ROOT = { check_variable = { var = rival_country value = FROM.id  compare = equals } }
						FROM = { check_variable = { var = rival_country value = ROOT.id  compare = equals } }
					}
				}
			}
			hidden_effect = {
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = FROM
						value = -200
					}
					clr_country_flag = afr_jihadist_preparing_caliphate_war_flag
				}
				FROM = {
					add_ai_strategy = {
						type = prepare_for_war
						id = ROOT
						value = -200
					}
				}
			}
		}

	}

	country_event = {
		id = afr_caliphate_integration_tribe.3
		title = afr_caliphate_integration_tribe.3.t
		desc = afr_caliphate_integration_tribe.3.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_caliphate_integration_tribe.3.a
			ai_chance = { factor = 100 }
			clr_country_flag = afr_jihadist_preparing_caliphate_war_flag
			if = {
				limit = { FROM = { has_opinion_modifier = AFR_fulani_jihad_conflict } }
				hidden_effect = {
					remove_opinion_modifier = {
						target = FROM
						modifier = AFR_fulani_jihad_conflict
					}
				}
				FROM = {
					remove_opinion_modifier = {
						target = ROOT
						modifier = AFR_fulani_jihad_conflict
					}
				}
			}
		}
	}
	
	country_event = {
		id = afr_caliphate_integration_tribe.4
		hidden = yes
		is_triggered_only = yes

		immediate = {
			hidden_effect = { FROM = { country_event = { id = afr_caliphate_integration_tribe.5 } } }
		}

	}
	
	country_event = {
		id = afr_caliphate_integration_tribe.5
		title = afr_caliphate_integration_tribe.5.t
		desc = afr_caliphate_integration_tribe.5.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes
		
		trigger = { has_country_flag = afr_jihadist_preparing_caliphate_war_flag }

		option = {
			name = afr_caliphate_integration_tribe.5.a
			FROM = { every_owned_state = { add_claim_by = ROOT } }
			ROOT = {
				declare_war_on = {
					target = FROM
					type = puppet_wargoal_focus
				}
				clr_country_flag = afr_jihadist_preparing_caliphate_war_flag
			}
			custom_effect_tooltip = afr_war_exhaustion_value_add_5
			add_to_variable = {
				var = afr_war_exhaustion_value
				value = 5
			}
			hidden_effect = {
				set_variable = { ROOT.afr_regional_power_expansion_attacker@FROM = 1 }
				set_variable = { FROM.afr_regional_power_expansion_defender@ROOT = 1 }
			}
		}

	}

	country_event = {
		id = afr_caliphate_integration_kingdom.1
		title = afr_caliphate_integration_kingdom.1.t
		desc = afr_caliphate_integration_kingdom.1.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_caliphate_integration_kingdom.1.a
			trigger = {
				NOT = {
					is_in_array = {
						array = national_religion_array
						value = global.sunni
					}
				}
			}
			ai_chance = {
				base = 10
				modifier = {
					add = 80
					AND = {
						ROOT = { has_army_size = { size < 5 } }
						ROOT = { check_variable = { Tribal_army_num < 4999 } }
					}
				}
				modifier = {
					factor = 0
					OR = {
						ROOT = { check_variable = { var = rival_country value = FROM.id  compare = equals } }
						FROM = { check_variable = { var = rival_country value = ROOT.id  compare = equals } }
					}
				}
			}
			hidden_effect = { FROM = { clr_country_flag = afr_jihadist_preparing_caliphate_war_flag } }
			hidden_effect = {
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = FROM
						value = -200
					}
				}
				FROM = {
					add_ai_strategy = {
						type = prepare_for_war
						id = ROOT
						value = -200
					}
				}
			}
			if = {
				limit = {
					OR = {
						has_dlc = "Together for Victory"
						has_dlc = "Waking the Tiger"
						has_dlc = "Death or Dishonor"
					}
				}
				hidden_effect = { ROOT = { store_current_ideologies = yes } }
				FROM = {
					set_autonomy = {
						target = ROOT
						autonomy_state = autonomy_afr_empire_level_3
						freedom_level = 0.80
					}
				}
				hidden_effect = { ROOT = { load_prevous_ideologies = yes } }
			}
			else = {
				hidden_effect = { ROOT = { store_current_ideologies = yes } }
				FROM = { puppet = ROOT }
				hidden_effect = { ROOT = { load_prevous_ideologies = yes } }
			}
			if = {
				limit = { 
					FROM = { afr_is_tribal = yes } #OVERLORD
					ROOT = { afr_is_tribal = yes } #SUBJECT
					ROOT = { NOT = { has_variable = ROOT.afr_empire_subject_loyalty_var@FROM } } 
				}
				if = {
					limit = { 
						OR = {
							FROM = { any_owned_state = { is_core_of = ROOT } }
							ROOT = { check_variable = { rival_country = FROM.id } }
						}
					}
					ROOT = { 
						set_variable = { var = afr_empire_subject_overlord value = FROM.id }
						set_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM value = 3 }
						clamp_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM min = -1 max = 10 }
					}
				}
				else = {
					ROOT = { 
						set_variable = { var = afr_empire_subject_overlord value = FROM.id }
						set_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM value = 6 }
						clamp_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM min = -1 max = 10 }
					}
				}
			}
		}

		option = {
			name = afr_caliphate_integration_kingdom.1.b
			trigger = {
				NOT = {
					is_in_array = {
						array = national_religion_array
						value = global.sunni
					}
				}
			}
			ai_chance = {
				base = 90
				modifier = {
					add = -80
					AND = {
						ROOT = { has_army_size = { size < 5 } }
						ROOT = { check_variable = { Tribal_army_num < 4999 } }
					}
				}
			}
			custom_effect_tooltip = SKT_sunni_integration_tooltip
			FROM = { country_event = { id = afr_caliphate_integration_kingdom.2 days = 45 } }
		}

		option = {
			name = afr_caliphate_integration_kingdom.1.c
			trigger = {
				is_in_array = {
					array = national_religion_array
					value = global.sunni
				}
				has_government = fundamentalism
			}
			ai_chance = {
				base = 70
				modifier = {
					add = 20
					AND = {
						ROOT = { has_army_size = { size < 5 } }
						ROOT = { check_variable = { Tribal_army_num < 4999 } }
					}
				}
				modifier = {
					factor = 0
					OR = {
						ROOT = { check_variable = { var = rival_country value = FROM.id  compare = equals } }
						FROM = { check_variable = { var = rival_country value = ROOT.id  compare = equals } }
					}
				}
			}
			hidden_effect = { FROM = { clr_country_flag = afr_jihadist_preparing_caliphate_war_flag } }
			hidden_effect = {
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = FROM
						value = -200
					}
				}
				FROM = {
					add_ai_strategy = {
						type = prepare_for_war
						id = ROOT
						value = -200
					}
				}
			}
			if = {
				limit = {
					OR = {
						has_dlc = "Together for Victory"
						has_dlc = "Waking the Tiger"
						has_dlc = "Death or Dishonor"
					}
				}
				hidden_effect = { ROOT = { store_current_ideologies = yes } }
				FROM = {
					set_autonomy = {
						target = ROOT
						autonomy_state = autonomy_afr_empire_level_3
						freedom_level = 0.80
					}
				}
				hidden_effect = { ROOT = { load_prevous_ideologies = yes } }
			}
			else = {
				hidden_effect = { ROOT = { store_current_ideologies = yes } }
				FROM = { puppet = ROOT }
				hidden_effect = { ROOT = { load_prevous_ideologies = yes } }
			}
			if = {
				limit = { 
					FROM = { afr_is_tribal = yes } #OVERLORD
					ROOT = { afr_is_tribal = yes } #SUBJECT
					ROOT = { NOT = { has_variable = ROOT.afr_empire_subject_loyalty_var@FROM } } 
				}
				if = {
					limit = { 
						OR = {
							FROM = { any_owned_state = { is_core_of = ROOT } }
							ROOT = { check_variable = { rival_country = FROM.id } }
						}
					}
					ROOT = { 
						set_variable = { var = afr_empire_subject_overlord value = FROM.id }
						set_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM value = 3 }
						clamp_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM min = -1 max = 10 }
					}
				}
				else = {
					ROOT = { 
						set_variable = { var = afr_empire_subject_overlord value = FROM.id }
						set_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM value = 6 }
						clamp_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM min = -1 max = 10 }
					}
				}
			}
		}

		option = {
			name = afr_caliphate_integration_kingdom.1.e
			trigger = {
				is_in_array = {
					array = national_religion_array
					value = global.sunni
				}
				has_government = fundamentalism
			}
			ai_chance = {
				base = 30
				modifier = {
					add = -20
					AND = {
						ROOT = { has_army_size = { size < 5 } }
						ROOT = { check_variable = { Tribal_army_num < 4999 } }
					}
				}
			}
			custom_effect_tooltip = SKT_sunni_integration_tooltip
			FROM = { country_event = { id = afr_caliphate_integration_kingdom.2 days = 45 } }
		}

		option = {
			name = afr_caliphate_integration_kingdom.1.c
			trigger = {
				is_in_array = {
					array = national_religion_array
					value = global.sunni
				}
				NOT = { has_government = fundamentalism }
			}
			ai_chance = {
				base = 30
				modifier = {
					add = 60
					AND = {
						ROOT = { has_army_size = { size < 5 } }
						ROOT = { check_variable = { Tribal_army_num < 4999 } }
					}
				}
				modifier = {
					factor = 0
					OR = {
						ROOT = { check_variable = { var = rival_country value = FROM.id  compare = equals } }
						FROM = { check_variable = { var = rival_country value = ROOT.id  compare = equals } }
					}
				}
			}
			hidden_effect = { FROM = { clr_country_flag = afr_jihadist_preparing_caliphate_war_flag } }
			hidden_effect = {
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = FROM
						value = -200
					}
				}
				FROM = {
					add_ai_strategy = {
						type = prepare_for_war
						id = ROOT
						value = -200
					}
				}
			}
			if = {
				limit = {
					OR = {
						has_dlc = "Together for Victory"
						has_dlc = "Waking the Tiger"
						has_dlc = "Death or Dishonor"
					}
				}
				hidden_effect = { ROOT = { store_current_ideologies = yes } }
				FROM = {
					set_autonomy = {
						target = ROOT
						autonomy_state = autonomy_afr_empire_level_3
						freedom_level = 0.80
					}
				}
				hidden_effect = { ROOT = { load_prevous_ideologies = yes } }
			}
			else = {
				hidden_effect = { ROOT = { store_current_ideologies = yes } }
				FROM = { puppet = ROOT }
				hidden_effect = { ROOT = { load_prevous_ideologies = yes } }
			}
			if = {
				limit = { 
					FROM = { afr_is_tribal = yes } #OVERLORD
					ROOT = { afr_is_tribal = yes } #SUBJECT
					ROOT = { NOT = { has_variable = ROOT.afr_empire_subject_loyalty_var@FROM } } 
				}
				if = {
					limit = { 
						OR = {
							FROM = { any_owned_state = { is_core_of = ROOT } }
							ROOT = { check_variable = { rival_country = FROM.id } }
						}
					}
					ROOT = { 
						set_variable = { var = afr_empire_subject_overlord value = FROM.id }
						set_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM value = 3 }
						clamp_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM min = -1 max = 10 }
					}
				}
				else = {
					ROOT = { 
						set_variable = { var = afr_empire_subject_overlord value = FROM.id }
						set_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM value = 6 }
						clamp_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM min = -1 max = 10 }
					}
				}
			}
		}

		option = {
			name = afr_caliphate_integration_kingdom.1.e
			trigger = {
				is_in_array = {
					array = national_religion_array
					value = global.sunni
				}
				NOT = { has_government = fundamentalism }
			}
			ai_chance = {
				base = 70
				modifier = {
					add = -60
					AND = {
						ROOT = { has_army_size = { size < 5 } }
						ROOT = { check_variable = { Tribal_army_num < 4999 } }
					}
				}
			}
			custom_effect_tooltip = SKT_sunni_integration_tooltip
			FROM = { country_event = { id = afr_caliphate_integration_kingdom.2 days = 45 } }
		}

	}

	country_event = {
		id = afr_caliphate_integration_kingdom.2
		title = afr_caliphate_integration_kingdom.2.t
		desc = afr_caliphate_integration_kingdom.2.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_caliphate_integration_kingdom.2.a
			ai_chance = { base = 90 }
			FROM = { every_owned_state = { add_claim_by = ROOT } }
			ROOT = {
				declare_war_on = {
					target = FROM
					type = puppet_wargoal_focus
				}
				clr_country_flag = afr_jihadist_preparing_caliphate_war_flag
			}
			custom_effect_tooltip = afr_war_exhaustion_value_add_5
			add_to_variable = {
				var = afr_war_exhaustion_value
				value = 5
			}
			hidden_effect = {
				set_variable = { ROOT.afr_regional_power_expansion_attacker@FROM = 1 }
				set_variable = { FROM.afr_regional_power_expansion_defender@ROOT = 1 }
			}
		}

		option = {
			name = afr_caliphate_integration_kingdom.2.b
			ai_chance = { 
				base = 10 
				modifier = {
					factor = 0
					OR = {
						ROOT = { check_variable = { var = rival_country value = FROM.id  compare = equals } }
						FROM = { check_variable = { var = rival_country value = ROOT.id  compare = equals } }
					}
				}
			}
			hidden_effect = {
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = FROM
						value = -200
					}
					clr_country_flag = afr_jihadist_preparing_caliphate_war_flag
				}
				FROM = {
					add_ai_strategy = {
						type = prepare_for_war
						id = ROOT
						value = -200
					}
				}
			}
		}

	}

	country_event = {
		id = afr_caliphate_integration_kingdom.3
		title = afr_caliphate_integration_kingdom.3.t
		desc = afr_caliphate_integration_kingdom.3.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_caliphate_integration_kingdom.3.a
			ai_chance = { factor = 100 }
			clr_country_flag = afr_jihadist_preparing_caliphate_war_flag
			if = {
				limit = { FROM = { has_opinion_modifier = AFR_fulani_jihad_conflict } }
				hidden_effect = {
					remove_opinion_modifier = {
						target = FROM
						modifier = AFR_fulani_jihad_conflict
					}
				}
				FROM = {
					remove_opinion_modifier = {
						target = ROOT
						modifier = AFR_fulani_jihad_conflict
					}
				}
			}
		}

	}



	country_event = {
		id = afr_inward_integration_tribe_warning.1
		title = afr_inward_integration_tribe_warning.1.t
		desc = afr_inward_integration_tribe_warning.1.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_inward_integration_tribe_warning.1.a
			ai_chance = { factor = 100 }
			add_war_support = 0.075
		}
	}

	country_event = {
		id = afr_inward_integration_tribe.1
		title = afr_inward_integration_tribe.1.t
		desc = afr_inward_integration_tribe.1.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_inward_integration_tribe.1.a
			ai_chance = {
				base = 10
				modifier = {
					add = 80
					AND = {
						ROOT = { has_army_size = { size < 5 } }
						ROOT = { check_variable = { Tribal_army_num < 4999 } }
					}
				}
				modifier = {
					factor = 0
					OR = {
						ROOT = { check_variable = { var = rival_country value = FROM.id  compare = equals } }
						FROM = { check_variable = { var = rival_country value = ROOT.id  compare = equals } }
					}
				}
			}
			hidden_effect = {
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = FROM
						value = -200
					}
				}
				FROM = {
					add_ai_strategy = {
						type = prepare_for_war
						id = ROOT
						value = -200
					}
				}
			}
			if = {
				limit = {
					OR = {
						has_dlc = "Together for Victory"
						has_dlc = "Waking the Tiger"
						has_dlc = "Death or Dishonor"
					}
				}
				hidden_effect = { ROOT = { store_current_ideologies = yes } }
				if = {
					limit = { 
						ROOT = { 
							OR = {
								has_idea = AF_T_nomadic_tribal_nation
								has_idea = AF_T_unorganized_tribal_nation
								has_idea = AF_T_unorganized_tribal_nation_2
								has_idea = AF_T_unorganized_tribal_nation_3
								has_idea = AF_T_unorganized_tribal_nation_4
							}
						}
					}
					FROM = {
						set_autonomy = {
							target = ROOT
							autonomy_state = autonomy_afr_empire_level_1
							freedom_level = 0.5
						}
					}
				}
				else_if = {
					limit = { 
						ROOT = { 
							OR = {
								has_idea = AF_T_unorganized_tribal_nation_5
								has_idea = AF_T_organized_tribal_nation
							}
						}
					}
					FROM = {
						set_autonomy = {
							target = ROOT
							autonomy_state = autonomy_afr_empire_level_1
							freedom_level = 0.9
						}
					}
				}
				else_if = {
					limit = { ROOT = { has_idea = AF_T_organized_tribal_nation_2 } }
					FROM = {
						set_autonomy = {
							target = ROOT
							autonomy_state = autonomy_afr_empire_level_2
							freedom_level = 0.1
						}
					}
				}
				else = {
					FROM = {
						set_autonomy = {
							target = ROOT
							autonomy_state = autonomy_afr_empire_level_2
							freedom_level = 0.5
						}
					}
				}
				hidden_effect = { ROOT = { load_prevous_ideologies = yes } }
			}
			else = {
				hidden_effect = { ROOT = { store_current_ideologies = yes } }
				FROM = { puppet = ROOT }
				hidden_effect = { ROOT = { load_prevous_ideologies = yes } }
			}
			FROM = { country_event = { id = afr_inward_integration_tribe.3 } }
			if = {
				limit = { 
					FROM = { afr_is_tribal = yes } #OVERLORD
					ROOT = { afr_is_tribal = yes } #SUBJECT
					ROOT = { NOT = { has_variable = ROOT.afr_empire_subject_loyalty_var@FROM } } 
				}
				if = {
					limit = { 
						OR = {
							FROM = { any_owned_state = { is_core_of = ROOT } }
							ROOT = { check_variable = { rival_country = FROM.id } }
						}
					}
					ROOT = { 
						set_variable = { var = afr_empire_subject_overlord value = FROM.id }
						set_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM value = 2 }
						clamp_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM min = -1 max = 10 }
					}
				}
				else = {
					ROOT = { 
						set_variable = { var = afr_empire_subject_overlord value = FROM.id }
						set_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM value = 5 }
						clamp_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM min = -1 max = 10 }
					}
				}
			}
		}

		option = {
			name = afr_inward_integration_tribe.1.b
			ai_chance = {
				base = 90
				modifier = {
					add = -80
					AND = {
						ROOT = { has_army_size = { size < 5 } }
						ROOT = { check_variable = { Tribal_army_num < 4999 } }
					}
				}
			}
			custom_effect_tooltip = SKT_sunni_integration_tooltip
			FROM = { country_event = { id = afr_inward_integration_tribe.2 days = 3 } }
			
		}

	}

	country_event = {
		id = afr_inward_integration_tribe.2
		title = afr_inward_integration_tribe.2.t
		desc = afr_inward_integration_tribe.2.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_inward_integration_tribe.2.a
			ai_chance = { base = 90 }
			hidden_effect = { FROM = { country_event = { days = 42 id = afr_inward_integration_tribe.4 } } }
			hidden_effect = { FROM = { country_event = { days = 5 id = afr_integration_tribe_warning.1 } } }
			custom_effect_tooltip = afr_war_exhaustion_value_add_5
		}

		option = {
			name = afr_inward_integration_tribe.2.b
			ai_chance = { 
				base = 10 
				modifier = {
					factor = 0
					OR = {
						ROOT = { check_variable = { var = rival_country value = FROM.id  compare = equals } }
						FROM = { check_variable = { var = rival_country value = ROOT.id  compare = equals } }
					}
				}
			}
			hidden_effect = {
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = FROM
						value = -200
					}
					clr_country_flag = afr_inward_preparing_expansion_war_flag
				}
				FROM = {
					add_ai_strategy = {
						type = prepare_for_war
						id = ROOT
						value = -200
					}
				}
			}
		}

	}

	country_event = {
		id = afr_inward_integration_tribe.3
		title = afr_inward_integration_tribe.3.t
		desc = afr_inward_integration_tribe.3.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_inward_integration_tribe.3.a
			ai_chance = { factor = 100 }
			clr_country_flag = afr_inward_preparing_expansion_war_flag
		}

	}
	
	country_event = {
		id = afr_inward_integration_tribe.4
		hidden = yes
		is_triggered_only = yes

		immediate = {
			hidden_effect = { FROM = { country_event = { id = afr_inward_integration_tribe.5 } } }
		}

	}
	
	country_event = {
		id = afr_inward_integration_tribe.5
		title = afr_inward_integration_tribe.5.t
		desc = afr_inward_integration_tribe.5.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes
		
		trigger = { has_country_flag = afr_inward_preparing_expansion_war_flag }

		option = {
			name = afr_inward_integration_tribe.5.a
			ai_chance = { factor = 100 }
			FROM = { every_owned_state = { add_claim_by = ROOT } }
			ROOT = {
				declare_war_on = {
					target = FROM
					type = puppet_wargoal_focus
				}
				clr_country_flag = afr_inward_preparing_expansion_war_flag
			}
			custom_effect_tooltip = afr_war_exhaustion_value_add_5
			add_to_variable = {
				var = afr_war_exhaustion_value
				value = 5
			}
			hidden_effect = {
				set_variable = { ROOT.afr_regional_power_expansion_attacker@FROM = 1 }
				set_variable = { FROM.afr_regional_power_expansion_defender@ROOT = 1 }
			}
		}

	}

	country_event = {
		id = afr_inward_integration_kingdom.1
		title = afr_inward_integration_kingdom.1.t
		desc = afr_inward_integration_kingdom.1.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_inward_integration_kingdom.1.a
			ai_chance = {
				base = 10
				modifier = {
					add = 80
					AND = {
						ROOT = { has_army_size = { size < 5 } }
						ROOT = { check_variable = { Tribal_army_num < 4999 } }
					}
				}
				modifier = {
					factor = 0
					OR = {
						ROOT = { check_variable = { var = rival_country value = FROM.id  compare = equals } }
						FROM = { check_variable = { var = rival_country value = ROOT.id  compare = equals } }
					}
				}
			}
			hidden_effect = {
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = FROM
						value = -200
					}
				}
				FROM = {
					add_ai_strategy = {
						type = prepare_for_war
						id = ROOT
						value = -200
					}
				}
			}
			if = {
				limit = {
					OR = {
						has_dlc = "Together for Victory"
						has_dlc = "Waking the Tiger"
						has_dlc = "Death or Dishonor"
					}
				}
				hidden_effect = { ROOT = { store_current_ideologies = yes } }
				FROM = {
					set_autonomy = {
						target = ROOT
						autonomy_state = autonomy_afr_empire_level_3
						freedom_level = 0.80
					}
				}
				hidden_effect = { ROOT = { load_prevous_ideologies = yes } }
			}
			else = {
				hidden_effect = { ROOT = { store_current_ideologies = yes } }
				FROM = { puppet = ROOT }
				hidden_effect = { ROOT = { load_prevous_ideologies = yes } }
			}
			FROM = { country_event = { id = afr_inward_integration_kingdom.3 } }
			if = {
				limit = { 
					FROM = { afr_is_tribal = yes } #OVERLORD
					ROOT = { afr_is_tribal = yes } #SUBJECT
					ROOT = { NOT = { has_variable = ROOT.afr_empire_subject_loyalty_var@FROM } } 
				}
				if = {
					limit = { 
						OR = {
							FROM = { any_owned_state = { is_core_of = ROOT } }
							ROOT = { check_variable = { rival_country = FROM.id } }
						}
					}
					ROOT = { 
						set_variable = { var = afr_empire_subject_overlord value = FROM.id }
						set_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM value = 3 }
						clamp_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM min = -1 max = 10 }
					}
				}
				else = {
					ROOT = { 
						set_variable = { var = afr_empire_subject_overlord value = FROM.id }
						set_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM value = 6 }
						clamp_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM min = -1 max = 10 }
					}
				}
			}
		}

		option = {
			name = afr_inward_integration_kingdom.1.b
			ai_chance = {
				base = 90
				modifier = {
					add = -80
					AND = {
						ROOT = { has_army_size = { size < 5 } }
						ROOT = { check_variable = { Tribal_army_num < 4999 } }
					}
				}
			}
			custom_effect_tooltip = SKT_sunni_integration_tooltip
			FROM = { country_event = { id = afr_inward_integration_kingdom.2 days = 45 } }
		}

	}

	country_event = {
		id = afr_inward_integration_kingdom.2
		title = afr_inward_integration_kingdom.2.t
		desc = afr_inward_integration_kingdom.2.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_inward_integration_kingdom.2.a
			ai_chance = { base = 90 }
			FROM = { every_owned_state = { add_claim_by = ROOT } }
			ROOT = {
				declare_war_on = {
					target = FROM
					type = puppet_wargoal_focus
				}
				clr_country_flag = afr_inward_preparing_expansion_war_flag
			}
			custom_effect_tooltip = afr_war_exhaustion_value_add_5
			add_to_variable = {
				var = afr_war_exhaustion_value
				value = 5
			}
			hidden_effect = {
				set_variable = { ROOT.afr_regional_power_expansion_attacker@FROM = 1 }
				set_variable = { FROM.afr_regional_power_expansion_defender@ROOT = 1 }
			}
		}

		option = {
			name = afr_inward_integration_kingdom.2.b
			ai_chance = { 
				base = 10 
				modifier = {
					factor = 0
					OR = {
						ROOT = { check_variable = { var = rival_country value = FROM.id  compare = equals } }
						FROM = { check_variable = { var = rival_country value = ROOT.id  compare = equals } }
					}
				}
			}
			hidden_effect = {
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = FROM
						value = -200
					}
					clr_country_flag = afr_inward_preparing_expansion_war_flag
				}
				FROM = {
					add_ai_strategy = {
						type = prepare_for_war
						id = ROOT
						value = -200
					}
				}
			}
		}

	}

	country_event = {
		id = afr_inward_integration_kingdom.3
		title = afr_inward_integration_kingdom.3.t
		desc = afr_inward_integration_kingdom.3.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_inward_integration_kingdom.3.a
			ai_chance = { factor = 100 }
			clr_country_flag = afr_inward_preparing_expansion_war_flag
		}

	}
