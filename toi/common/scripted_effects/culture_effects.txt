#German culture set up  
german_culture_setup = {
    set_variable = { global.austro_bavarian = 1 }
	set_variable = { global.westphalian = 2 } 
	set_variable = { global.lower_saxon = 3 } #Actually Pomeranian  
	set_variable = { global.saxon = 4 }
	set_variable = { global.swabian = 5 }
	set_variable = { global.alsatian = 6 }
	set_variable = { global.rhenish = 7 }
	set_variable = { global.luxembourgish = 8 }
	set_variable = { global.silesian = 9 }
	set_variable = { global.alemmanic = 10 }
	set_variable = { global.transylvania_saxon = 11 }
	set_variable = { global.volga_german = 12 }
	set_variable = { global.branderburg-prussian = 13 }
	set_variable = { global.baltic_german = 14 }
	set_variable = { global.bukovina_german = 15 }
	
	add_to_array = { global.german_array = global.austro_bavarian }
	add_to_array = { global.german_array = global.westphalian }
	add_to_array = { global.german_array = global.lower_saxon }
	add_to_array = { global.german_array = global.saxon }
	add_to_array = { global.german_array = global.swabian }
	add_to_array = { global.german_array = global.alsatian }
	add_to_array = { global.german_array = global.rhenish }
	add_to_array = { global.german_array = global.luxembourgish }
	add_to_array = { global.german_array = global.silesian }
	add_to_array = { global.german_array = global.alemmanic }
	add_to_array = { global.german_array = global.transylvania_saxon }
	add_to_array = { global.german_array = global.volga_german }		
	add_to_array = { global.german_array = global.branderburg-prussian }
	add_to_array = { global.german_array = global.baltic_german }
	add_to_array = { global.german_array = global.bukovina_german }		
}

#British culture set up  
british_culture_setup = {
    set_variable = { global.english = 16 }
	set_variable = { global.lowland_scots = 17 }
	set_variable = { global.ulster_scots = 18 }
	
	add_to_array = { global.britannic_array = global.english }
	add_to_array = { global.britannic_array = global.lowland_scots }
	add_to_array = { global.britannic_array = global.ulster_scots }	
}

#Dutch culture set up  
dutch_culture_setup = {
    set_variable = { global.dutch = 19 }
	set_variable = { global.flemish = 20 }
	set_variable = { global.frisian = 21 }
	set_variable = { global.afrikaans = 22 }
	
	add_to_array = { global.dutch_array = global.dutch }
	add_to_array = { global.dutch_array = global.flemish }
	add_to_array = { global.dutch_array = global.frisian }	
	add_to_array = { global.dutch_array = global.afrikaans }
}

#Scandinavian culture set up  
scandinavian_culture_setup = {
    set_variable = { global.finnish = 23 }
	set_variable = { global.karelian = 24 }
	set_variable = { global.estonian = 25 }
	set_variable = { global.swedish = 26 }
	set_variable = { global.scanian = 27 }
	set_variable = { global.sami = 28 }
    set_variable = { global.danish = 29 }
	set_variable = { global.icelandic = 30 }
	set_variable = { global.norwegian = 31 }
	
	add_to_array = { global.finnish_array = global.finnish }
	add_to_array = { global.finnish_array = global.karelian }
	add_to_array = { global.estonian_array = global.estonian }	
	add_to_array = { global.swedish_array = global.swedish }
	add_to_array = { global.swedish_array = global.scanian }
	add_to_array = { global.sami_array = global.sami }
	add_to_array = { global.danish_array = global.danish }
	add_to_array = { global.norwegian_array = global.icelandic }
	add_to_array = { global.norwegian_array = global.norwegian }	
}

#French culture set up  
french_culture_setup = {
    set_variable = { global.french = 32 }
	set_variable = { global.occitan = 33 }
	set_variable = { global.picard = 34 }
	set_variable = { global.walloon = 35 }
    set_variable = { global.arpitan = 36 }
	
	add_to_array = { global.french_array = global.french }
	add_to_array = { global.french_array = global.occitan }
	add_to_array = { global.french_array = global.picard }	
	add_to_array = { global.french_array = global.walloon }
	add_to_array = { global.french_array = global.arpitan }
}

#Italian culture set up  
italian_culture_setup = {
    set_variable = { global.tuscan = 37 }
	set_variable = { global.lombard = 38 }
	set_variable = { global.venetian = 39 }
	set_variable = { global.napolitean = 40 }
    set_variable = { global.sicilian = 41 }
    set_variable = { global.piedmontese = 42 }
	set_variable = { global.central_italian = 43 }
	set_variable = { global.dalmatian = 44 }
	set_variable = { global.sardinian = 45 }
	set_variable = { global.corsican = 46 }
	
	add_to_array = { global.italian_array = global.tuscan }
	add_to_array = { global.italian_array = global.lombard }
	add_to_array = { global.italian_array = global.venetian }	
	add_to_array = { global.italian_array = global.napolitean }
	add_to_array = { global.italian_array = global.sicilian }
	add_to_array = { global.italian_array = global.piedmontese }
	add_to_array = { global.italian_array = global.central_italian }
	add_to_array = { global.italian_array = global.dalmatian }	
	add_to_array = { global.italian_array = global.sardinian }
	add_to_array = { global.italian_array = global.corsican }
}

#Iberian cultures set up  
iberian_culture_setup = {
    set_variable = { global.castillian = 47 }
	set_variable = { global.catalonian = 48 }
	set_variable = { global.aragonese = 49 }
	set_variable = { global.andalusian = 50 }
    set_variable = { global.basque = 51 }
    set_variable = { global.galician = 52 }
	set_variable = { global.portuguese = 53 }
	set_variable = { global.romansh = 54 }
	
	add_to_array = { global.spanish_array = global.castillian }
	add_to_array = { global.spanish_array = global.catalonian }
	add_to_array = { global.spanish_array = global.aragonese }	
	add_to_array = { global.spanish_array = global.andalusian }
	add_to_array = { global.spanish_array = global.basque }
	add_to_array = { global.portuguese_array = global.galician }
	add_to_array = { global.portuguese_array = global.portuguese }
	
	add_to_array = { global.ladin_array = global.romansh }
}

#Greek culture set up  
greek_culture_setup = {
    set_variable = { global.greek = 55 }
	set_variable = { global.pontic = 56 }
	set_variable = { global.cypriot_greek = 57 }
	set_variable = { global.cappadocian_greek = 58 }
    set_variable = { global.pomak = 59 }
    set_variable = { global.arvanite = 60 }
	#set_variable = { global.vlach_greek = 61 } ID 61 moved to romanian_culture
	
	add_to_array = { global.greek_array = global.greek }
	add_to_array = { global.greek_array = global.pontic }
	add_to_array = { global.greek_array = global.cypriot_greek }	
	add_to_array = { global.greek_array = global.cappadocian_greek }
	add_to_array = { global.greek_array = global.pomak }
	add_to_array = { global.greek_array = global.arvanite }
	#add_to_array = { global.greek_array = global.vlach_greek } # moved to Romanian cult
}

#Albanian culture set up  
albanian_culture_setup = {
    set_variable = { global.albanian = 62 }
	set_variable = { global.kosovar = 63 }
	set_variable = { global.cham = 64 }	
	set_variable = { global.arbereshe = 65 }
	
	add_to_array = { global.albanian_array = global.albanian }
	add_to_array = { global.albanian_array = global.kosovar }
	add_to_array = { global.albanian_array = global.cham }	
	add_to_array = { global.albanian_array = global.arbereshe }
}

#Serbian culture set up
serbian_culture_setup = {
	set_variable = { global.serbian = 66 }
	set_variable = { global.bosnian_serbian = 67 }
	set_variable = { global.montenegrin = 68 }
	
	add_to_array = { global.serbian_array = global.serbian }
	add_to_array = { global.serbian_array = global.bosnian_serbian }
	add_to_array = { global.serbian_array = global.montenegrin }
}

#Bulgarian culture set up
bulgarian_culture_setup = {
	set_variable = { global.bulgarian = 69 }
	set_variable = { global.slav_macedonian = 70 }
	set_variable = { global.torlaks = 71 }
	
	add_to_array = { global.bulgarian_array = global.bulgarian }
	add_to_array = { global.bulgarian_array = global.slav_macedonian }
	add_to_array = { global.bulgarian_array = global.torlaks }
}

#Croatian culture set up
croat_culture_setup = {
	set_variable = { global.croat = 72 }
	set_variable = { global.bosnian_croat = 73 }
	
	add_to_array = { global.croat_array = global.croat }
	add_to_array = { global.croat_array = global.bosnian_croat } 
}

#Slovenian culture set up
slovene_culture_setup = { 
	set_variable = { global.slovenian = 74 }
	set_variable = { global.carinthian_slovene = 75 }
	set_variable = { global.bosniak = 76 }
	
	add_to_array = { global.slovene_array = global.slovenian }
	add_to_array = { global.slovene_array = global.carinthian_slovene }
	add_to_array = { global.bosniak_array = global.bosniak }
}

#Czecho-slovak culture set up
czechoslovak_culture_setup = {
	set_variable = { global.bohemian = 77 }
	set_variable = { global.moravian = 78 }
	set_variable = { global.slovak = 79 }
	
	add_to_array = { global.czechoslovak_array = global.bohemian }
	add_to_array = { global.czechoslovak_array = global.moravian } 
	add_to_array = { global.czechoslovak_array = global.slovak }

}

#Lechitic culture set up
lechitic_culture_setup = {
	set_variable = { global.polish = 80 }
	set_variable = { global.mazovian = 81 }
	set_variable = { global.silesian_polish = 82 }
	set_variable = { global.galician_polish = 83 }
	set_variable = { global.kashubian = 84 }
	set_variable = { global.sorbian = 85 }
	
	add_to_array = { global.lechitic_array = global.polish }
	add_to_array = { global.lechitic_array = global.mazovian }
	add_to_array = { global.lechitic_array = global.silesian_polish }
	add_to_array = { global.lechitic_array = global.galician_polish }
	add_to_array = { global.lechitic_array = global.kashubian }
	add_to_array = { global.lechitic_array = global.sorbian }
	
}

#Hungarian culture set up
hungarian_culture_setup = {
	set_variable = { global.magyar = 86 }
	set_variable = { global.szekelys = 87 }
	
	add_to_array = { global.hungarian_array = global.magyar }
	add_to_array = { global.hungarian_array = global.szekelys }
}

#Russian culture set up
russian_culture_setup = {
	set_variable = { global.byelorussian = 88 }
	set_variable = { global.velikorossy = 89 }
	set_variable = { global.malorossy = 90 }
	
	add_to_array = { global.russian_array = global.byelorussian }
	add_to_array = { global.russian_array = global.velikorossy }
	add_to_array = { global.russian_array = global.malorossy }
}

#Ukrainian culture set up
ukrainian_culture_setup = { 
	set_variable = { global.ukrainian = 91 }
	set_variable = { global.rusyn = 92 }
	
	add_to_array = { global.ukrainian_array = global.ukrainian }
	add_to_array = { global.ukrainian_array = global.rusyn }

}

#Gaelic culture set up
gaelic_culture_setup = {
	set_variable = { global.irish = 93 }
	set_variable = { global.highland_scots = 94 }
	
	add_to_array = { global.gaelic_array = global.irish }
	add_to_array = { global.gaelic_array = global.highland_scots }

}


#britannic culture set up  
insular_britannic_culture_setup = {
    set_variable = { global.manx = 95 }
	set_variable = { global.welsh = 96 }
	set_variable = { global.cornish = 97 }
	set_variable = { global.breton = 98 }
	
	add_to_array = { global.insular_celtic_array = global.manx }
	add_to_array = { global.insular_celtic_array = global.welsh }
	add_to_array = { global.insular_celtic_array = global.cornish }
	add_to_array = { global.breton_array = global.breton }
}

#romanian culture set up
romanian_culture_setup = {
	set_variable = { global.aromanian = 61 } #ID 61 moved to romanian_culture
	set_variable = { global.wallachian = 99 }
	set_variable = { global.moldovan = 100 }
	set_variable = { global.transylvania_romanian = 101 } # Moldovan duplicate, changed to trans Romanian
	# Black Vlachs TBD
	# Istro Romanians (could be merged with black vlachs) TBD
	# Maybe seprate Transylvanian Romanians and add Maramorosans/Bucovinean Romanians too ?
	
	add_to_array = { global.romanian_array = global.wallachian }
	add_to_array = { global.romanian_array = global.moldovan }
	add_to_array = { global.romanian_array = global.transylvania_romanian }
	add_to_array = { global.romanian_array = global.aromanian }
}

#baltic culture set up
baltic_culture_setup = {
	set_variable = { global.lithuanian = 102 }
	set_variable = { global.latvian = 103 }
	
	add_to_array = { global.baltic_array = global.lithuanian }
	add_to_array = { global.baltic_array = global.latvian }

}

turkish_culture_setup = {
	set_variable = { global.anatolian_turkish = 104 }
	set_variable = { global.cypriot_turkish = 105 }
	set_variable = { global.thracian_turkish = 106 }
	set_variable = { global.iraqi_turkmen = 107 }
	set_variable = { global.syrian_turkmen = 108 }
	
	add_to_array = { global.turkish_array = global.anatolian_turkish }
	add_to_array = { global.turkish_array = global.cypriot_turkish }
	add_to_array = { global.turkish_array = global.thracian_turkish }
	add_to_array = { global.turkish_array = global.iraqi_turkmen }
	add_to_array = { global.turkish_array = global.syrian_turkmen }	
}

azeri_culture_setup = {
	set_variable = { global.azerbaijani = 109 }
	set_variable = { global.iranian_azerbaijani = 110 }
	set_variable = { global.qarapapaqs = 111 }
	
	add_to_array = { global.azeri_array = global.azerbaijani }
	add_to_array = { global.azeri_array = global.iranian_azerbaijani }
	add_to_array = { global.azeri_array = global.qarapapaqs }
}

tatar_culture_setup = {
	set_variable = { global.kumyk = 112 }
	set_variable = { global.siberian_turkic = 113 }
	set_variable = { global.crimea_tatar = 114 }
	set_variable = { global.volga_tatar = 115 }
	# Gagauz
	
	add_to_array = { global.kumyk_array = global.kumyk }
	add_to_array = { global.siberian_turkic = global.siberian_turkic }
	add_to_array = { global.tatar_array = global.crimea_tatar }
	add_to_array = { global.tatar_array = global.volga_tatar }
}

central_asian_culture_setup = {
	set_variable = { global.kazakh = 116 }
	set_variable = { global.kyrgyz = 117 }
	set_variable = { global.turkmen = 118 }
	set_variable = { global.uzbek = 119 }
	set_variable = { global.karakalpak = 120 }
	set_variable = { global.uyghur = 139 }
	
	add_to_array = { global.central_asian_array = global.kazakh }
	add_to_array = { global.central_asian_array = global.kyrgyz }
	add_to_array = { global.central_asian_array = global.turkmen }
	add_to_array = { global.central_asian_array = global.uzbek }
	add_to_array = { global.central_asian_array = global.karakalpak }
	add_to_array = { global.central_asian_array = global.uyghur }
}

jewish_culture_setup = {
	set_variable = { global.ashnekazi = 121 }
	set_variable = { global.sephardic = 122 }
	set_variable = { global.mizrahi = 123 }
	set_variable = { global.beta_israel = 124 }
	set_variable = { global.mountain_jews = 125 }
	set_variable = { global.bukharan_jews = 126 }
	
	add_to_array = { global.jewish_array = global.ashnekazi }
	add_to_array = { global.jewish_array = global.sephardic }
	add_to_array = { global.jewish_array = global.mizrahi }
	add_to_array = { global.jewish_array = global.beta_israel }
	add_to_array = { global.jewish_array = global.mountain_jews }
	add_to_array = { global.jewish_array = global.bukharan_jews }
}

caucasus_culture_setup = {
	set_variable = { global.circassian = 127 }
	set_variable = { global.abkhazi = 128 }
	set_variable = { global.chechen = 129 }
	set_variable = { global.avar = 130 }
	set_variable = { global.lezgin = 131 }
	set_variable = { global.lak = 132 }
	set_variable = { global.georgian = 133 }
	set_variable = { global.lazi = 134 }
	set_variable = { global.mingrelian = 135 }
	set_variable = { global.armenian = 136 }
	set_variable = { global.hemshin = 137 }
	set_variable = { global.ossetian = 138 }
	
	add_to_array = { global.northwest_caucasus_array = global.circassian }
	add_to_array = { global.northwest_caucasus_array = global.abkhazi }
	
	add_to_array = { global.northeast_caucasus_array = global.chechen }
	add_to_array = { global.northeast_caucasus_array = global.avar }
	add_to_array = { global.northeast_caucasus_array = global.lezgin }
	add_to_array = { global.northeast_caucasus_array = global.lak }
	
	add_to_array = { global.georgian_array = global.georgian }
	add_to_array = { global.georgian_array = global.lazi }
	add_to_array = { global.georgian_array = global.mingrelian }
	
	add_to_array = { global.armenian_array = global.armenian }
	add_to_array = { global.armenian_array = global.hemshin }
	
	add_to_array = { global.ossetian_array = global.ossetian }
}

iranian_culture_setup = {
	set_variable = { global.kurmanji = 140 }
	set_variable = { global.sorani = 141 }
	set_variable = { global.southern_kurdish = 142 }
	set_variable = { global.persian = 143 }
	set_variable = { global.tahik = 144 }
	set_variable = { global.afghan_persian = 145 }
	set_variable = { global.talysh = 146 }
	set_variable = { global.mazanderani = 147 }
	set_variable = { global.lurs = 459 }
	set_variable = { global.pashtun = 148 }
	set_variable = { global.baloch = 149 }
	
	add_to_array = { global.kurdish_array = global.kurmanji }
	add_to_array = { global.kurdish_array = global.sorani }
	add_to_array = { global.kurdish_array = global.southern_kurdish }
	
	add_to_array = { global.persian_array = global.persian }
	add_to_array = { global.persian_array = global.tahik }
	add_to_array = { global.persian_array = global.afghan_persian }
	add_to_array = { global.persian_array = global.talysh }
	add_to_array = { global.persian_array = global.mazanderani }
	add_to_array = { global.persian_array = global.lurs }
	
	add_to_array = { global.pashtun_array = global.pashtun }
	
	add_to_array = { global.baloch_array = global.baloch }
}

arab_culture_setup = {
	set_variable = { global.najdi = 150 }
	set_variable = { global.hejazi = 151 }
	set_variable = { global.bahrani = 152 }
	set_variable = { global.gulf = 153 }
	set_variable = { global.omani = 154 }
	set_variable = { global.yemeni = 155 }
	set_variable = { global.hadhrami = 156 }
	set_variable = { global.iraqi = 157 }
	set_variable = { global.khuzestani = 158 }
	set_variable = { global.syrian = 159 }
	set_variable = { global.lebanese = 160 }
	set_variable = { global.jordanian = 161 }
	set_variable = { global.palestinian = 162 }
	set_variable = { global.bedouin = 163 }
	set_variable = { global.egyptian = 164 }
	set_variable = { global.saidi = 165 }
	set_variable = { global.algerian = 166 }
	set_variable = { global.tunisian = 167 }
	set_variable = { global.moroccan = 168 }
	set_variable = { global.libyan = 169 }
	set_variable = { global.hassaniya = 170 }
	set_variable = { global.sudanese = 171 }
	
	set_variable = { global.assyrian = 172 }
	
	set_variable = { global.tuareg = 352 }
	set_variable = { global.haratines = 380 }
	
	add_to_array = { global.peninsular_array = global.najdi }
	add_to_array = { global.peninsular_array = global.hejazi }
	add_to_array = { global.peninsular_array = global.bahrani }
	add_to_array = { global.peninsular_array = global.gulf }
	add_to_array = { global.peninsular_array = global.omani }
	
	add_to_array = { global.yemeni_array = global.yemeni }
	add_to_array = { global.yemeni_array = global.hadhrami }
	
	add_to_array = { global.mesopotamia_array = global.iraqi }
	add_to_array = { global.mesopotamia_array = global.khuzestani }
	
	add_to_array = { global.levantine_array = global.syrian }
	add_to_array = { global.levantine_array = global.lebanese }
	add_to_array = { global.levantine_array = global.jordanian }
	add_to_array = { global.levantine_array = global.palestinian }
	
	add_to_array = { global.maghreb_array = global.algerian }
	add_to_array = { global.maghreb_array = global.tunisian }
	add_to_array = { global.maghreb_array = global.moroccan }
	add_to_array = { global.maghreb_array = global.libyan }
	add_to_array = { global.maghreb_array = global.hassaniya }
	add_to_array = { global.maghreb_array = global.tuareg }
	add_to_array = { global.maghreb_array = global.haratines }
	
	
	add_to_array = { global.egyptian_array = global.egyptian }
	add_to_array = { global.egyptian_array = global.saidi }
	
	add_to_array = { global.bedouin_array = global.bedouin }
	add_to_array = { global.sudanese_array = global.sudanese }
	
	
}
siberian_culture_setup = {
	set_variable = { global.komi = 173 }
	set_variable = { global.udmurt = 174 }
	set_variable = { global.mordvins = 175 }
	set_variable = { global.mari = 176 }
	set_variable = { global.yakut = 177 }
	set_variable = { global.tuvas = 178 }
	set_variable = { global.khakas = 179 }
	set_variable = { global.altay = 180 }
	set_variable = { global.buryat = 181 }
	set_variable = { global.evenk = 182 }
	set_variable = { global.ainu = 183 }
	set_variable = { global.chukotko-kamchatkan = 184 }
	set_variable = { global.nenets = 185 }
	
	add_to_array = { global.uralic_array = global.komi }
	add_to_array = { global.uralic_array = global.udmurt }
	add_to_array = { global.uralic_array = global.mordvins }
	add_to_array = { global.uralic_array = global.mari }
	
	add_to_array = { global.turkic_array = global.yakut }
	add_to_array = { global.turkic_array = global.tuvas }
	add_to_array = { global.turkic_array = global.khakas }
	add_to_array = { global.turkic_array = global.altay }
	
	add_to_array = { global.siberian_mongol_array = global.buryat }
	add_to_array = { global.evenk_array = global.evenk }
	add_to_array = { global.ainu_array = global.ainu }
	add_to_array = { global.chukotko-kamchatkan_array = global.chukotko-kamchatkan }
	add_to_array = { global.samoyed_array = global.nenets }
	
}

indian_culture_setup = {
	set_variable = { global.kashmiri = 186 }
	set_variable = { global.assamese = 187 }
	set_variable = { global.bengali = 188 }
	set_variable = { global.gujarati = 189 }
	set_variable = { global.punjabi = 190 }
	set_variable = { global.odia = 191 }
	set_variable = { global.hindi = 192 }
	set_variable = { global.sindhi = 193 }
	set_variable = { global.rajasthanis = 194 }
	set_variable = { global.bhojpuri = 195 }
	set_variable = { global.marathi = 196 }
	set_variable = { global.sinhalese = 197 }
	set_variable = { global.kannauji = 198 }
	set_variable = { global.doms = 199 }
	set_variable = { global.roma = 200 }
	set_variable = { global.telugu = 201 }
	set_variable = { global.tamil = 202 }
	set_variable = { global.kannadiga = 203 }
	set_variable = { global.malayali = 204 }
	set_variable = { global.nepali = 205 }
	set_variable = { global.sikkimese = 206 }
	
	
	add_to_array = { global.indo-aryan_array = global.kashmiri }
	add_to_array = { global.indo-aryan_array = global.assamese }
	add_to_array = { global.indo-aryan_array = global.bengali }
	add_to_array = { global.indo-aryan_array = global.gujarati }
	add_to_array = { global.indo-aryan_array = global.punjabi }
	add_to_array = { global.indo-aryan_array = global.odia }
	add_to_array = { global.indo-aryan_array = global.hindi }
	add_to_array = { global.indo-aryan_array = global.sindhi }
	add_to_array = { global.indo-aryan_array = global.rajasthanis }
	add_to_array = { global.indo-aryan_array = global.bhojpuri }
	add_to_array = { global.indo-aryan_array = global.marathi }
	add_to_array = { global.indo-aryan_array = global.sinhalese }
	add_to_array = { global.indo-aryan_array = global.kannauji }
	
	add_to_array = { global.travelling_indo-aryan_array = global.doms }
	add_to_array = { global.travelling_indo-aryan_array = global.roma }
	
	add_to_array = { global.dravidian_array = global.telugu }
	add_to_array = { global.dravidian_array = global.tamil }
	add_to_array = { global.dravidian_array = global.kannadiga }
	add_to_array = { global.dravidian_array = global.malayali }
	
	add_to_array = { global.himalayan_array = global.nepali }
	add_to_array = { global.himalayan_array = global.sikkimese }
	
}

southern_asian_culture_setup = {
	set_variable = { global.burmese = 207 }
	set_variable = { global.karen = 208 }
	set_variable = { global.chin = 209 }
	set_variable = { global.rakhine = 210 }
	set_variable = { global.shan = 211 }
	set_variable = { global.isan = 212 }
	set_variable = { global.lao = 213 }
	set_variable = { global.thai = 214 }
	set_variable = { global.tai-ahom = 215 }
	set_variable = { global.northern_thai = 216 }
	set_variable = { global.dai = 217 }
	set_variable = { global.bouyei = 218 }
	set_variable = { global.zhuang = 219 }
	set_variable = { global.wa = 220 }
	set_variable = { global.lahu = 221 }
	set_variable = { global.lisu = 222 }
	set_variable = { global.kachin = 223 }
	set_variable = { global.khmer = 224 }
	set_variable = { global.palaung = 225 }
	set_variable = { global.vietnamese = 226 }
	set_variable = { global.cham = 227 }
	set_variable = { global.gelao = 228 }
	
	
	add_to_array = { global.burmese_array = global.burmese }
	add_to_array = { global.burmese_array = global.karen }
	add_to_array = { global.burmese_array = global.chin }
	add_to_array = { global.burmese_array = global.rakhine }
	
	add_to_array = { global.thai_array = global.shan }
	add_to_array = { global.thai_array = global.isan }
	add_to_array = { global.thai_array = global.lao }
	add_to_array = { global.thai_array = global.thai }
	add_to_array = { global.thai_array = global.tai-ahom }
	add_to_array = { global.thai_array = global.northern_thai }
	add_to_array = { global.thai_array = global.dai }
	add_to_array = { global.thai_array = global.bouyei }
	add_to_array = { global.thai_array = global.zhuang }
	
	add_to_array = { global.southern_asian_array = global.wa }
	add_to_array = { global.southern_asian_array = global.lahu }
	add_to_array = { global.southern_asian_array = global.lisu }
	add_to_array = { global.southern_asian_array = global.kachin }
	add_to_array = { global.southern_asian_array = global.khmer }
	add_to_array = { global.southern_asian_array = global.palaung }
	add_to_array = { global.southern_asian_array = global.vietnamese }
	add_to_array = { global.southern_asian_array = global.cham }
	add_to_array = { global.southern_asian_array = global.gelao }
	
}
southeast_asian_culture_setup = {
	set_variable = { global.malay = 229 }
	set_variable = { global.kadazan-dusun = 230 }
	set_variable = { global.acehnese = 231 }
	set_variable = { global.banjarese = 232 }
	set_variable = { global.minangkabau = 233 }
	set_variable = { global.javanese = 234 }
	set_variable = { global.sundanese = 235 }
	set_variable = { global.batak = 236 }
	set_variable = { global.madurese = 237 }
	set_variable = { global.bantenese = 238 }
	set_variable = { global.balinese = 239 }
	set_variable = { global.sasak = 240 }
	set_variable = { global.dayak = 241 }
	set_variable = { global.makassar = 242 }
	set_variable = { global.moluccans = 243 }
	
	
	add_to_array = { global.malay_array = global.malay }
	add_to_array = { global.malay_array = global.kadazan-dusun }
	add_to_array = { global.malay_array = global.acehnese }
	add_to_array = { global.malay_array = global.banjarese }
	add_to_array = { global.malay_array = global.minangkabau }
	
	add_to_array = { global.indonesian_array = global.javanese }
	add_to_array = { global.indonesian_array = global.sundanese }
	add_to_array = { global.indonesian_array = global.batak }
	add_to_array = { global.indonesian_array = global.madurese }
	add_to_array = { global.indonesian_array = global.bantenese }
	add_to_array = { global.indonesian_array = global.balinese }
	add_to_array = { global.indonesian_array = global.sasak }
	add_to_array = { global.indonesian_array = global.dayak }
	add_to_array = { global.indonesian_array = global.makassar }
	add_to_array = { global.indonesian_array = global.moluccans }
	
}

eastasian_culture_setup = {
	set_variable = { global.jianghuai = 244 }
	set_variable = { global.sichuanese = 245 }
	set_variable = { global.wuyue = 246 }
	set_variable = { global.hunanese = 247 }
	set_variable = { global.jiangyou = 248 }
	set_variable = { global.hakka = 249 }
	set_variable = { global.min = 250 }
	set_variable = { global.cantonese = 251 }
	set_variable = { global.hui = 252 }
	set_variable = { global.miao = 253 }
	set_variable = { global.tujia = 254 }
	set_variable = { global.yao = 255 }
	set_variable = { global.bai = 256 }
	set_variable = { global.she = 257 }
	set_variable = { global.yi = 258 }
	set_variable = { global.hani = 259 }
	set_variable = { global.kam = 260 }
	set_variable = { global.sui = 261 }
	set_variable = { global.li = 262 }
	set_variable = { global.nashi = 263 }
	set_variable = { global.mulao = 264 }
	set_variable = { global.maonan = 265 }
	set_variable = { global.blang = 266 }
	set_variable = { global.tibetan = 267 }
	set_variable = { global.qiang = 268 }
	set_variable = { global.monpa = 269 }
	set_variable = { global.khalkha = 270 }
	set_variable = { global.barga = 271 }
	set_variable = { global.kharchin = 272 }
	set_variable = { global.chahar = 273 }
	set_variable = { global.ordo = 274 }
	set_variable = { global.dorbet = 275 }
	set_variable = { global.bayad = 276 }
	set_variable = { global.torghut = 277 }
	set_variable = { global.kalmyk = 278 }
	set_variable = { global.dongxiang = 279 }
	set_variable = { global.monguor = 280 }
	set_variable = { global.daur = 281 }
	set_variable = { global.manchu = 282 }
	set_variable = { global.sibe = 283 }
	set_variable = { global.korean = 284 }
	set_variable = { global.yamato = 285 }
	set_variable = { global.ryukyuan = 286 }
	set_variable = { global.bicolano = 287 }
	set_variable = { global.ibanag = 288 }
	set_variable = { global.ilocano = 289 }
	set_variable = { global.kapampangan = 290 }
	set_variable = { global.pangasinan = 291 }
	set_variable = { global.sambal = 292 }
	set_variable = { global.subanon = 293 }
	set_variable = { global.tagalog = 294 }
	set_variable = { global.visayan = 295 }
	set_variable = { global.zamboangueno = 296 }
	set_variable = { global.igorot = 297 }
	set_variable = { global.ilongot = 298 }
	set_variable = { global.lumad = 299 }
	set_variable = { global.mangyan = 300 }
	set_variable = { global.moro = 301 }
	set_variable = { global.gaoshan = 302 }
	
	
	
	add_to_array = { global.chinese_array = global.jianghuai }
	add_to_array = { global.chinese_array = global.sichuanese }
	add_to_array = { global.chinese_array = global.wuyue }
	add_to_array = { global.chinese_array = global.hunanese }
	add_to_array = { global.chinese_array = global.jiangyou }
	add_to_array = { global.chinese_array = global.hakka }
	add_to_array = { global.chinese_array = global.min }
	add_to_array = { global.chinese_array = global.cantonese }
	add_to_array = { global.chinese_array = global.hui }
	
	add_to_array = { global.sub_chinese_array = global.miao }
	add_to_array = { global.sub_chinese_array = global.tujia }
	add_to_array = { global.sub_chinese_array = global.yao }
	add_to_array = { global.sub_chinese_array = global.bai }
	add_to_array = { global.sub_chinese_array = global.she }
	add_to_array = { global.sub_chinese_array = global.yi }
	add_to_array = { global.sub_chinese_array = global.hani }
	add_to_array = { global.sub_chinese_array = global.kam }
	add_to_array = { global.sub_chinese_array = global.sui }
	add_to_array = { global.sub_chinese_array = global.li }
	add_to_array = { global.sub_chinese_array = global.nashi }
	add_to_array = { global.sub_chinese_array = global.mulao }
	add_to_array = { global.sub_chinese_array = global.maonan }
	add_to_array = { global.sub_chinese_array = global.blang }
	add_to_array = { global.sub_chinese_array = global.dongxiang }
	add_to_array = { global.sub_chinese_array = global.monguor }
	add_to_array = { global.sub_chinese_array = global.daur }
	add_to_array = { global.sub_chinese_array = global.gaoshan }
	
	add_to_array = { global.tibetan_array = global.tibetan }
	add_to_array = { global.tibetan_array = global.qiang }
	add_to_array = { global.tibetan_array = global.monpa }
	
	add_to_array = { global.mongolian_array = global.khalkha }
	add_to_array = { global.mongolian_array = global.barga }
	add_to_array = { global.mongolian_array = global.kharchin }
	add_to_array = { global.mongolian_array = global.chahar }
	add_to_array = { global.mongolian_array = global.ordo }
	add_to_array = { global.mongolian_array = global.dorbet }
	add_to_array = { global.mongolian_array = global.bayad }
	add_to_array = { global.mongolian_array = global.torghut }
	add_to_array = { global.mongolian_array = global.kalmyk }
	
	add_to_array = { global.manchu_array = global.manchu }
	add_to_array = { global.manchu_array = global.sibe }
	
	add_to_array = { global.korean_array = global.korean }
	
	add_to_array = { global.japanese_array = global.yamato }
	add_to_array = { global.japanese_array = global.ryukyuan }
	
	add_to_array = { global.filipino_array = global.bicolano }
	add_to_array = { global.filipino_array = global.ibanag }
	add_to_array = { global.filipino_array = global.ilocano }
	add_to_array = { global.filipino_array = global.kapampangan }
	add_to_array = { global.filipino_array = global.pangasinan }
	add_to_array = { global.filipino_array = global.sambal }
	add_to_array = { global.filipino_array = global.subanon }
	add_to_array = { global.filipino_array = global.tagalog }
	add_to_array = { global.filipino_array = global.visayan }
	add_to_array = { global.filipino_array = global.zamboangueno }
	add_to_array = { global.filipino_array = global.igorot }
	add_to_array = { global.filipino_array = global.ilongot }
	add_to_array = { global.filipino_array = global.lumad }
	add_to_array = { global.filipino_array = global.mangyan }
	add_to_array = { global.filipino_array = global.moro }
	
}

niger_congo_culture_setup = {
	set_variable = { global.xhosa = 303 }
	set_variable = { global.zulu = 304 }
	set_variable = { global.sotho = 305 }
	set_variable = { global.swazi = 306 }
	set_variable = { global.tswana = 307 }
	set_variable = { global.herero = 308 }
	set_variable = { global.mbundu = 309 }
	set_variable = { global.chokwe = 310 }
	set_variable = { global.ovambo = 311 }
	set_variable = { global.kongo = 312 }
	set_variable = { global.teke = 313 }
	set_variable = { global.luba-kasai = 314 }
	set_variable = { global.mongo = 315 }
	set_variable = { global.lingala = 316 }
	set_variable = { global.tsonga = 317 }
	set_variable = { global.shona = 318 }
	set_variable = { global.kikuyu = 319 }
	set_variable = { global.fang = 320 }
	set_variable = { global.bamileke = 321 }
	set_variable = { global.chewa = 322 }
	set_variable = { global.hutu = 323 }
	set_variable = { global.ganda = 324 }
	set_variable = { global.musoga = 325 }
	set_variable = { global.ankole = 326 }
	set_variable = { global.kamba = 327 }
	set_variable = { global.sukuma = 328 }
	set_variable = { global.somalian_bantu = 329 }
	set_variable = { global.comorian = 330 }
	set_variable = { global.swahili = 331 }
	set_variable = { global.tutsi = 332 }
	set_variable = { global.jukun = 460 }
	
	set_variable = { global.banda = 333 }
	set_variable = { global.zande = 334 }
	set_variable = { global.kirdi = 335 }
	set_variable = { global.west_adamawa = 336 }
	set_variable = { global.ijaw = 337 }
	set_variable = { global.gbaya = 338 }
	set_variable = { global.edo = 456 }
	
	set_variable = { global.kuwaa = 339 }
	set_variable = { global.western_kru = 340 }
	set_variable = { global.eastern_kru = 341 }
	
	
	add_to_array = { global.bantu_array = global.xhosa }
	add_to_array = { global.bantu_array = global.zulu }
	add_to_array = { global.bantu_array = global.sotho }
	add_to_array = { global.bantu_array = global.swazi }
	add_to_array = { global.bantu_array = global.tswana }
	add_to_array = { global.bantu_array = global.herero }
	add_to_array = { global.bantu_array = global.mbundu }
	add_to_array = { global.bantu_array = global.chokwe }
	add_to_array = { global.bantu_array = global.ovambo }
	add_to_array = { global.bantu_array = global.kongo }
	add_to_array = { global.bantu_array = global.teke }
	add_to_array = { global.bantu_array = global.luba-kasai }
	add_to_array = { global.bantu_array = global.mongo }
	add_to_array = { global.bantu_array = global.lingala }
	add_to_array = { global.bantu_array = global.tsonga }
	add_to_array = { global.bantu_array = global.shona }
	add_to_array = { global.bantu_array = global.kikuyu }
	add_to_array = { global.bantu_array = global.fang }
	add_to_array = { global.bantu_array = global.bamileke }
	add_to_array = { global.bantu_array = global.chewa }
	add_to_array = { global.bantu_array = global.hutu }
	add_to_array = { global.bantu_array = global.ganda }
	add_to_array = { global.bantu_array = global.musoga }
	add_to_array = { global.bantu_array = global.ankole }
	add_to_array = { global.bantu_array = global.kamba }
	add_to_array = { global.bantu_array = global.sukuma }
	add_to_array = { global.bantu_array = global.somalian_bantu }
	add_to_array = { global.bantu_array = global.comorian }
	add_to_array = { global.bantu_array = global.swahili }
	add_to_array = { global.bantu_array = global.tutsi }
	add_to_array = { global.bantu_array = global.jukun }
	
	add_to_array = { global.adamawa-ubangian_array = global.banda }
	add_to_array = { global.adamawa-ubangian_array = global.zande }
	add_to_array = { global.adamawa-ubangian_array = global.kirdi }
	add_to_array = { global.adamawa-ubangian_array = global.west_adamawa }
	add_to_array = { global.adamawa-ubangian_array = global.ijaw }
	add_to_array = { global.adamawa-ubangian_array = global.banda }
	add_to_array = { global.adamawa-ubangian_array = global.gbaya }
	add_to_array = { global.adamawa-ubangian_array = global.edo }
	
	add_to_array = { global.kru_array = global.kuwaa }
	add_to_array = { global.kru_array = global.western_kru }
	add_to_array = { global.kru_array = global.eastern_kru }
	
}

southafrica_culture_setup = {
	set_variable = { global.griqua = 342 }
	set_variable = { global.nama = 343 }
	set_variable = { global.khoikhoi = 344 }
	set_variable = { global.san = 345 }
	
	
	add_to_array = { global.khoisan_array = global.griqua }
	add_to_array = { global.khoisan_array = global.nama }
	add_to_array = { global.khoisan_array = global.khoikhoi }
	add_to_array = { global.khoisan_array = global.san }
	
}

saharan_africa_culture_setup = {
	set_variable = { global.igbo = 346 }
	set_variable = { global.yoruban = 347 }
	set_variable = { global.nupe = 348 }
	set_variable = { global.mole-dagbon = 349 }
	set_variable = { global.ewe = 350 }
	set_variable = { global.akan = 351 }
	set_variable = { global.fon = 457 }
	#tuareg has been moved
	set_variable = { global.northern_berber = 353 }
	set_variable = { global.cameroon_highlander = 354 }
	set_variable = { global.duala = 355 }
	set_variable = { global.kanuri = 356 }
	set_variable = { global.kanembu = 357 }
	set_variable = { global.baggara = 358 }
	set_variable = { global.toubou = 359 }
	set_variable = { global.zaghawa = 360 }
	set_variable = { global.songhai = 361 }
	set_variable = { global.zarma = 362 }
	set_variable = { global.kel_ayr = 363 }
	set_variable = { global.kel_ahaggar = 364 }
	set_variable = { global.hausa = 365 }
	set_variable = { global.chadic = 366 }
	set_variable = { global.bargu = 367 }
	set_variable = { global.voltaic = 368 }
	set_variable = { global.mossi = 369 }
	
	
	add_to_array = { global.volta-niger_array = global.igbo }
	add_to_array = { global.volta-niger_array = global.yoruban }
	add_to_array = { global.volta-niger_array = global.nupe }
	add_to_array = { global.volta-niger_array = global.mole-dagbon }
	add_to_array = { global.volta-niger_array = global.ewe }
	add_to_array = { global.volta-niger_array = global.akan }
	add_to_array = { global.volta-niger_array = global.fon }
	
	add_to_array = { global.berber_array = global.northern_berber }
	
	add_to_array = { global.nilo-saharan_array = global.cameroon_highlander }
	add_to_array = { global.nilo-saharan_array = global.duala }
	add_to_array = { global.nilo-saharan_array = global.kanuri }
	add_to_array = { global.nilo-saharan_array = global.kanembu }
	add_to_array = { global.nilo-saharan_array = global.baggara }
	add_to_array = { global.nilo-saharan_array = global.toubou }
	add_to_array = { global.nilo-saharan_array = global.zaghawa }
	
	add_to_array = { global.songhai_array = global.songhai }
	add_to_array = { global.songhai_array = global.zarma }
	
	add_to_array = { global.chadic_array = global.kel_ayr }
	add_to_array = { global.chadic_array = global.kel_ahaggar }
	add_to_array = { global.chadic_array = global.hausa }
	add_to_array = { global.chadic_array = global.chadic }
	
	add_to_array = { global.voltaic_array = global.bargu }
	add_to_array = { global.voltaic_array = global.voltaic }
	add_to_array = { global.voltaic_array = global.mossi }
	
}

westafrica_culture_setup = {
	set_variable = { global.dyula = 370 }
	set_variable = { global.susu = 371 }
	set_variable = { global.malinke = 372 }
	set_variable = { global.bambara = 373 }
	set_variable = { global.soninke = 374 }
	set_variable = { global.mandinka = 375 }
	set_variable = { global.wolof = 376 }
	set_variable = { global.ngambai = 377 }
	set_variable = { global.fulani = 378 }
	set_variable = { global.serer = 379 }
	
	
	add_to_array = { global.mande_array = global.dyula }
	add_to_array = { global.mande_array = global.susu }
	add_to_array = { global.mande_array = global.malinke }
	add_to_array = { global.mande_array = global.bambara }
	add_to_array = { global.mande_array = global.soninke }
	add_to_array = { global.mande_array = global.mandinka }
	
	add_to_array = { global.senegamdian_array = global.wolof }
	add_to_array = { global.senegamdian_array = global.ngambai }
	add_to_array = { global.senegamdian_array = global.fulani }
	add_to_array = { global.senegamdian_array = global.serer }
	
}

horn_of_africa_culture_setup = {
	set_variable = { global.masai = 381 }
	set_variable = { global.nilotic = 382 }
	set_variable = { global.north_cushitic = 383 }
	set_variable = { global.oromo = 384 }
	set_variable = { global.beja = 385 }
	set_variable = { global.sidama = 386 }
	set_variable = { global.somali = 387 }
	set_variable = { global.amharic = 388 }
	set_variable = { global.tigrinyan = 389 }
	set_variable = { global.tigre = 390 }
	
	set_variable = { global.afar = 458 }
	
	
	add_to_array = { global.nilotic_array = global.masai }
	add_to_array = { global.nilotic_array = global.nilotic }
	
	add_to_array = { global.cushitic_array = global.north_cushitic }
	add_to_array = { global.cushitic_array = global.oromo }
	add_to_array = { global.cushitic_array = global.beja }
	add_to_array = { global.cushitic_array = global.sidama }
	add_to_array = { global.cushitic_array = global.somali }
	add_to_array = { global.cushitic_array = global.afar }
	
	add_to_array = { global.ethiopian_semitic_array = global.amharic }
	add_to_array = { global.ethiopian_semitic_array = global.tigrinyan }
	add_to_array = { global.ethiopian_semitic_array = global.tigre }
	
}

madagascar_culture_setup = {
	set_variable = { global.sakalava = 391 }
	set_variable = { global.tsimihety = 392 }
	set_variable = { global.betsimisaraka = 393 }
	
	add_to_array = { global.malagasy_array = global.sakalava }
	add_to_array = { global.malagasy_array = global.tsimihety }
	add_to_array = { global.malagasy_array = global.betsimisaraka }
	
}

austronesian_culture_setup = {
	set_variable = { global.maori = 394 }
	set_variable = { global.samoan = 395 }
	set_variable = { global.tahitian = 396 }
	set_variable = { global.hawaiian = 397 }
	set_variable = { global.polynesian = 398 }
	set_variable = { global.melanesia = 399 }
	set_variable = { global.micronesian = 400 }
	set_variable = { global.greater_pama-nyungan = 401 }
	set_variable = { global.arnham = 402 }
	set_variable = { global.worrorran = 403 }
	set_variable = { global.mirndi = 404 }
	
	add_to_array = { global.polynesian_array = global.maori }
	add_to_array = { global.polynesian_array = global.samoan }
	add_to_array = { global.polynesian_array = global.tahitian }
	add_to_array = { global.polynesian_array = global.hawaiian }
	add_to_array = { global.polynesian_array = global.polynesian }
	add_to_array = { global.polynesian_array = global.melanesia }
	add_to_array = { global.polynesian_array = global.micronesian }
	
	add_to_array = { global.aborigine_array = global.greater_pama-nyungan }
	add_to_array = { global.aborigine_array = global.arnham }
	add_to_array = { global.aborigine_array = global.worrorran }
	add_to_array = { global.aborigine_array = global.mirndi }
	
}

colonial_culture_setup = {
	set_variable = { global.canadian = 405 }
	set_variable = { global.australian = 406 }
	set_variable = { global.new_zealander = 407 }
	set_variable = { global.south_african = 408 }
	set_variable = { global.californian = 409 }
	set_variable = { global.dixie = 410 }
	set_variable = { global.louisianian = 411 }
	set_variable = { global.texan = 412 }
	set_variable = { global.yankee = 413 }
	set_variable = { global.alaskan = 414 }
	set_variable = { global.mormon_culture = 447 }
	set_variable = { global.cascadian = 446 }
	set_variable = { global.midwesterner = 448 }
	set_variable = { global.newyorker = 449 }
	set_variable = { global.quebecois = 415 }
	set_variable = { global.originaires = 416 }
	set_variable = { global.afro-american = 417 }
	set_variable = { global.afro-caribbean = 418 }
	set_variable = { global.afro-brazilian = 419 }
	set_variable = { global.afro-caribeno = 420 }
		
	add_to_array = { global.anglo_array = global.australian }
	add_to_array = { global.anglo_array = global.new_zealander }
	add_to_array = { global.anglo_array = global.south_african }
	
	add_to_array = { global.anglo_american_array = global.canadian }
	add_to_array = { global.anglo_american_array = global.californian }
	add_to_array = { global.anglo_american_array = global.dixie }
	add_to_array = { global.anglo_american_array = global.louisianian }
	add_to_array = { global.anglo_american_array = global.texan }
	add_to_array = { global.anglo_american_array = global.yankee }
	add_to_array = { global.anglo_american_array = global.alaskan }
	add_to_array = { global.anglo_american_array = global.mormon_culture }
	add_to_array = { global.anglo_american_array = global.cascadian }
	add_to_array = { global.anglo_american_array = global.midwesterner }
	add_to_array = { global.anglo_american_array = global.newyorker }
	
	add_to_array = { global.francophone_array = global.quebecois }
	add_to_array = { global.francophone_array = global.originaires }
	
	add_to_array = { global.african_american_array = global.afro-american }
	add_to_array = { global.african_american_array = global.afro-caribbean }
	add_to_array = { global.african_american_array = global.afro-brazilian }
	add_to_array = { global.african_american_array = global.afro-caribeno }
	
}

latin_american_culture_setup = {
	set_variable = { global.brazilian = 421 }
	set_variable = { global.northern_andean = 422 }
	set_variable = { global.caribeno = 423 }
	set_variable = { global.central_american = 424 }
	set_variable = { global.chilean = 425 }
	set_variable = { global.andean = 426 }
	set_variable = { global.mexican = 427 }
	set_variable = { global.paraguayan = 428 }
	set_variable = { global.platine = 429 }
		
	add_to_array = { global.latino_array = global.brazilian }
	add_to_array = { global.latino_array = global.northern_andean }
	add_to_array = { global.latino_array = global.caribeno }
	add_to_array = { global.latino_array = global.central_american }
	add_to_array = { global.latino_array = global.chilean }
	add_to_array = { global.latino_array = global.andean }
	add_to_array = { global.latino_array = global.mexican }
	add_to_array = { global.latino_array = global.paraguayan }
	add_to_array = { global.latino_array = global.platine }
	
}

native_american_culture_setup = {
	set_variable = { global.iroquoian = 430 }
	set_variable = { global.native_gulf = 431 }
	set_variable = { global.salish = 432 }
	set_variable = { global.inuit = 433 }
	set_variable = { global.navajo = 434 }
	set_variable = { global.pueblo = 435 }
	set_variable = { global.aimara = 436 }
	set_variable = { global.tupi = 437 }
	set_variable = { global.guarani = 438 }
	set_variable = { global.mayan = 439 }
	set_variable = { global.metis = 440 }
	set_variable = { global.nahua = 441 }
	set_variable = { global.patagonian = 442 }
	set_variable = { global.quechua = 443 }
	set_variable = { global.tupinamba = 444 }
	set_variable = { global.amazonian = 445 }
	set_variable = { global.basin = 450 }
	set_variable = { global.algonquin = 451 }
	set_variable = { global.sioux = 452 }
	set_variable = { global.athapaskan = 453 }
	set_variable = { global.penutian = 454 }
	set_variable = { global.cherokee = 455 }
	
		
	add_to_array = { global.northern_american_array = global.iroquoian }#
	add_to_array = { global.northern_american_array = global.native_gulf }#
	add_to_array = { global.northern_american_array = global.salish }#
	add_to_array = { global.northern_american_array = global.inuit }#
	add_to_array = { global.northern_american_array = global.navajo }#
	add_to_array = { global.northern_american_array = global.pueblo }#
	add_to_array = { global.northern_american_array = global.nahua }#aztec
	add_to_array = { global.northern_american_array = global.basin }#
	add_to_array = { global.northern_american_array = global.algonquin }#
	add_to_array = { global.northern_american_array = global.sioux }#
	add_to_array = { global.northern_american_array = global.athapaskan }#
	add_to_array = { global.northern_american_array = global.penutian }#
	add_to_array = { global.northern_american_array = global.cherokee }#
	
	add_to_array = { global.southern_american_array = global.aimara }
	add_to_array = { global.southern_american_array = global.tupi }
	add_to_array = { global.southern_american_array = global.guarani }
	add_to_array = { global.southern_american_array = global.mayan }
	add_to_array = { global.southern_american_array = global.metis }
	add_to_array = { global.southern_american_array = global.nahua }
	add_to_array = { global.southern_american_array = global.patagonian }
	add_to_array = { global.southern_american_array = global.quechua }
	add_to_array = { global.southern_american_array = global.tupinamba }
	add_to_array = { global.southern_american_array = global.amazonian }
	
}


religion_setup = {
    set_variable = { global.orthodoxy = 1 }
	set_variable = { global.catholicism = 2 }
	set_variable = { global.protestant = 3 }
	set_variable = { global.coptic = 4 }
	set_variable = { global.mormon = 5 }
	set_variable = { global.taiping = 6 }
	set_variable = { global.jewish = 7 }
	set_variable = { global.sunni = 8 }
	set_variable = { global.shiite = 9 }
	set_variable = { global.ibadi = 10 }
	set_variable = { global.mahayana = 11 }
	set_variable = { global.gelugpa = 12 }
	set_variable = { global.theravada = 13 }
	set_variable = { global.confucian = 14 }
	set_variable = { global.shinto = 15 }
	set_variable = { global.taoism = 16 }
	set_variable = { global.yazidi = 17 }
	set_variable = { global.hindu = 18 }
	set_variable = { global.sikh = 19 }
	set_variable = { global.animist = 20 }	
	set_variable = { global.pagan = 21 }	
	set_variable = { global.shamanism = 22 }	
	set_variable = { global.secular = 23 }	
	set_variable = { global.atheist = 24 }	
}

countries_culture_religion_setup = {
	AUS = {
		add_to_array = { national_culture_array = global.austro_bavarian }
		add_to_array = { national_religion_array = global.catholicism }
	}
	PRS = {
        add_to_array = { national_culture_array = global.branderburg-prussian }
		add_to_array = { national_religion_array = global.protestant }
	}
	BAV = {
		add_to_array = { national_culture_array = global.austro_bavarian }
		add_to_array = { national_religion_array = global.catholicism }			
	}
	WUR = {
		add_to_array = { national_culture_array = global.swabian }
		add_to_array = { national_religion_array = global.protestant }
        add_to_array = { national_religion_array = global.catholicism }	
	}
	BAD = {
		add_to_array = { national_culture_array = global.alemmanic }
		add_to_array = { national_religion_array = global.protestant }
        add_to_array = { national_religion_array = global.catholicism }						
	}
	THU = {
		add_to_array = { national_culture_array = global.saxon }
		add_to_array = { national_religion_array = global.protestant }				
	}
	ENG = { 
		add_to_array = { national_culture_array = global.english }
		add_to_array = { national_religion_array = global.protestant }				
	}
}

update_culture_pops = {
    #Run at country scope
    #Updates the population of each culture at the national level
    clear_array = national_culture_array_2_population
    for_each_loop = {
        array = national_culture_array_2
        add_to_array = { national_culture_array_2_population = 0 }
    }
    every_owned_state = {
        for_each_loop = {
            array = state_culture_array
            index = i
            value = v
            for_each_loop = {
                array = PREV.national_culture_array_2
                index = ii
                value = vv
                break = bb
                if = {
                    limit = {
                        check_variable = { v = vv }
                    }
                    add_to_variable = { PREV.national_culture_array_2_population^ii = state_culture_array_pop^i }
                    set_temp_variable = { bb = 1 }
                }
            }
        }
    }
}

update_percentage_pop_culture = {
   clear_array = national_culture_array_2_population_2 
    for_each_loop = {
        array = national_culture_array_2_population 
        index = ii
        value = vv
		break = bb

		set_temp_variable = { max_manpower_k_temp = ROOT.max_manpower_k }
		
		divide_temp_variable = { vv = max_manpower_k_temp }
		
		add_to_array = { national_culture_array_2_percentage = vv }
		#set_temp_variable = { b = 1 }
    }
	set_temp_variable = { length_temp = national_culture_array_2_percentage^num }
    for_loop_effect = {
        start = 0
        end = length_temp
        add = 1
        value = v
        break = b
		
		
        find_highest_in_array = {
            array = national_culture_array_2_percentage
            value = v
            index = ii
        }
        remove_from_array = {
            array = national_culture_array_2_percentage
            index = ii
        }
        add_to_temp_array = { 
            array = national_culture_array_2_percentage_temp  
            value = v
        }
        set_temp_variable = { national_culture_array_2_population_temp_var = national_culture_array_2_population^ii }
		set_temp_variable = { national_culture_array_2_temp_var = national_culture_array_2^ii }
        remove_from_array = {
            array = national_culture_array_2_population
            index = ii
        }
        remove_from_array = {
            array = national_culture_array_2
            index = ii
        }
        add_to_temp_array = { 
            array = national_culture_array_2_population_temp  
            value = national_culture_array_2_population_temp_var
        }
        add_to_temp_array = { 
            array = national_culture_array_2_temp  
            value = national_culture_array_2_temp_var
        }
    }
    for_loop_effect = {
        start = 0
        end = length_temp
        add = 1
        value = v
        break = b
		
        add_to_array = { 
            array = national_culture_array_2_percentage
            value = national_culture_array_2_percentage_temp^v
        }
        add_to_array = { 
            array = national_culture_array_2_population
            value = national_culture_array_2_population_temp^v 
        }
        add_to_array = { 
            array = national_culture_array_2
            value = national_culture_array_2_temp^v 
        }
    }
    for_each_loop = {
        array = national_culture_array_2_population 
        index = i
        value = v
		break = b

		if = {
		    limit = {
			    check_variable = { national_culture_array_2_population^i > 1000 }
			}
			add_to_array = {
			    array = national_culture_array_2_population_2
				index = i 
				value = v
			}
			multiply_variable = { national_culture_array_2_population_2^i = 0.001 }
		}
		#set_temp_variable = { b = 1 }
    }
}

update_religion_pops = {
    #Run at country scope
    #Updates the population of each religion at the national level
    clear_array = national_religion_array_2_population
    for_each_loop = {
        array = national_religion_array_2
        add_to_array = { national_religion_array_2_population = 0 }
    }
    every_owned_state = {
        for_each_loop = {
            array = state_religion_array
            index = i
            value = v
            for_each_loop = {
                array = PREV.national_religion_array_2
                index = ii
                value = vv
                break = bb
                if = {
                    limit = {
                        check_variable = { v = vv }
                    }
                    add_to_variable = { PREV.national_religion_array_2_population^ii = state_religion_array_pop^i }
                    set_temp_variable = { bb = 1 }
                }
            }
        }
    }
}

update_percentage_pop_religion = {
   clear_array = national_religion_array_2_population_2 
    for_each_loop = {
        array = national_religion_array_2_population 
        index = ii
        value = vv
		break = bb

		set_temp_variable = { max_manpower_k_temp = ROOT.max_manpower_k }
		
		divide_temp_variable = { vv = max_manpower_k_temp }
		
		add_to_array = { national_religion_array_2_percentage = vv }
		#set_temp_variable = { b = 1 }
    }
	set_temp_variable = { length_temp = national_religion_array_2_percentage^num }
    for_loop_effect = {
        start = 0
        end = length_temp
        add = 1
        value = v
        break = b
		
		
        find_highest_in_array = {
            array = national_religion_array_2_percentage
            value = v
            index = ii
        }
        remove_from_array = {
            array = national_religion_array_2_percentage
            index = ii
        }
        add_to_temp_array = { 
            array = national_religion_array_2_percentage_temp  
            value = v
        }
        set_temp_variable = { national_religion_array_2_population_temp_var = national_religion_array_2_population^ii }
		set_temp_variable = { national_religion_array_2_temp_var = national_religion_array_2^ii }
        remove_from_array = {
            array = national_religion_array_2_population
            index = ii
        }
        remove_from_array = {
            array = national_religion_array_2
            index = ii
        }
        add_to_temp_array = { 
            array = national_religion_array_2_population_temp  
            value = national_religion_array_2_population_temp_var
        }
        add_to_temp_array = { 
            array = national_religion_array_2_temp  
            value = national_religion_array_2_temp_var
        }
    }
    for_loop_effect = {
        start = 0
        end = length_temp
        add = 1
        value = v
        break = b
		
        add_to_array = { 
            array = national_religion_array_2_percentage
            value = national_religion_array_2_percentage_temp^v
        }
        add_to_array = { 
            array = national_religion_array_2_population
            value = national_religion_array_2_population_temp^v 
        }
        add_to_array = { 
            array = national_religion_array_2
            value = national_religion_array_2_temp^v 
        }
    }
    for_each_loop = {
        array = national_religion_array_2_population 
        index = i
        value = v
		break = b

		if = {
		    limit = {
			    check_variable = { national_religion_array_2_population^i > 1000 }
			}
			add_to_array = {
			    array = national_religion_array_2_population_2
				index = i 
				value = v
			}
			multiply_variable = { national_religion_array_2_population_2^i = 0.001 }
		}
		#set_temp_variable = { b = 1 }
    }
}

update_culture_unrest = {
    for_each_loop = {
        array = national_culture_array_2
							
		if = {
			limit = {
				NOT = { has_variable = national_culture_array_2_unrest^i }
			}
            add_to_array = { national_culture_array_2_unrest = 0.5 }
		}
		# if = {
			# limit = {
				# NOT = { is_in_array = { national_culture_array = national_culture_array_2_percentage^i } } 
				# check_variable = { national_culture_array_2_percentage^i > 0.5 }
				# check_variable = { ROOT.pol_stability < 1 }
			# }
			# add_to_temp_variable = { national_culture_array_2_unrest_temp =  0.05 }
		# }
		# if = {
			# limit = {
				# NOT = { is_in_array = { national_culture_array = national_culture_array_2_percentage^i } } 
				# check_variable = { national_culture_array_2_percentage^i > 0.35 }
				# check_variable = { national_culture_array_2_percentage^i < 0.5 }
				# check_variable = { ROOT.pol_stability < 1 }
			# }
				# add_to_temp_variable = { national_culture_array_2_unrest_temp =  0.04 }
		# }
		# if = {
			# limit = {
				# NOT = { is_in_array = { national_culture_array = national_culture_array_2_percentage^i } } 
				# check_variable = { national_culture_array_2_percentage^i > 0.25 }
				# check_variable = { national_culture_array_2_percentage^i < 0.35 }
				# check_variable = { ROOT.pol_stability < 1 }
			# }
				# add_to_temp_variable = { national_culture_array_2_unrest_temp =  0.03 }
		# }
		# if = {
			# limit = {
				# NOT = { is_in_array = { national_culture_array = national_culture_array_2_percentage^i } } 
				# check_variable = { national_culture_array_2_percentage^i > 0.15 }
                # check_variable = { national_culture_array_2_percentage^i < 0.25 }
				# check_variable = { ROOT.pol_stability < 1 }
			# }
			# add_to_temp_variable = { national_culture_array_2_unrest_temp =  0.02 }
		# }
		# if = {
			# limit = {
				# NOT = { is_in_array = { national_culture_array = national_culture_array_2_percentage^i } } 
				# check_variable = { national_culture_array_2_percentage^i < 0.15 }
				# check_variable = { ROOT.pol_stability < 1 }
			# }
			# add_to_temp_variable = { national_culture_array_2_unrest_temp =  0.01 }
		# }
		# if = {
			# limit = { 
				# check_variable = { national_culture_array_2^i = national_culture_array^0 }
			# }
			# set_temp_variable = { national_culture_array_2_unrest_temp = 0 }
		# }
		# add_to_variable = { 
            # variable = national_culture_array_2_unrest^i
		    # value = national_culture_array_2_unrest_temp 
		# }
    }
}

d_check_culture = {
	set_temp_variable = { amount = 0 }
	every_state = {
		limit = {
			check_variable = { state_culture_array^num > 0 }
		}
		set_temp_variable = { cult_total = 0 }
		set_temp_variable = { previous = 1.0 }
		set_temp_variable = { check = 0 }
		set_temp_variable = { check2 = 0 }
		for_each_loop = {
			array = state_culture_array_num
			value = v
			add_to_temp_variable = { cult_total = v }
			if = {
				limit = {
					check_variable = { previous < v }
				}
				set_temp_variable = { check = 1 }
			}
			set_temp_variable = { previous = v }
		}
		for_each_loop = {
			array = state_culture_array
			value = v
			if = {
				limit = {
					check_variable = { v > 455 }					# MAKE SURE TO UPDATE THIS WHEN ADDING NEW CULTURES
				}
				set_temp_variable = { check2 = 1 }
			}
		}
		if = {
			limit = {
				NOT = {
					check_variable = { cult_total = 1.00 }
				}
			}
			add_to_temp_variable = { amount = 1 }
			log = "Culture error found at state [THIS.GetID]. The total is equal to [?cult_total], not 1."
		}
		if = {
			limit = {
				check_variable = { check = 1 }
			}
			add_to_temp_variable = { amount = 1 }
			log = "Culture error found at state [THIS.GetID]. The cultures are not in descending order."
		}
		if = {
			limit = {
				check_variable = { check2 = 1 }
			}
			add_to_temp_variable = { amount = 1 }
			log = "Culture error found at state [THIS.GetID]. Unknown culture(s) found. If it's an existing culture, please update the console command."
		}
		if = {
			limit = {
				NOT = {
					check_variable = { state_culture_array^num = state_culture_array_num^num }
				}
			}
			add_to_temp_variable = { amount = 1 }
			log = "Culture error found at state [THIS.GetID]. Amount of cultures does not correspond to the numbers of cultures."
		}
		add_to_temp_array = {
			array = temp_state_array
			value = THIS
		}
	}
	log = "Culture error checking finished. Total amount of errors within states: [?amount]"
	set_temp_variable = { amount = 0 }
	for_each_scope_loop = {
		array = temp_state_array
		set_temp_variable = { check = 0 }
		for_each_scope_loop = {
			array = temp_state_array
			break = temp_break
			if = {
				limit = {
					NOT = {
						state = PREV
					}
					OR = {
						distance_to = {
							value < 1000
							target = PREV
						}
						any_neighbor_state = {
							state = PREV.PREV
						}
					}
				}
				for_each_loop = {
					array = PREV.state_culture_array
					value = v
					break = temp_break_2
					if = {
						limit = {
							is_in_array = {
								array = THIS.state_culture_array
								value = v
							}
						}
						set_temp_variable = { check = 1 }
						set_temp_variable = { temp_break = 1 }
						set_temp_variable = { temp_break_2 = 1 }
					}
				}
			}
		}
		if = {
			limit = {
				check_variable = { check = 0 }
			}
			add_to_temp_variable = { amount = 1 }
			log = "Culture warning found at state [THIS.GetID]: Isolated from any other states with the same culture."
		}
	}
	log = "Culture warning checking finished. Total amount of warnings within states: [?amount]"
}
d_check_religion = {
	set_temp_variable = { amount = 0 }
	every_state = {
		limit = {
			check_variable = { state_religion_array^num > 0 }
		}
		set_temp_variable = { rel_total = 0 }
		set_temp_variable = { previous = 1.0 }
		set_temp_variable = { check = 0 }
		set_temp_variable = { check2 = 0 }
		for_each_loop = {
			array = state_religion_array_num
			value = v
			add_to_temp_variable = { rel_total = v }
			if = {
				limit = {
					check_variable = { previous < v }
				}
				set_temp_variable = { check = 1 }
			}
			set_temp_variable = { previous = v }
		}
		for_each_loop = {
			array = state_religion_array
			value = v
			if = {
				limit = {
					check_variable = { v > 24 }					# MAKE SURE TO UPDATE THIS WHEN ADDING NEW RELIGIONS
				}
				set_temp_variable = { check2 = 1 }
			}
		}
		if = {
			limit = {
				NOT = {
					check_variable = { rel_total = 1.00 }
				}
			}
			add_to_temp_variable = { amount = 1 }
			log = "Religion error found at state [THIS.GetID]. The total is equal to [?rel_total], not 1."
		}
		if = {
			limit = {
				check_variable = { check = 1 }
			}
			add_to_temp_variable = { amount = 1 }
			log = "Religion error found at state [THIS.GetID]. The religions are not in descending order."
		}
		if = {
			limit = {
				check_variable = { check2 = 1 }
			}
			add_to_temp_variable = { amount = 1 }
			log = "Religion error found at state [THIS.GetID]. Unknown religion found. If it's an existing religion, please update the console command."
		}
		if = {
			limit = {
				NOT = {
					check_variable = { state_religion_array^num = state_religion_array_num^num }
				}
			}
			add_to_temp_variable = { amount = 1 }
			log = "Religion error found at state [THIS.GetID]. Amount of religions does not correspond to the numbers of religions."
		}
		add_to_temp_array = {
			array = temp_state_array
			value = THIS
		}
	}
	log = "Religion error checking finished. Total amount of errors within states: [?amount]" 
	set_temp_variable = { amount = 0 }
	for_each_scope_loop = {
		array = temp_state_array
		set_temp_variable = { check = 0 }
		for_each_scope_loop = {
			array = temp_state_array
			break = temp_break
			if = {
				limit = {
					NOT = {
						state = PREV
					}
					OR = {
						distance_to = {
							value < 1000
							target = PREV
						}
						any_neighbor_state = {
							state = PREV.PREV
						}
					}
				}
				for_each_loop = {
					array = PREV.state_religion_array
					value = v
					break = temp_break_2
					if = {
						limit = {
							is_in_array = {
								array = THIS.state_religion_array
								value = v
							}
						}
						set_temp_variable = { check = 1 }
						set_temp_variable = { temp_break = 1 }
						set_temp_variable = { temp_break_2 = 1 }
					}
				}
			}
		}
		if = {
			limit = {
				check_variable = { check = 0 }
			}
			add_to_temp_variable = { amount = 1 }
			log = "Religion warning found at state [THIS.GetID]: Isolated from any other states with the same religion."
		}
	}
	log = "Religion warning checking finished. Total amount of warnings within states: [?amount]"
}

####Strats Sort####

pops_normalize_culture = {
	#Get the total percentage
	set_temp_variable = { total_percentage_temp = 0 }
	for_each_loop = {
		array = state_culture_array
		index = rr
	
		add_to_variable = { state_culture_array_num^rr = 0.001 }
        add_to_temp_variable = { total_percentage_temp = state_culture_array_num^rr }
	}
	if = {
		limit = {
			#If the total percentage !=1, then normalize it
			#If it does equal one, then there's no need to
			NOT = { check_variable = { total_percentage_temp = 1 } }
		}

		#Normalize, then get total percentage
		set_temp_variable = { total_percentage_2_temp = 0 }
		for_each_loop = {
			array = state_culture_array
			index = rr

			divide_variable = { state_culture_array_num^rr = total_percentage_temp }
			add_to_temp_variable = { total_percentage_2_temp = state_culture_array_num^rr }
		}

		if = {
			limit = {
			#If the total percentage still !=1, then adjust the largest to fit
			#If it does equal one, then there's no need to
				NOT = { check_variable = { total_percentage_2_temp = 1 } }
			}

			#Adjust largest culture
			set_temp_variable = { adjust_temp = 1 }
			subtract_from_temp_variable = { adjust_temp = total_percentage_2_temp }
			add_to_variable = { state_culture_array_num^0 = adjust_temp }
		}

		pops_sort_culture = yes #Sorts it and also sets the amount correctly
    }
}

pops_increase_culture = {
	#Input: type_temp (temp, integer), percentage_temp (temp, positive)
	#Adds a % of support to a culture, then normalizes & sorts it 

	#Technical: Looks through the culture array, finds the index with the same culture type, adds the percentage. 
	#            If the culture isn't there, then it adds it. Finally, it calls the normalize scripted effect
	if = {
		limit = {
			check_variable = { type_temp > 0 }
			check_variable = { percentage_temp > 0 }
		}
		for_each_loop = {
			array = state_culture_array
			index = ii
			value = vv
			break = change_culture_break

			if = {
				limit = {
					check_variable = { vv = type_temp }
				}
				add_to_variable = { state_culture_array_num^ii = percentage_temp }

				set_temp_variable = { change_culture_break = 1 }
			}
		}
		if = {
			limit = {
				NOT = { check_variable = { change_culture_break = 1 } }
			}
			add_to_array = { state_culture_array = type_temp }
			add_to_array = { state_culture_array_num = percentage_temp }
			#add_to_array = { pops_culture_amount = 0 }
		}
		pops_normalize_culture = yes
	}
}
pops_decrease_culture = {
	#Input: type_temp (temp, integer), percentage_temp (temp, positive)
	#Subtracts a % of support from a culture, then normalizes & sorts it 

	#Technical: Looks through the culture array, finds the index with the same culture type, subtracts the percentage. 
	#            If the culture isn't there, nothing happens. If the support becomes 0 or negative, it is removed. 
	#            Finally, it calls the normalize scripted effect
            
	if = {
		limit = {
			check_variable = { type_temp > 0 }
			check_variable = { percentage_temp > 0 }
		}
		for_each_loop = {
			array = state_culture_array
			index = ii
			value = vv
			break = change_culture_break

			if = {
				limit = {
					check_variable = { vv = type_temp }
				}
				subtract_from_variable = { state_culture_array_num^ii = percentage_temp }

				set_temp_variable = { change_culture_break = 1 }
			}
		}
		if = {
			limit = {
				check_variable = { change_culture_break = 1 }
				NOT = { check_variable = { state_culture_array_num^ii > 0 } }
			}
			remove_from_array = {
				array = state_culture_array
				index = ii
			}
			remove_from_array = {
				array = state_culture_array_num
				index = ii
			}
		}
		pops_normalize_culture = yes
	}
}

pops_sort_culture = {
	#Note: First index is the largest, last index is the smallest
	clear_temp_array = pops_culture_type_temp
	clear_temp_array = pops_culture_percentage_temp

	add_to_temp_array = { pops_culture_type_temp = state_culture_array^0 }
	add_to_temp_array = { pops_culture_percentage_temp = state_culture_array_num^0 }

	#I don't sort amount b/c it's unnecessary as it gets set at the end


	for_loop_effect = {
		start = 1
		end = state_culture_array^num
		value = vv
				
		set_temp_variable = { vvv = pops_culture_percentage_temp^num }
		subtract_from_temp_variable = { vvv = 1 }
		while_loop_effect = {
			limit = {
				NOT = { check_variable = { vvv < 0 } }
			}
			break = sort_break
			if = {
				limit = {
					check_variable = { pops_culture_percentage_temp^vvv > state_culture_array_num^vv }
				}
				add_to_temp_variable = { vvv = 1 }
				add_to_temp_array = {
					array = pops_culture_type_temp
					value = state_culture_array^vv
					index = vvv
				}
				add_to_temp_array = {
					array = pops_culture_percentage_temp
					value = state_culture_array_num^vv
					index = vvv
				}
				set_temp_variable = { sort_break = 1 }
			}

			subtract_from_temp_variable = { vvv = 1 }
		}
		if = {
			limit = {
				check_variable = { vvv < 0 }
			}
			add_to_temp_array = {
				array = pops_culture_type_temp
				value = state_culture_array^vv
				index = 0
			}
			add_to_temp_array = {
				array = pops_culture_percentage_temp
				value = state_culture_array_num^vv
				index = 0
			}
		}
	}

	#Reinsert the data into the actual arrays
	clear_array = state_culture_array
	clear_array = state_culture_array_num
	for_each_loop = {
		array = pops_culture_type_temp
		index = ii
		if={		
			limit={
				check_variable = { pops_culture_percentage_temp^ii > 0 }
			}
			add_to_array = { state_culture_array = pops_culture_type_temp^ii }
			add_to_array = { state_culture_array_num = pops_culture_percentage_temp^ii }
		}
	}

	#pops_update_culture_amount = yes #Update the culture amount
}

##religion sorts

pops_normalize_religion = {
	#Get the total percentage
	set_temp_variable = { total_percentage_temp = 0 }
	for_each_loop = {
		array = state_religion_array
		index = rr
	
		add_to_variable = { state_religion_array_num^rr = 0.001 }
        add_to_temp_variable = { total_percentage_temp = state_religion_array_num^rr }
	}
	if = {
		limit = {
			#If the total percentage !=1, then normalize it
			#If it does equal one, then there's no need to
			NOT = { check_variable = { total_percentage_temp = 1 } }
		}

		#Normalize, then get total percentage
		set_temp_variable = { total_percentage_2_temp = 0 }
		for_each_loop = {
			array = state_religion_array
			index = rr

			divide_variable = { state_religion_array_num^rr = total_percentage_temp }
			add_to_temp_variable = { total_percentage_2_temp = state_religion_array_num^rr }
		}

		if = {
			limit = {
			#If the total percentage still !=1, then adjust the largest to fit
			#If it does equal one, then there's no need to
				NOT = { check_variable = { total_percentage_2_temp = 1 } }
			}

			#Adjust largest religion
			set_temp_variable = { adjust_temp = 1 }
			subtract_from_temp_variable = { adjust_temp = total_percentage_2_temp }
			add_to_variable = { state_religion_array_num^0 = adjust_temp }
		}

		pops_sort_religion = yes #Sorts it and also sets the amount correctly
    }
}

pops_increase_religion = {
	#Input: type_temp (temp, integer), percentage_temp (temp, positive)
	#Adds a % of support to a religion, then normalizes & sorts it 

	#Technical: Looks through the religion array, finds the index with the same religion type, adds the percentage. 
	#            If the religion isn't there, then it adds it. Finally, it calls the normalize scripted effect
	if = {
		limit = {
			check_variable = { type_temp > 0 }
			check_variable = { percentage_temp > 0 }
		}
		for_each_loop = {
			array = state_religion_array
			index = ii
			value = vv
			break = change_religion_break

			if = {
				limit = {
					check_variable = { vv = type_temp }
				}
				add_to_variable = { state_religion_array_num^ii = percentage_temp }

				set_temp_variable = { change_religion_break = 1 }
			}
		}
		if = {
			limit = {
				NOT = { check_variable = { change_religion_break = 1 } }
			}
			add_to_array = { state_religion_array = type_temp }
			add_to_array = { state_religion_array_num = percentage_temp }
			#add_to_array = { pops_religion_amount = 0 }
		}
		pops_normalize_religion = yes
	}
}
pops_decrease_religion = {
	#Input: type_temp (temp, integer), percentage_temp (temp, positive)
	#Subtracts a % of support from a religion, then normalizes & sorts it 

	#Technical: Looks through the religion array, finds the index with the same religion type, subtracts the percentage. 
	#            If the religion isn't there, nothing happens. If the support becomes 0 or negative, it is removed. 
	#            Finally, it calls the normalize scripted effect
            
	if = {
		limit = {
			check_variable = { type_temp > 0 }
			check_variable = { percentage_temp > 0 }
		}
		for_each_loop = {
			array = state_religion_array
			index = ii
			value = vv
			break = change_religion_break

			if = {
				limit = {
					check_variable = { vv = type_temp }
				}
				subtract_from_variable = { state_religion_array_num^ii = percentage_temp }

				set_temp_variable = { change_religion_break = 1 }
			}
		}
		if = {
			limit = {
				check_variable = { change_religion_break = 1 }
				NOT = { check_variable = { state_religion_array_num^ii > 0 } }
			}
			remove_from_array = {
				array = state_religion_array
				index = ii
			}
			remove_from_array = {
				array = state_religion_array_num
				index = ii
			}
		}
		pops_normalize_religion = yes
	}
}

pops_sort_religion = {
	#Note: First index is the largest, last index is the smallest
	clear_temp_array = pops_religion_type_temp
	clear_temp_array = pops_religion_percentage_temp

	add_to_temp_array = { pops_religion_type_temp = state_religion_array^0 }
	add_to_temp_array = { pops_religion_percentage_temp = state_religion_array_num^0 }

	#I don't sort amount b/c it's unnecessary as it gets set at the end


	for_loop_effect = {
		start = 1
		end = state_religion_array^num
		value = vv
				
		set_temp_variable = { vvv = pops_religion_percentage_temp^num }
		subtract_from_temp_variable = { vvv = 1 }
		while_loop_effect = {
			limit = {
				NOT = { check_variable = { vvv < 0 } }
			}
			break = sort_break
			if = {
				limit = {
					check_variable = { pops_religion_percentage_temp^vvv > state_religion_array_num^vv }
				}
				add_to_temp_variable = { vvv = 1 }
				add_to_temp_array = {
					array = pops_religion_type_temp
					value = state_religion_array^vv
					index = vvv
				}
				add_to_temp_array = {
					array = pops_religion_percentage_temp
					value = state_religion_array_num^vv
					index = vvv
				}
				set_temp_variable = { sort_break = 1 }
			}

			subtract_from_temp_variable = { vvv = 1 }
		}
		if = {
			limit = {
				check_variable = { vvv < 0 }
			}
			add_to_temp_array = {
				array = pops_religion_type_temp
				value = state_religion_array^vv
				index = 0
			}
			add_to_temp_array = {
				array = pops_religion_percentage_temp
				value = state_religion_array_num^vv
				index = 0
			}
		}
	}

	#Reinsert the data into the actual arrays
	clear_array = state_religion_array
	clear_array = state_religion_array_num
	for_each_loop = {
		array = pops_religion_type_temp
		index = ii
		if={		
			limit={
				check_variable = { pops_religion_percentage_temp^ii > 0 }
			}
			add_to_array = { state_religion_array = pops_religion_type_temp^ii }
			add_to_array = { state_religion_array_num = pops_religion_percentage_temp^ii }
		}
	}

	#pops_update_religion_amount = yes #Update the religion amount
}